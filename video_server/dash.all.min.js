!function r(i,o,a){function s(n,e){if(!o[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t=o[n]={exports:{}};i[n][0].call(t.exports,function(e){var t=i[n][1][e];return s(t||e)},t,t.exports,r,i,o,a)}return o[n].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";var o,u,r,i={encode:function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):(r<2048?t.push(192|r>>6):(r<65536?t.push(224|r>>12):(t.push(240|r>>18),t.push(128|63&r>>12)),t.push(128|63&r>>6)),t.push(128|63&r))}return t},decode:function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?(r=(31&r)<<6,r|=63&e[n++]):r=r<240?(r=(15&r)<<12,(r|=(63&e[n++])<<6)|63&e[n++]):(r=(7&r)<<18,(r=(r|=(63&e[n++])<<12)|(63&e[n++])<<6)|63&e[n++])),t.push(String.fromCharCode(r))}return t.join("")}},l={};function c(e){for(var t=0,n=[],r=0|e.length/3;0<r--;){var i=(e[t]<<16)+(e[t+1]<<8)+e[t+2];t+=3,n.push(o.charAt(63&i>>18)),n.push(o.charAt(63&i>>12)),n.push(o.charAt(63&i>>6)),n.push(o.charAt(63&i))}return 2==e.length-t?(i=(e[t]<<16)+(e[t+1]<<8),n.push(o.charAt(63&i>>18)),n.push(o.charAt(63&i>>12)),n.push(o.charAt(63&i>>6)),n.push("=")):1==e.length-t&&(i=e[t]<<16,n.push(o.charAt(63&i>>18)),n.push(o.charAt(63&i>>12)),n.push("==")),n.join("")}function f(e){for(var t=0,n=[],r=0|e.length/4;0<r--;){var i=(u[e.charCodeAt(t)]<<18)+(u[e.charCodeAt(t+1)]<<12)+(u[e.charCodeAt(t+2)]<<6)+u[e.charCodeAt(t+3)];n.push(255&i>>16),n.push(255&i>>8),n.push(255&i),t+=4}return n&&("="==e.charAt(t-2)?(n.pop(),n.pop()):"="==e.charAt(t-1)&&n.pop()),n}o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=function(){for(var e=[],t=0;t<o.length;++t)e[o.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),r={encode:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},decode:function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")}},l.decodeArray=function(e){e=f(e);return new Uint8Array(e)},l.encodeASCII=function(e){e=r.encode(e);return c(e)},l.decodeASCII=function(e){e=f(e);return r.decode(e)},l.encode=function(e){e=i.encode(e);return c(e)},l.decode=function(e){e=f(e);return i.decode(e)},void 0!==n&&(n.decode=l.decode,n.decodeArray=l.decodeArray)},{}],2:[function(e,t,n){"use strict";n=void 0===n?(void 0).cea608parser={}:n;function a(e){var t=e;return f.hasOwnProperty(e)&&(t=f[e]),String.fromCharCode(t)}function s(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t}function u(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}function r(e,t,n,r,i,o){this.uchar=e||" ",this.penState=new u(t,n,r,i,o)}function i(){this.chars=[];for(var e=0;e<32;e++)this.chars.push(new r);this.pos=0,this.currPenState=new u}function o(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new i);this.currRow=14,this.nrRollUpRows=null,this.reset()}function l(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new o,this.nonDisplayedMemory=new o,this.lastOutputScreen=new o,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}function c(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new l(1,t),new l(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}var f={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},d={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},p={17:2,18:4,21:6,22:8,23:10,19:13,20:15},h={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},g={25:2,26:4,29:6,30:8,31:10,27:13,28:15},m=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],y={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}};u.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}},r.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}},i.prototype={equals:function(e){for(var t=!0,n=0;n<32;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(y.log("ERROR","Negative cursor position "+this.pos),this.pos=0):32<this.pos&&(y.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(e){var t=this.pos+e;if(1<e)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){144<=e&&this.backSpace();var t=a(e);32<=this.pos?y.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},clearFromPos:function(e){for(var t=e;t<32;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<32;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}},o.prototype={reset:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){y.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){y.log("INFO","pacData = "+JSON.stringify(e));var t,n=e.row-1,n=(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.currRow=n,this.rows[this.currRow]),n=(null!==e.indent&&(t=e.indent,t=Math.max(t-1,0),n.setCursor(e.indent),e.color=n.chars[t].penState.foreground),{foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1});this.setPen(n)},setBkgData:function(e){y.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){var e;null===this.nrRollUpRows?y.log("DEBUG","roll_up but nrRollUpRows not set yet"):(y.log("TEXT",this.getDisplayText()),e=this.currRow+1-this.nrRollUpRows,(e=this.rows.splice(e,1)[0]).clear(),this.rows.splice(this.currRow,0,e),y.log("INFO","Rolling up"))},getDisplayText:function(e){e=e||!1;for(var t=[],n="",r=0;r<15;r++){var i=this.rows[r].getTextString();i&&t.push(e?"Row "+(r+1)+': "'+i+'"':i.trim())}return n=0<t.length?e?"["+t.join(" | ")+"]":t.join("\n"):n},getTextAndFormat:function(){return this.rows}},l.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,y.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";y.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(y.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){y.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){y.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory)&&this.outputDataUpdate()},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){y.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){y.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){y.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){y.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){y.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){y.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){y.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){y.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){y.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){var e;y.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode&&(e=this.displayedMemory,this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,y.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())),this.outputDataUpdate()},cc_TO:function(e){y.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};t.underline=e%2==1,t.italics=46<=e,t.italics?t.foreground="white":(e=Math.floor(e/2)-16,t.foreground=["white","green","blue","cyan","red","yellow","magenta"][e]),y.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=y.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){!this.outputFilter||this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e)}},c.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,r=!1;this.lastTime=e,y.setTime(e);for(var i=0;i<t.length;i+=2){var o=127&t[i],a=127&t[i+1];0==o&&0==a?this.dataCounters.padding+=2:(y.log("DATA","["+s([t[i],t[i+1]])+"] -> ("+s([o,a])+")"),(n=(n=(n=(n=this.parseCmd(o,a))||this.parseMidrow(o,a))||this.parsePAC(o,a))||this.parseBackgroundAttributes(o,a))||(r=this.parseChars(o,a))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(r):y.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:r?this.dataCounters.char+=2:(this.dataCounters.other+=2,y.log("WARNING","Couldn't parse cleaned data "+s([o,a])+" orig: "+s([t[i],t[i+1]]))))}},parseCmd:function(e,t){var n,r=null;return((20===e||28===e)&&32<=t&&t<=47||(23===e||31===e)&&33<=t&&t<=35)&&(e===this.lastCmdA&&t===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,y.log("DEBUG","Repeated command ("+s([e,t])+") is dropped")):(n=this.channels[(r=20===e||23===e?1:2)-1],20===e||28===e?32===t?n.cc_RCL():33===t?n.cc_BS():34===t?n.cc_AOF():35===t?n.cc_AON():36===t?n.cc_DER():37===t?n.cc_RU(2):38===t?n.cc_RU(3):39===t?n.cc_RU(4):40===t?n.cc_FON():41===t?n.cc_RDC():42===t?n.cc_TR():43===t?n.cc_RTD():44===t?n.cc_EDM():45===t?n.cc_CR():46===t?n.cc_ENM():47===t&&n.cc_EOC():n.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r),!0)},parseMidrow:function(e,t){var n=null;return(17===e||25===e)&&32<=t&&t<=47&&((n=17===e?1:2)!==this.currChNr?(y.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].cc_MIDROW(t),y.log("DEBUG","MIDROW ("+s([e,t])+")"),!0))},parsePAC:function(e,t){var n,r=null;return((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127||(16===e||24===e)&&64<=t&&t<=95)&&(e===this.lastCmdA&&t===this.lastCmdB?(this.lastCmdA=null,!(this.lastCmdB=null)):(r=e<=23?1:2,n=this.interpretPAC((64<=t&&t<=95?1==r?d:h:1==r?p:g)[e],t),this.channels[r-1].setPAC(n),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0))},interpretPAC:function(e,t){var n=t,e={color:null,italics:!1,indent:null,underline:!1,row:e},n=95<t?t-96:t-64;return e.underline=1==(1&n),n<=13?e.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(e.italics=!0,e.color="white"):e.indent=4*Math.floor((n-16)/2),e},parseChars:function(e,t){var n,r=null,i=null,o=null;return 17<=(o=25<=e?(r=2,e-8):(r=1,e))&&o<=19?(n=t,y.log("INFO","Special char '"+a(n=17===o?t+80:18===o?t+112:t+144)+"' in channel "+r),i=[n]):32<=e&&e<=127&&(i=0===t?[e]:[e,t]),i&&(o=s(i),y.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null),i},parseBackgroundAttributes:function(e,t){var n,r;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=m[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),this.channels[(e<24?1:2)-1].setBkgData(n),this.lastCmdA=null,!(this.lastCmdB=null))},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}},n.logger=y,n.PenState=u,n.CaptionScreen=o,n.Cea608Parser=c,n.findCea608Nalus=function(e,t,n){for(var r,i,o,a,s,u,l=t,c=[];l<t+n;){if(r=e.getUint32(l),6==(31&e.getUint8(l+4)))for(var f=l+5,d=-1;f<l+4+r-1;){for(var d=0,p=255;255===p;)d+=p=e.getUint8(f),f++;for(var h=0,p=255;255===p;)h+=p=e.getUint8(f),f++;o=h,a=e,s=f,u=void 0,(4!==(i=d)||o<8?null:(i=a.getUint8(s),o=a.getUint16(s+1),u=a.getUint32(s+3),a=a.getUint8(s+7),181==i&&49==o&&1195456820==u&&3==a))&&c.push([f,h]),f+=h}l+=r+4}return c},n.extractCea608DataFromRange=function(e,t){var n=t[0],r=[[],[]],i=31&e.getUint8(n+=8);n+=2;for(var o=0;o<i;o++){var a=e.getUint8(n),s=4&a,a=3&a,u=(n++,e.getUint8(n)),l=(n++,e.getUint8(n));n++,s&&(127&u)+(127&l)!=0&&(0==a?(r[0].push(u),r[0].push(l)):1==a&&(r[1].push(u),r[1].push(l)))}return r}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(l){for(var c=[],e=0,t=l.length;e<t;e+=1)l[e].isRoot?c.push("root"):c.push(l[e].name);function f(e,t){var n,r,i,o,a,s,u,l=e;if(null!==l.children&&0!==l.children.length)for(n=0,r=l.children.length;n<r;n+=1)if(s=l.children[n],t.hasOwnProperty(s.name))if(s.isArray)for(i=0,o=(a=t[s.name+"_asArray"]).length;i<o;i+=1)u=a[i],d(l.properties,t,u),f(s,u);else u=t[s.name],d(l.properties,t,u),f(s,u)}var d=function(e,t,n){var r,i,o,a,s;if(null!==e&&0!==e.length)for(r=0,i=e.length;r<i;r+=1)if(o=e[r],t.hasOwnProperty(o.name))if(n.hasOwnProperty(o.name)){if(o.merge)if(a=t[o.name],s=n[o.name],"object"==typeof a&&"object"==typeof s){c=void 0;var u=a,l=s;if(null!==u&&null!==l)for(var c in u)!u.hasOwnProperty(c)||l.hasOwnProperty(c)||(l[c]=u[c])}else null!=o.mergeFunction?n[o.name]=o.mergeFunction(a,s):n[o.name]=a+s}else n[o.name]=t[o.name]};return{run:function e(t){var n,r,i,o,a,s,u;if(null!==t&&"object"==typeof t){for(n=0,r=c.length;n<r;n+=1)"root"===c[n]&&(a=l[n],f(a,s=t));for(o in t)if(t.hasOwnProperty(o)&&"__children"!=o){if(-1!==(i=c.indexOf(o)))if((a=l[i]).isArray)for(n=0,r=(u=t[o+"_asArray"]).length;n<r;n+=1)s=u[n],f(a,s);else s=t[o],f(a,s);e(t[o])}}return t}}},t.exports=n.default},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(T,w,E){null==w&&(w="_"),null==E&&(E=!1);var x=!1,S=1,O=3,A=4,I=8,P=9;function D(e){var t=e.localName;return t=null!=(t=null==t?e.baseName:t)&&""!=t?t:e.nodeName}function i(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function o(e,t,n,r){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var o=0;o<n.length;o++){var a=n[o],s=e[a];i+=" "+a.substr(1)+"='"+s+"'"}return i+=r?"/>":">"}function a(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function s(e,t){return n=t.toString(),r="_asArray",-1!==n.indexOf(r,n.length-r.length)||0==t.toString().indexOf("_")||e[t]instanceof Function;var n,r}function u(e){var t=0;if(e instanceof Object)for(var n in e)s(e,n)||t++;return t}function l(e){var t=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf("_")&&t.push(n);return t}function c(e){var t,n,r="";return e instanceof Object?r+=(n="",null!=(t=e).__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(n+=x?i(t.__text):t.__text),n):null!=e&&(r+=x?i(e):e),r}function f(e){var t,n,r="";if(0<u(e))for(var i in e)s(e,i)||(n=l(t=e[i]),null==t?r+=o(t,i,n,!0):t instanceof Object?t instanceof Array?r+=function(e,t,n){var r="";if(0==e.length)r+=o(e,t,n,!0);else for(var i=0;i<e.length;i++)r=(r=(r+=o(e[i],t,l(e[i]),!1))+f(e[i]))+a(e[i],t);return r}(t,i,n):0<u(t)||null!=t.__text||null!=t.__cdata?r=(r=(r+=o(t,i,n,!1))+f(t))+a(t,i):r+=o(t,i,n,!0):r=(r=(r+=o(t,i,n,!1))+c(t))+a(t,i));return r+=c(e)}this.parseXmlString=function(e){var t,n,r;if(window.DOMParser){n=new window.DOMParser;try{r=n.parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){}try{t=n.parseFromString(e,"text/xml"),r&&t.getElementsByTagNameNS(r,"parsererror").length&&(t=void 0)}catch(e){}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.xml2json=function e(t){if(t.nodeType==P){for(var n=t.firstChild,r=0,i=t.childNodes.length;r<i;r+=1)if(t.childNodes[r].nodeType!==I){n=t.childNodes[r];break}E?o=e(n):(o={})[l=D(n)]=e(n)}else{if(t.nodeType!=S)return t.nodeType==O||t.nodeType==A?t.nodeValue:t.nodeType==I?null:void 0;(o=new Object).__cnt=0;for(var o,a=[],s=t.childNodes,u=0;u<s.length;u++){var l=D(n=s.item(u));if(o.__cnt++,null==o[l]){var c=e(n);"#text"==l&&!/[^\s]/.test(c)||((p={})[l]=c,a.push(p)),o[l]=c,o[l+"_asArray"]=new Array(1),o[l+"_asArray"][0]=o[l]}else{null==o[l]||o[l]instanceof Array||(f=o[l],o[l]=new Array,o[l][0]=f,o[l+"_asArray"]=o[l]);for(var f,d=0;null!=o[l][d];)d++;var p,c=e(n);"#text"==l&&!/[^\s]/.test(c)||((p={})[l]=c,a.push(p)),o[l][d]=c}}o.__children=a;for(var h=0;h<t.attributes.length;h++){for(var g=t.attributes.item(h),m=(o.__cnt++,g.value),y=0,v=T.length;y<v;y++){var _=T[y];_.test(g)&&(m=_.converter(g.value))}o[w+g.name]=m}var b=t.prefix;null!=b&&""!=b&&(o.__cnt++,o.__prefix=b),null!=(o=1==o.__cnt&&null!=o["#text"]?o["#text"]:o)["#text"]&&(o.__text=o["#text"],x&&(o.__text=o.__text.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")),delete o["#text"],delete o["#text_asArray"]),null!=o["#cdata-section"]&&(o.__cdata=o["#cdata-section"],delete o["#cdata-section"],delete o["#cdata-section_asArray"]),null==o.__text&&null==o.__cdata||(o.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")})}return o},this.xml_str2json=function(e){e=this.parseXmlString(e);return e?this.xml2json(e):void 0},this.json2xml_str=f,this.json2xml=function(e){e=this.json2xml_str(e);return this.parseXmlString(e)},this.getVersion=function(){return"1.0.11"},this.escapeMode=function(e){x=e}},t.exports=n.default},{}],5:[function(u,e,l){!function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(l,"__esModule",{value:!0});var n=t(u(245)),r=t(u(300)),i=t(u(269)),o=t(u(247)),a=u(205),e=window||e,s=e.dashjs;(s=s||(e.dashjs={})).MediaPlayer=n.default,s.Protection=r.default,s.MetricsReporting=i.default,s.MediaPlayerFactory=o.default,s.Version=(0,a.getVersionString)(),l.default=s,l.MediaPlayer=n.default,l.Protection=r.default,l.MetricsReporting=i.default,l.MediaPlayerFactory=o.default}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{205:205,245:245,247:247,269:269,300:300}],6:[function(t,e,n){!function(e){"use strict";if(t(196),t(200),e._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");e._babelPolyfill=!0}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{196:196,200:200}],7:[function(e,t,n){t.exports=e(6)},{6:6}],8:[function(e,t,n){t.exports=e(7)},{7:7}],9:[function(e,t,n){var r={parseBuffer:function(e){return new i(e).parse()},Utils:{}},i=(r.Utils.dataViewToString=function(e,t){t=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(t).decode(e);var n=[],r=0;if("utf-8"===t)for(;r<e.byteLength;){var i=e.getUint8(r++);i<128||(i<224?(i=(31&i)<<6,i|=63&e.getUint8(r++)):i=i<240?(i=(15&i)<<12,(i|=(63&e.getUint8(r++))<<6)|63&e.getUint8(r++)):(i=(7&i)<<18,(i=(i|=(63&e.getUint8(r++))<<12)|(63&e.getUint8(r++))<<6)|63&e.getUint8(r++))),n.push(String.fromCharCode(i))}else for(;r<e.byteLength;)n.push(String.fromCharCode(e.getUint8(r++)));return n.join("")},void 0!==n&&(n.parseBuffer=r.parseBuffer,n.Utils=r.Utils),r.Cursor=function(e){this.offset=void 0===e?0:e},function(e){this._raw=new DataView(e),this._cursor=new r.Cursor,this.boxes=[]}),o=(i.prototype.fetch=function(e){e=this.fetchAll(e,!0);return e.length?e[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){for(var r in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}},function(){this._cursor=new r.Cursor});o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root||e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.prototype._readInt=function(e){var t=null;switch(e){case 8:t=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:t=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4),t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t=null;switch(e){case 8:t=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:t=((n=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset))<<8)+(r=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2));break;case 32:t=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},o.prototype._readTerminatedString=function(){for(var e="";;){var t=this._readUint(8);if(0==t)break;e+=String.fromCharCode(t)}return e},o.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},o.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),"uuid"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}!this._incomplete&&this._boxParsers[this.type]&&this._boxParsers[this.type].call(this)}},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._boxParsers={},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(e){o.prototype._boxParsers[e]=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))}}),o.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=1;e<=this.entry_count;e++){var t={};1==this.version?(t.segment_duration=this._readUint(64),t.media_time=this._readInt(64)):(t.segment_duration=this._readUint(32),t.media_time=this._readInt(32)),t.media_rate_integer=this._readInt(16),t.media_rate_fraction=this._readInt(16),this.entries.push(t)}},o.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.free=o.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.ftyp=o.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_versions=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},o.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},o.prototype._boxParsers.mdat=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var e=this._readUint(16);this.pad=e>>15,this.language=String.fromCharCode(96+(e>>10&31),96+(e>>5&31),96+(31&e)),this.pre_defined=this._readUint(16)},o.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},o.prototype._boxParsers.mvhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.pre_defined=[];for(e=0;e<6;e++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},o.prototype._boxParsers.payl=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=r.Utils.dataViewToString(e)},o.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0==this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var e=0;e<this.reference_count;e++){var t={},n=this._readUint(32),n=(t.reference_type=n>>31&1,t.referenced_size=2147483647&n,t.subsegment_duration=this._readUint(32),this._readUint(32));t.starts_with_SAP=n>>31&1,t.SAP_type=n>>28&7,t.SAP_delta_time=268435455&n,this.references.push(t)}},o.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var e=0;e<this.subsegment_count;e++){var t={};t.ranges_count=this._readUint(32),t.ranges=[];for(var n=0;n<t.ranges_count;n++){var r={};r.level=this._readUint(8),r.range_size=this._readUint(24),t.ranges.push(r)}this.subsegments.push(t)}},o.prototype._boxParsers.tfdt=function(){this._parseFullBox(),1==this.version?this.baseMediaDecodeTime=this._readUint(64):this.baseMediaDecodeTime=this._readUint(32)},o.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},o.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.width=this._readUint(32),this.height=this._readUint(32)},o.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var e=0;e<this.sample_count;e++){var t={};256&this.flags&&(t.sample_duration=this._readUint(32)),512&this.flags&&(t.sample_size=this._readUint(32)),1024&this.flags&&(t.sample_flags=this._readUint(32)),2048&this.flags&&(0==this.version?t.sample_composition_time_offset=this._readUint(32):t.sample_composition_time_offset=this._readInt(32)),this.samples.push(t)}},o.prototype._boxParsers.vlab=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vttC=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vtte=function(){}},{}],10:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],11:[function(e,t,n){var r=e(91)("unscopables"),i=Array.prototype;null==i[r]&&e(39)(i,r,{}),t.exports=function(e){i[r][e]=!0}},{39:39,91:91}],12:[function(e,t,n){var r=e(46);t.exports=function(e){if(r(e))return e;throw TypeError(e+" is not an object!")}},{46:46}],13:[function(e,t,n){"use strict";var u=e(88),l=e(84),c=e(87);t.exports=[].copyWithin||function(e,t){var n=u(this),r=c(n.length),i=l(e,r),o=l(t,r),e=arguments,t=2<e.length?e[2]:void 0,a=Math.min((void 0===t?r:l(t,r))-o,r-i),s=1;for(o<i&&i<o+a&&(s=-1,o+=a-1,i+=a-1);0<a--;)o in n?n[i]=n[o]:delete n[i],i+=s,o+=s;return n}},{84:84,87:87,88:88}],14:[function(e,t,n){"use strict";var s=e(88),u=e(84),l=e(87);t.exports=[].fill||function(e){for(var t=s(this),n=l(t.length),r=arguments,i=r.length,o=u(1<i?r[1]:void 0,n),i=2<i?r[2]:void 0,a=void 0===i?n:u(i,n);o<a;)t[o++]=e;return t}},{84:84,87:87,88:88}],15:[function(e,t,n){var u=e(86),l=e(87),c=e(84);t.exports=function(s){return function(e,t,n){var r,i=u(e),o=l(i.length),a=c(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a;return!s&&-1}}},{84:84,86:86,87:87}],16:[function(e,t,n){var v=e(25),_=e(42),b=e(88),T=e(87),w=e(17);t.exports=function(f){var d=1==f,p=2==f,h=3==f,g=4==f,m=6==f,y=5==f||m;return function(e,t,n){for(var r,i,o=b(e),a=_(o),s=v(t,n,3),u=T(a.length),l=0,c=d?w(e,u):p?w(e,0):void 0;l<u;l++)if((y||l in a)&&(i=s(r=a[l],l,o),f))if(d)c[l]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return l;case 2:c.push(r)}else if(g)return!1;return m?-1:h||g?g:c}}},{17:17,25:25,42:42,87:87,88:88}],17:[function(e,t,n){var r=e(46),i=e(44),o=e(91)("species");t.exports=function(e,t){var n;return new(void 0===(n=i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)||(n=void 0),r(n))&&null===(n=n[o])?void 0:n)?Array:n)(t)}},{44:44,46:46,91:91}],18:[function(e,t,n){var r=e(19),i=e(91)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=(e=Object(e))[i])?t:o?r(e):"Object"==(t=r(e))&&"function"==typeof e.callee?"Arguments":t}},{19:19,91:91}],19:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],20:[function(e,t,n){"use strict";function o(e,t){if(!m(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!g(e,h)){if(!_(e))return"F";if(!t)return"E";r(e,h,++T)}return"O"+e[h]}function a(e,t){var n,r=o(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n}var s=e(54),r=e(39),u=e(68),l=e(25),c=e(77),f=e(26),d=e(35),i=e(50),p=e(52),h=e(90)("id"),g=e(38),m=e(46),y=e(73),v=e(27),_=Object.isExtensible||m,b=v?"_s":"size",T=0;t.exports={getConstructor:function(e,n,r,i){var o=e(function(e,t){c(e,o,n),e._i=s.create(null),e._f=void 0,e._l=void 0,e[b]=0,null!=t&&d(t,r,e[i],e)});return u(o.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[b]=0},delete:function(e){var t,n,r=this,e=a(r,e);return e&&(t=e.n,n=e.p,delete r._i[e.i],e.r=!0,n&&(n.n=t),t&&(t.p=n),r._f==e&&(r._f=t),r._l==e&&(r._l=n),r[b]--),!!e},forEach:function(e){for(var t,n=l(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!a(this,e)}}),v&&s.setDesc(o.prototype,"size",{get:function(){return f(this[b])}}),o},def:function(e,t,n){var r,i=a(e,t);return i?i.v=n:(e._l=i={i:r=o(t,!0),k:t,v:n,p:t=e._l,n:void 0,r:!1},e._f||(e._f=i),t&&(t.n=i),e[b]++,"F"!==r&&(e._i[r]=i)),e},getEntry:a,setStrong:function(e,t,n){i(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?p(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,p(1))},n?"entries":"values",!n,!0),y(t)}}},{25:25,26:26,27:27,35:35,38:38,39:39,46:46,50:50,52:52,54:54,68:68,73:73,77:77,90:90}],21:[function(e,t,n){var r=e(35),i=e(18);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");var e=[];return r(this,!1,e.push,e),e}}},{18:18,35:35}],22:[function(e,t,n){"use strict";function a(e){return e._l||(e._l=new r)}function r(){this.a=[]}function i(e,t){return m(e.a,function(e){return e[0]===t})}var o=e(39),s=e(68),u=e(12),l=e(46),c=e(77),f=e(35),d=e(16),p=e(38),h=e(90)("weak"),g=Object.isExtensible||l,m=d(5),y=d(6),v=0;r.prototype={get:function(e){e=i(this,e);if(e)return e[1]},has:function(e){return!!i(this,e)},set:function(e,t){var n=i(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(t){var e=y(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(e,n,r,i){var o=e(function(e,t){c(e,o,n),e._i=v++,e._l=void 0,null!=t&&f(t,r,e[i],e)});return s(o.prototype,{delete:function(e){return!!l(e)&&(g(e)?p(e,h)&&p(e[h],this._i)&&delete e[h][this._i]:a(this).delete(e))},has:function(e){return!!l(e)&&(g(e)?p(e,h)&&p(e[h],this._i):a(this).has(e))}}),o},def:function(e,t,n){return g(u(t))?(p(t,h)||o(t,h,{}),t[h][e._i]=n):a(e).set(t,n),e},frozenStore:a,WEAK:h}},{12:12,16:16,35:35,38:38,39:39,46:46,68:68,77:77,90:90}],23:[function(e,t,n){"use strict";var m=e(37),y=e(30),v=e(69),_=e(68),b=e(35),T=e(77),w=e(46),E=e(32),x=e(51),S=e(74);t.exports=function(n,e,t,r,i,o){function a(e){var n=h[e];v(h,e,"delete"==e?function(e){return!(o&&!w(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!w(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!w(e)?void 0:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})}var s,u,l,c,f=m[n],d=f,p=i?"set":"add",h=d&&d.prototype,g={};return"function"==typeof d&&(o||h.forEach&&!E(function(){(new d).entries().next()}))?(u=(s=new d)[p](o?{}:-0,1)!=s,l=E(function(){s.has(1)}),x(function(e){new d(e)})||(((d=e(function(e,t){T(e,d,n);e=new f;return null!=t&&b(t,i,e[p],e),e})).prototype=h).constructor=d),o||s.forEach(function(e,t){c=1/t==-1/0}),(l||c)&&(a("delete"),a("has"),i)&&a("get"),(c||u)&&a(p),o&&h.clear&&delete h.clear):(d=r.getConstructor(e,n,i,p),_(d.prototype,t)),S(d,n),g[n]=d,y(y.G+y.W+y.F*(d!=f),g),o||r.setStrong(d,n,i),d}},{30:30,32:32,35:35,37:37,46:46,51:51,68:68,69:69,74:74,77:77}],24:[function(e,t,n){t=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=t)},{}],25:[function(e,t,n){var o=e(10);t.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},{10:10}],26:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],27:[function(e,t,n){t.exports=!e(32)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{32:32}],28:[function(e,t,n){var r=e(46),i=e(37).document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{37:37,46:46}],29:[function(e,t,n){var s=e(54);t.exports=function(e){var t=s.getKeys(e),n=s.getSymbols;if(n)for(var r,i=n(e),o=s.isEnum,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},{54:54}],30:[function(e,t,n){function h(e,t,n){var r,i,o,a,s=e&h.F,u=e&h.G,l=e&h.P,c=e&h.B,f=u?g:e&h.S?g[t]||(g[t]={}):(g[t]||{})[b],d=u?m:m[t]||(m[t]={}),p=d[b]||(d[b]={});for(r in n=u?t:n)o=((i=!s&&f&&r in f)?f:n)[r],a=c&&i?_(o,g):l&&"function"==typeof o?_(Function.call,o):o,f&&!i&&v(f,r,o),d[r]!=o&&y(d,r,a),l&&p[r]!=o&&(p[r]=o)}var g=e(37),m=e(24),y=e(39),v=e(69),_=e(25),b="prototype";g.core=m,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,t.exports=h},{24:24,25:25,37:37,39:39,69:69}],31:[function(e,t,n){var r=e(91)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(e){}}return!0}},{91:91}],32:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],33:[function(e,t,n){"use strict";var o=e(39),a=e(69),s=e(32),u=e(26),l=e(91);t.exports=function(t,e,n){var r=l(t),i=""[t];s(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})&&(a(String.prototype,t,n(u,r,i)),o(RegExp.prototype,r,2==e?function(e,t){return i.call(e,this,t)}:function(e){return i.call(e,this)}))}},{26:26,32:32,39:39,69:69,91:91}],34:[function(e,t,n){"use strict";var r=e(12);t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{12:12}],35:[function(e,t,n){var c=e(25),f=e(48),d=e(43),p=e(12),h=e(87),g=e(92);t.exports=function(e,t,n,r){var i,o,a,s=g(e),u=c(n,r,t?2:1),l=0;if("function"!=typeof s)throw TypeError(e+" is not iterable!");if(d(s))for(i=h(e.length);l<i;l++)t?u(p(o=e[l])[0],o[1]):u(e[l]);else for(a=s.call(e);!(o=a.next()).done;)f(a,u,o.value,t)}},{12:12,25:25,43:43,48:48,87:87,92:92}],36:[function(e,t,n){var r=e(86),i=e(54).getNames,o={}.toString,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.get=function(e){if(!a||"[object Window]"!=o.call(e))return i(r(e));try{return i(e)}catch(e){return a.slice()}}},{54:54,86:86}],37:[function(e,t,n){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},{}],38:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],39:[function(e,t,n){var r=e(54),i=e(67);t.exports=e(27)?function(e,t,n){return r.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{27:27,54:54,67:67}],40:[function(e,t,n){t.exports=e(37).document&&document.documentElement},{37:37}],41:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],42:[function(e,t,n){var r=e(19);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{19:19}],43:[function(e,t,n){var r=e(53),i=e(91)("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{53:53,91:91}],44:[function(e,t,n){var r=e(19);t.exports=Array.isArray||function(e){return"Array"==r(e)}},{19:19}],45:[function(e,t,n){var r=e(46),i=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},{46:46}],46:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],47:[function(e,t,n){var r=e(46),i=e(19),o=e(91)("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},{19:19,46:46,91:91}],48:[function(e,t,n){var i=e(12);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){r=t.return;throw void 0!==r&&i(r.call(t)),e}}},{12:12}],49:[function(e,t,n){"use strict";var r=e(54),i=e(67),o=e(74),a={};e(39)(a,e(91)("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r.create(a,{next:i(1,n)}),o(e,t+" Iterator")}},{39:39,54:54,67:67,74:74,91:91}],50:[function(e,t,n){"use strict";function g(){return this}var m=e(56),y=e(30),v=e(69),_=e(39),b=e(38),T=e(53),w=e(49),E=e(74),x=e(54).getProto,S=e(91)("iterator"),O=!([].keys&&"next"in[].keys()),A="@@iterator",I="values";t.exports=function(e,t,n,r,i,o,a){w(n,t,r);function s(e){if(!O&&e in d)return d[e];switch(e){case"keys":case I:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var u,l,r=t+" Iterator",c=i==I,f=!1,d=e.prototype,p=d[S]||d[A]||i&&d[i],h=p||s(i);if(p&&(e=x(h.call(new e)),E(e,r,!0),!m&&b(d,A)&&_(e,S,g),c)&&p.name!==I&&(f=!0,h=function(){return p.call(this)}),m&&!a||!O&&!f&&d[S]||_(d,S,h),T[t]=h,T[r]=g,i)if(u={values:c?h:s(I),keys:o?h:s("keys"),entries:c?s("entries"):h},a)for(l in u)l in d||v(d,l,u[l]);else y(y.P+y.F*(O||f),t,u);return u}},{30:30,38:38,39:39,49:49,53:53,54:54,56:56,69:69,74:74,91:91}],51:[function(e,t,n){var o=e(91)("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},{91:91}],52:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],53:[function(e,t,n){t.exports={}},{}],54:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],55:[function(e,t,n){var s=e(54),u=e(86);t.exports=function(e,t){for(var n,r=u(e),i=s.getKeys(r),o=i.length,a=0;a<o;)if(r[n=i[a++]]===t)return n}},{54:54,86:86}],56:[function(e,t,n){t.exports=!1},{}],57:[function(e,t,n){t.exports=Math.expm1||function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}},{}],58:[function(e,t,n){t.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],59:[function(e,t,n){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],60:[function(e,t,n){function r(){var e,t,n;for(p&&(e=f.domain)&&(f.domain=null,e.exit());i;)t=i.domain,n=i.fn,t&&t.enter(),n(),t&&t.exit(),i=i.next;o=void 0,e&&e.enter()}var i,o,a,s,u=e(37),l=e(83).set,c=u.MutationObserver||u.WebKitMutationObserver,f=u.process,d=u.Promise,p="process"==e(19)(f),h=p?function(){f.nextTick(r)}:c?(a=1,s=document.createTextNode(""),new c(r).observe(s,{characterData:!0}),function(){s.data=a=-a}):d&&d.resolve?function(){d.resolve().then(r)}:function(){l.call(u,r)};t.exports=function(e){e={fn:e,next:void 0,domain:p&&f.domain};o&&(o.next=e),i||(i=e,h()),o=e}},{19:19,37:37,83:83}],61:[function(e,t,n){var h=e(54),g=e(88),m=e(42);t.exports=e(32)(function(){var e=Object.assign,t={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=i})?function(e,t){for(var n=g(e),r=arguments,i=r.length,o=1,a=h.getKeys,s=h.getSymbols,u=h.isEnum;o<i;)for(var l,c=m(r[o++]),f=s?a(c).concat(s(c)):a(c),d=f.length,p=0;p<d;)u.call(c,l=f[p++])&&(n[l]=c[l]);return n}:Object.assign},{32:32,42:42,54:54,88:88}],62:[function(e,t,n){var i=e(30),o=e(24),a=e(32);t.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}},{24:24,30:30,32:32}],63:[function(e,t,n){var u=e(54),l=e(86),c=u.isEnum;t.exports=function(s){return function(e){for(var t,n=l(e),r=u.getKeys(n),i=r.length,o=0,a=[];o<i;)c.call(n,t=r[o++])&&a.push(s?[t,n[t]]:n[t]);return a}}},{54:54,86:86}],64:[function(e,t,n){var r=e(54),i=e(12),e=e(37).Reflect;t.exports=e&&e.ownKeys||function(e){var t=r.getNames(i(e)),n=r.getSymbols;return n?t.concat(n(e)):t}},{12:12,37:37,54:54}],65:[function(e,t,n){"use strict";var r=e(66),c=e(41),i=e(10);t.exports=function(){for(var o=i(this),a=arguments.length,s=Array(a),e=0,u=r._,l=!1;e<a;)(s[e]=arguments[e++])===u&&(l=!0);return function(){var e,t=arguments,n=t.length,r=0,i=0;if(!l&&!n)return c(o,s,this);if(e=s.slice(),l)for(;r<a;r++)e[r]===u&&(e[r]=t[i++]);for(;i<n;)e.push(t[i++]);return c(o,e,this)}}},{10:10,41:41,66:66}],66:[function(e,t,n){t.exports=e(37)},{37:37}],67:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],68:[function(e,t,n){var r=e(69);t.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},{69:69}],69:[function(e,t,n){var i=e(37),o=e(39),a=e(90)("src"),r="toString",s=Function[r],u=(""+s).split(r);e(24).inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,n,r){"function"==typeof n&&(n.hasOwnProperty(a)||o(n,a,e[t]?""+e[t]:u.join(String(t))),n.hasOwnProperty("name")||o(n,"name",t)),e===i?e[t]=n:(r||delete e[t],o(e,t,n))})(Function.prototype,r,function(){return"function"==typeof this&&this[a]||s.call(this)})},{24:24,37:37,39:39,90:90}],70:[function(e,t,n){t.exports=function(t,n){var r=n===Object(n)?function(e){return n[e]}:n;return function(e){return String(e).replace(t,r)}}},{}],71:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],72:[function(t,e,n){function i(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var o=t(54).getDesc,r=t(46),a=t(12);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=t(25)(Function.call,o(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:i}},{12:12,25:25,46:46,54:54}],73:[function(e,t,n){"use strict";var r=e(37),i=e(54),o=e(27),a=e(91)("species");t.exports=function(e){e=r[e];o&&e&&!e[a]&&i.setDesc(e,a,{configurable:!0,get:function(){return this}})}},{27:27,37:37,54:54,91:91}],74:[function(e,t,n){var r=e(54).setDesc,i=e(38),o=e(91)("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{38:38,54:54,91:91}],75:[function(e,t,n){var e=e(37),r="__core-js_shared__",i=e[r]||(e[r]={});t.exports=function(e){return i[e]||(i[e]={})}},{37:37}],76:[function(e,t,n){var r=e(12),i=e(10),o=e(91)("species");t.exports=function(e,t){var e=r(e).constructor;return void 0===e||null==(e=r(e)[o])?t:i(e)}},{10:10,12:12,91:91}],77:[function(e,t,n){t.exports=function(e,t,n){if(e instanceof t)return e;throw TypeError(n+": use the 'new' operator!")}},{}],78:[function(e,t,n){var o=e(85),a=e(26);t.exports=function(i){return function(e,t){var n,e=String(a(e)),t=o(t),r=e.length;return t<0||r<=t?i?"":void 0:(n=e.charCodeAt(t))<55296||56319<n||t+1===r||(r=e.charCodeAt(t+1))<56320||57343<r?i?e.charAt(t):n:i?e.slice(t,t+2):r-56320+(n-55296<<10)+65536}}},{26:26,85:85}],79:[function(e,t,n){var r=e(47),i=e(26);t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},{26:26,47:47}],80:[function(e,t,n){var o=e(87),a=e(81),s=e(26);t.exports=function(e,t,n,r){var e=String(s(e)),i=e.length,n=void 0===n?" ":String(n),t=o(t);return t<=i?e:(t=t-i,(i=a.call(n=""==n?" ":n,Math.ceil(t/n.length))).length>t&&(i=i.slice(0,t)),r?i+e:e+i)}},{26:26,81:81,87:87}],81:[function(e,t,n){"use strict";var i=e(85),o=e(26);t.exports=function(e){var t=String(o(this)),n="",r=i(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},{26:26,85:85}],82:[function(e,t,n){function r(e,t){var n={};n[e]=t(c),i(i.P+i.F*a(function(){return!!s[e]()||""!=""[e]()}),"String",n)}var i=e(30),o=e(26),a=e(32),s="\t\n\v\f\r \u2028\u2029\ufeff",e="["+s+"]",u=RegExp("^"+e+e+"*"),l=RegExp(e+e+"*$"),c=r.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),e=2&t?e.replace(l,""):e};t.exports=r},{26:26,30:30,32:32}],83:[function(e,t,n){function r(){var e,t=+this;m.hasOwnProperty(t)&&(e=m[t],delete m[t],e())}function i(e){r.call(e.data)}var o,a=e(25),s=e(41),u=e(40),l=e(28),c=e(37),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,g=0,m={},y="onreadystatechange";d&&p||(d=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},o(g),g},p=function(e){delete m[e]},"process"==e(19)(f)?o=function(e){f.nextTick(a(r,e,1))}:h?(h=(e=new h).port2,e.port1.onmessage=i,o=a(h.postMessage,h,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(o=function(e){c.postMessage(e+"","*")},c.addEventListener("message",i,!1)):o=y in l("script")?function(e){u.appendChild(l("script"))[y]=function(){u.removeChild(this),r.call(e)}}:function(e){setTimeout(a(r,e,1),0)}),t.exports={set:d,clear:p}},{19:19,25:25,28:28,37:37,40:40,41:41}],84:[function(e,t,n){var r=e(85),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},{85:85}],85:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:r)(e)}},{}],86:[function(e,t,n){var r=e(42),i=e(26);t.exports=function(e){return r(i(e))}},{26:26,42:42}],87:[function(e,t,n){var r=e(85),i=Math.min;t.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},{85:85}],88:[function(e,t,n){var r=e(26);t.exports=function(e){return Object(r(e))}},{26:26}],89:[function(e,t,n){var i=e(46);t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e))||"function"==typeof(n=e.valueOf)&&!i(r=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{46:46}],90:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],91:[function(e,t,n){var r=e(75)("wks"),i=e(90),o=e(37).Symbol;t.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||i)("Symbol."+e))}},{37:37,75:75,90:90}],92:[function(e,t,n){var r=e(18),i=e(91)("iterator"),o=e(53);t.exports=e(24).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},{18:18,24:24,53:53,91:91}],93:[function(e,F,k){"use strict";function t(o,a){return function(e){var t,n=b(e),r=0,i=[];for(t in n)t!=x&&p(n,t)&&i.push(t);for(;r<a;)!p(n,t=o[r++])||~O(i,t)||i.push(t);return i}}function r(){}function n(a){return function(e,t){v(e);var n=E(this),r=w(n.length),i=a?r-1:0,o=a?-1:1;if(arguments.length<2)for(;;){if(i in n){t=n[i],i+=o;break}if(i+=o,a?i<0:r<=i)throw TypeError("Reduce of empty array with no initial value")}for(;a?0<=i:i<r;i+=o)i in n&&(t=e(t,n[i],i,this));return t}}function i(t){return function(e){return t(this,e,arguments[1])}}function o(e){return 9<e?e:"0"+e}var a,s=e(54),u=e(30),l=e(27),c=e(67),f=e(40),d=e(28),p=e(38),h=e(19),g=e(41),m=e(32),y=e(12),v=e(10),_=e(46),U=e(88),b=e(86),j=e(85),T=e(84),w=e(87),E=e(42),x=e(90)("__proto__"),S=e(16),O=e(15)(!1),A=Object.prototype,I=Array.prototype,P=I.slice,B=I.join,D=s.setDesc,$=s.getDesc,R=s.setDescs,C={},M=(l||(a=!m(function(){return 7!=D(d("div"),"a",{get:function(){return 7}}).a}),s.setDesc=function(e,t,n){if(a)try{return D(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(y(e)[t]=n.value),e},s.getDesc=function(e,t){if(a)try{return $(e,t)}catch(e){}if(p(e,t))return c(!A.propertyIsEnumerable.call(e,t),e[t])},s.setDescs=R=function(e,t){y(e);for(var n,r=s.getKeys(t),i=r.length,o=0;o<i;)s.setDesc(e,n=r[o++],t[n]);return e}),u(u.S+u.F*!l,"Object",{getOwnPropertyDescriptor:s.getDesc,defineProperty:s.setDesc,defineProperties:R}),"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")),I=M.concat("length","prototype"),N=M.length,L=function(){var e=d("iframe"),t=N;for(e.style.display="none",f.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),L=e.F;t--;)delete L.prototype[M[t]];return L()};u(u.S,"Object",{getPrototypeOf:s.getProto=s.getProto||function(e){return e=U(e),p(e,x)?e[x]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?A:null},getOwnPropertyNames:s.getNames=s.getNames||t(I,I.length),create:s.create=s.create||function(e,t){var n;return null!==e?(r.prototype=y(e),n=new r,r.prototype=null,n[x]=e):n=L(),void 0===t?n:R(n,t)},keys:s.getKeys=s.getKeys||t(M,N)}),u(u.P,"Function",{bind:function(a){var s=v(this),u=P.call(arguments,1),l=function(){var e=u.concat(P.call(arguments));if(this instanceof l){var t=s,n=e.length,r=e;if(!(n in C)){for(var i=[],o=0;o<n;o++)i[o]="a["+o+"]";C[n]=Function("F,a","return new F("+i.join(",")+")")}return C[n](t,r)}return g(s,e,a)};return _(s.prototype)&&(l.prototype=s.prototype),l}}),u(u.P+u.F*m(function(){f&&P.call(f)}),"Array",{slice:function(e,t){var n=w(this.length),r=h(this);if(t=void 0===t?n:t,"Array"==r)return P.call(this,e,t);for(var i=T(e,n),e=T(t,n),o=w(e-i),a=Array(o),s=0;s<o;s++)a[s]="String"==r?this.charAt(i+s):this[i+s];return a}}),u(u.P+u.F*(E!=Object),"Array",{join:function(e){return B.call(E(this),void 0===e?",":e)}}),u(u.S,"Array",{isArray:e(44)}),u(u.P,"Array",{forEach:s.each=s.each||i(S(0)),map:i(S(1)),filter:i(S(2)),some:i(S(3)),every:i(S(4)),reduce:n(!1),reduceRight:n(!0),indexOf:i(O),lastIndexOf:function(e,t){var n=b(this),r=w(n.length),i=r-1;for((i=1<arguments.length?Math.min(i,j(t)):i)<0&&(i=w(r+i));0<=i;i--)if(i in n&&n[i]===e)return i;return-1}}),u(u.S,"Date",{now:function(){return+new Date}});u(u.P+u.F*(m(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!m(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){var e,t,n,r;if(isFinite(this))return t=(e=this).getUTCFullYear(),n=e.getUTCMilliseconds(),(r=t<0?"-":9999<t?"+":"")+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(99<n?n:"0"+o(n))+"Z";throw RangeError("Invalid time value")}})},{10:10,12:12,15:15,16:16,19:19,27:27,28:28,30:30,32:32,38:38,40:40,41:41,42:42,44:44,46:46,54:54,67:67,84:84,85:85,86:86,87:87,88:88,90:90}],94:[function(e,t,n){var r=e(30);r(r.P,"Array",{copyWithin:e(13)}),e(11)("copyWithin")},{11:11,13:13,30:30}],95:[function(e,t,n){var r=e(30);r(r.P,"Array",{fill:e(14)}),e(11)("fill")},{11:11,14:14,30:30}],96:[function(e,t,n){"use strict";var r=e(30),i=e(16)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),e(11)(o)},{11:11,16:16,30:30}],97:[function(e,t,n){"use strict";var r=e(30),i=e(16)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),e(11)(o)},{11:11,16:16,30:30}],98:[function(e,t,n){"use strict";var d=e(25),r=e(30),p=e(88),h=e(48),g=e(43),m=e(87),y=e(92);r(r.S+r.F*!e(51)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,i,o=p(e),e="function"==typeof this?this:Array,a=arguments,s=a.length,u=1<s?a[1]:void 0,l=void 0!==u,c=0,f=y(o);if(l&&(u=d(u,2<s?a[2]:void 0,2)),null==f||e==Array&&g(f))for(n=new e(t=m(o.length));c<t;c++)n[c]=l?u(o[c],c):o[c];else for(i=f.call(o),n=new e;!(r=i.next()).done;c++)n[c]=l?h(i,u,[r.value,c],!0):r.value;return n.length=c,n}})},{25:25,30:30,43:43,48:48,51:51,87:87,88:88,92:92}],99:[function(e,t,n){"use strict";var r=e(11),i=e(52),o=e(53),a=e(86);t.exports=e(50)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{11:11,50:50,52:52,53:53,86:86}],100:[function(e,t,n){"use strict";var r=e(30);r(r.S+r.F*e(32)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments,n=t.length,r=new("function"==typeof this?this:Array)(n);e<n;)r[e]=t[e++];return r.length=n,r}})},{30:30,32:32}],101:[function(e,t,n){e(73)("Array")},{73:73}],102:[function(e,t,n){"use strict";var r=e(54),i=e(46),e=e(91)("hasInstance"),o=Function.prototype;e in o||r.setDesc(o,e,{value:function(e){if("function"==typeof this&&i(e)){if(!i(this.prototype))return e instanceof this;for(;e=r.getProto(e);)if(this.prototype===e)return!0}return!1}})},{46:46,54:54,91:91}],103:[function(e,t,n){var r=e(54).setDesc,i=e(67),o=e(38),a=Function.prototype,s=/^\s*function ([^ (]*)/,u="name";u in a||e(27)&&r(a,u,{configurable:!0,get:function(){var e=(""+this).match(s),e=e?e[1]:"";return o(this,u)||r(this,u,i(5,e)),e}})},{27:27,38:38,54:54,67:67}],104:[function(e,t,n){"use strict";var r=e(20);e(23)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){e=r.getEntry(this,e);return e&&e.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},{20:20,23:23}],105:[function(e,t,n){var r=e(30),i=e(58),o=Math.sqrt,e=Math.acosh;r(r.S+r.F*!(e&&710==Math.floor(e(Number.MAX_VALUE))),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},{30:30,58:58}],106:[function(e,t,n){e=e(30);e(e.S,"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{30:30}],107:[function(e,t,n){e=e(30);e(e.S,"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{30:30}],108:[function(e,t,n){var r=e(30),i=e(59);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},{30:30,59:59}],109:[function(e,t,n){e=e(30);e(e.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{30:30}],110:[function(e,t,n){var e=e(30),r=Math.exp;e(e.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},{30:30}],111:[function(e,t,n){var r=e(30);r(r.S,"Math",{expm1:e(57)})},{30:30,57:57}],112:[function(e,t,n){var r=e(30),i=e(59),e=Math.pow,o=e(2,-52),a=e(2,-23),s=e(2,127)*(2-a),u=e(2,-126);r(r.S,"Math",{fround:function(e){var t,n=Math.abs(e),e=i(e);return n<u?e*(n/u/a+1/o-1/o)*u*a:s<(t=(t=(1+a/o)*n)-(t-n))||t!=t?e*(1/0):e*t}})},{30:30,59:59}],113:[function(e,t,n){var e=e(30),l=Math.abs;e(e.S,"Math",{hypot:function(e,t){for(var n,r,i=0,o=0,a=arguments,s=a.length,u=0;o<s;)u<(n=l(a[o++]))?(i=i*(r=u/n)*r+1,u=n):i+=0<n?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(i)}})},{30:30}],114:[function(e,t,n){var r=e(30),i=Math.imul;r(r.S+r.F*e(32)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=65535,e=+e,t=+t,r=n&e,i=n&t;return 0|r*i+((n&e>>>16)*i+r*(n&t>>>16)<<16>>>0)}})},{30:30,32:32}],115:[function(e,t,n){e=e(30);e(e.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},{30:30}],116:[function(e,t,n){var r=e(30);r(r.S,"Math",{log1p:e(58)})},{30:30,58:58}],117:[function(e,t,n){e=e(30);e(e.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{30:30}],118:[function(e,t,n){var r=e(30);r(r.S,"Math",{sign:e(59)})},{30:30,59:59}],119:[function(e,t,n){var r=e(30),i=e(57),o=Math.exp;r(r.S+r.F*e(32)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},{30:30,32:32,57:57}],120:[function(e,t,n){var r=e(30),i=e(57),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},{30:30,57:57}],121:[function(e,t,n){e=e(30);e(e.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},{30:30}],122:[function(e,t,n){"use strict";function r(e){if("string"==typeof(t=l(e,!1))&&2<t.length){var t,n,r,i,e=(t=m?t.trim():c(t,3)).charCodeAt(0);if(43===e||45===e){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var o,a=t.slice(2),s=0,u=a.length;s<u;s++)if((o=a.charCodeAt(s))<48||i<o)return NaN;return parseInt(a,r)}}return+t}var i=e(54),o=e(37),a=e(38),s=e(19),l=e(89),u=e(32),c=e(82).trim,f="Number",d=o[f],p=d,h=d.prototype,g=s(i.create(h))==f,m="trim"in String.prototype;d(" 0o1")&&d("0b1")&&!d("+0x1")||(d=function(e){var e=arguments.length<1?0:e,t=this;return t instanceof d&&(g?u(function(){h.valueOf.call(t)}):s(t)!=f)?new p(r(e)):r(e)},i.each.call(e(27)?i.getNames(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){a(p,e)&&!a(d,e)&&i.setDesc(d,e,i.getDesc(p,e))}),(d.prototype=h).constructor=d,e(69)(o,f,d))},{19:19,27:27,32:32,37:37,38:38,54:54,69:69,82:82,89:89}],123:[function(e,t,n){e=e(30);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},{30:30}],124:[function(e,t,n){var r=e(30),i=e(37).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},{30:30,37:37}],125:[function(e,t,n){var r=e(30);r(r.S,"Number",{isInteger:e(45)})},{30:30,45:45}],126:[function(e,t,n){e=e(30);e(e.S,"Number",{isNaN:function(e){return e!=e}})},{30:30}],127:[function(e,t,n){var r=e(30),i=e(45),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},{30:30,45:45}],128:[function(e,t,n){e=e(30);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{30:30}],129:[function(e,t,n){e=e(30);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{30:30}],130:[function(e,t,n){e=e(30);e(e.S,"Number",{parseFloat:parseFloat})},{30:30}],131:[function(e,t,n){e=e(30);e(e.S,"Number",{parseInt:parseInt})},{30:30}],132:[function(e,t,n){var r=e(30);r(r.S+r.F,"Object",{assign:e(61)})},{30:30,61:61}],133:[function(e,t,n){var r=e(46);e(62)("freeze",function(t){return function(e){return t&&r(e)?t(e):e}})},{46:46,62:62}],134:[function(e,t,n){var r=e(86);e(62)("getOwnPropertyDescriptor",function(n){return function(e,t){return n(r(e),t)}})},{62:62,86:86}],135:[function(e,t,n){e(62)("getOwnPropertyNames",function(){return e(36).get})},{36:36,62:62}],136:[function(e,t,n){var r=e(88);e(62)("getPrototypeOf",function(t){return function(e){return t(r(e))}})},{62:62,88:88}],137:[function(e,t,n){var r=e(46);e(62)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},{46:46,62:62}],138:[function(e,t,n){var r=e(46);e(62)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},{46:46,62:62}],139:[function(e,t,n){var r=e(46);e(62)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},{46:46,62:62}],140:[function(e,t,n){var r=e(30);r(r.S,"Object",{is:e(71)})},{30:30,71:71}],141:[function(e,t,n){var r=e(88);e(62)("keys",function(t){return function(e){return t(r(e))}})},{62:62,88:88}],142:[function(e,t,n){var r=e(46);e(62)("preventExtensions",function(t){return function(e){return t&&r(e)?t(e):e}})},{46:46,62:62}],143:[function(e,t,n){var r=e(46);e(62)("seal",function(t){return function(e){return t&&r(e)?t(e):e}})},{46:46,62:62}],144:[function(e,t,n){var r=e(30);r(r.S,"Object",{setPrototypeOf:e(72).set})},{30:30,72:72}],145:[function(e,t,n){"use strict";var r=e(18),i={};i[e(91)("toStringTag")]="z",i+""!="[object z]"&&e(69)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},{18:18,69:69,91:91}],146:[function(r,e,t){"use strict";function n(){}function i(e){var t=new I(n);return e&&(t.constructor=function(e){e(n,n)}),(e=I.resolve(t)).catch(n),e===t}function u(e){var t=m(e)[w];return null!=t?t:e}function l(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=y(n),this.reject=y(r)}function c(e){try{e()}catch(e){return{error:e}}}var o,f=r(54),a=r(56),d=r(37),s=r(25),p=r(18),h=r(30),g=r(46),m=r(12),y=r(10),v=r(77),_=r(35),b=r(72).set,T=r(71),w=r(91)("species"),E=r(76),x=r(60),S="Promise",O=d.process,A="process"==p(O),I=d[S],p=function(){var t=!1;function n(e){e=new I(e);return b(e,n.prototype),e}try{var e,t=I&&I.resolve&&i();b(n,I),n.prototype=f.create(I.prototype,{constructor:{value:n}}),(t=n.resolve(5).then(function(){})instanceof n?t:!1)&&r(27)&&(e=!1,I.resolve(f.setDesc({},"then",{get:function(){e=!0}})),t=e)}catch(e){t=!1}return t}(),P=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},D=function(l,c){var f;l.n||(l.n=!0,f=l.c,x(function(){for(var n=l.v,e=1==l.s,t=0;f.length>t;){o=i=u=s=a=void 0;var r=f[t++],i,o,a=e?r.ok:r.fail,s=r.resolve,u=r.reject;try{a?(e||(l.h=!0),(i=!0===a?n:a(n))===r.promise?u(TypeError("Promise-chain cycle")):(o=P(i))?o.call(i,s,u):s(i)):u(n)}catch(e){u(e)}}f.length=0,l.n=!1,c&&setTimeout(function(){var e,t=l.p;R(t)&&(A?O.emit("unhandledRejection",n,t):(e=d.onunhandledrejection)?e({promise:t,reason:n}):(e=d.console)&&e.error&&e.error("Unhandled promise rejection",n)),l.a=void 0},1)}))},R=function(e){var t,e=e._d,n=e.a||e.c,r=0;if(e.h)return!1;for(;n.length>r;)if((t=n[r++]).fail||!R(t.promise))return!1;return!0},C=function(e){var t=this;t.d||(t.d=!0,(t=t.r||t).v=e,t.s=2,t.a=t.c.slice(),D(t,!0))},M=function(e){var n,r=this;if(!r.d){r.d=!0,r=r.r||r;try{if(r.p===e)throw TypeError("Promise can't be resolved itself");(n=P(e))?x(function(){var t={r:r,d:!1};try{n.call(e,s(M,t,1),s(C,t,1))}catch(e){C.call(t,e)}}):(r.v=e,r.s=1,D(r,!1))}catch(e){C.call({r:r,d:!1},e)}}};p||(I=function(e){y(e);var t=this._d={p:v(this,I,S),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(s(M,t,1),s(C,t,1))}catch(e){C.call(t,e)}},r(68)(I.prototype,{then:function(e,t){var n=new l(E(this,I)),r=n.promise,i=this._d;return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,i.c.push(n),i.a&&i.a.push(n),i.s&&D(i,!1),r},catch:function(e){return this.then(void 0,e)}})),h(h.G+h.W+h.F*!p,{Promise:I}),r(74)(I,S),r(73)(S),o=r(24)[S],h(h.S+h.F*!p,S,{reject:function(e){var t=new l(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(!p||i(!0)),S,{resolve:function(e){var t,n;return e instanceof I&&(n=e.constructor,t=this,!(!a||n!==I||t!==o)||T(n,t))?e:((0,(n=new l(this)).resolve)(e),n.promise)}}),h(h.S+h.F*!(p&&r(51)(function(e){I.all(e).catch(function(){})})),S,{all:function(e){var o=u(this),t=new l(o),a=t.resolve,s=t.reject,n=[],r=c(function(){_(e,!1,n.push,n);var r=n.length,i=Array(r);r?f.each.call(n,function(e,t){var n=!1;o.resolve(e).then(function(e){n||(n=!0,i[t]=e,--r)||a(i)},s)}):a(i)});return r&&s(r.error),t.promise},race:function(e){var t=u(this),n=new l(t),r=n.reject,i=c(function(){_(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},{10:10,12:12,18:18,24:24,25:25,27:27,30:30,35:35,37:37,46:46,51:51,54:54,56:56,60:60,68:68,71:71,72:72,73:73,74:74,76:76,77:77,91:91}],147:[function(e,t,n){var r=e(30),i=Function.apply,o=e(12);r(r.S,"Reflect",{apply:function(e,t,n){return i.call(e,t,o(n))}})},{12:12,30:30}],148:[function(e,t,n){var i=e(54),r=e(30),o=e(10),a=e(12),s=e(46),u=Function.bind||e(24).Function.prototype.bind;r(r.S+r.F*e(32)(function(){function e(){}return!(Reflect.construct(function(){},[],e)instanceof e)}),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}r=n.prototype,n=i.create(s(r)?r:Object.prototype),r=Function.apply.call(e,n,t);return s(r)?r:n}})},{10:10,12:12,24:24,30:30,32:32,46:46,54:54}],149:[function(e,t,n){var r=e(54),i=e(30),o=e(12);i(i.S+i.F*e(32)(function(){Reflect.defineProperty(r.setDesc({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e);try{return r.setDesc(e,t,n),!0}catch(e){return!1}}})},{12:12,30:30,32:32,54:54}],150:[function(e,t,n){var r=e(30),i=e(54).getDesc,o=e(12);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},{12:12,30:30,54:54}],151:[function(e,t,n){"use strict";function r(e){this._t=o(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)}var i=e(30),o=e(12);e(49)(r,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),i(i.S,"Reflect",{enumerate:function(e){return new r(e)}})},{12:12,30:30,49:49}],152:[function(e,t,n){var r=e(54),i=e(30),o=e(12);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.getDesc(o(e),t)}})},{12:12,30:30,54:54}],153:[function(e,t,n){var r=e(30),i=e(54).getProto,o=e(12);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},{12:12,30:30,54:54}],154:[function(e,t,n){var o=e(54),a=e(38),r=e(30),s=e(46),u=e(12);r(r.S,"Reflect",{get:function e(t,n){var r,i=arguments.length<3?t:arguments[2];return u(t)===i?t[n]:(r=o.getDesc(t,n))?a(r,"value")?r.value:void 0!==r.get?r.get.call(i):void 0:s(r=o.getProto(t))?e(r,n,i):void 0}})},{12:12,30:30,38:38,46:46,54:54}],155:[function(e,t,n){e=e(30);e(e.S,"Reflect",{has:function(e,t){return t in e}})},{30:30}],156:[function(e,t,n){var r=e(30),i=e(12),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},{12:12,30:30}],157:[function(e,t,n){var r=e(30);r(r.S,"Reflect",{ownKeys:e(64)})},{30:30,64:64}],158:[function(e,t,n){var r=e(30),i=e(12),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},{12:12,30:30}],159:[function(e,t,n){var r=e(30),i=e(72);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},{30:30,72:72}],160:[function(e,t,n){var s=e(54),u=e(38),r=e(30),l=e(67),c=e(12),f=e(46);r(r.S,"Reflect",{set:function e(t,n,r){var i,o=arguments.length<4?t:arguments[3],a=s.getDesc(c(t),n);if(!a){if(f(i=s.getProto(t)))return e(i,n,r,o);a=l(0)}return u(a,"value")?!(!1===a.writable||!f(o)||((i=s.getDesc(o,n)||l(0)).value=r,s.setDesc(o,n,i),0)):void 0!==a.set&&(a.set.call(o,r),!0)}})},{12:12,30:30,38:38,46:46,54:54,67:67}],161:[function(e,t,n){var r=e(54),i=e(37),o=e(47),a=e(34),s=i.RegExp,u=s,l=s.prototype,c=/a/g,f=/a/g,d=new s(c)!==c;!e(27)||d&&!e(32)(function(){return f[e(91)("match")]=!1,s(c)!=c||s(f)==f||"/a/i"!=s(c,"i")})||(s=function(e,t){var n=o(e),r=void 0===t;return this instanceof s||!n||e.constructor!==s||!r?d?new u(n&&!r?e.source:e,t):u((n=e instanceof s)?e.source:e,n&&r?a.call(e):t):e},r.each.call(r.getNames(u),function(t){t in s||r.setDesc(s,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})}),(l.constructor=s).prototype=l,e(69)(i,"RegExp",s)),e(73)("RegExp")},{27:27,32:32,34:34,37:37,47:47,54:54,69:69,73:73,91:91}],162:[function(e,t,n){var r=e(54);e(27)&&"g"!=/./g.flags&&r.setDesc(RegExp.prototype,"flags",{configurable:!0,get:e(34)})},{27:27,34:34,54:54}],163:[function(e,t,n){e(33)("match",1,function(r,i){return function(e){"use strict";var t=r(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))}})},{33:33}],164:[function(e,t,n){e(33)("replace",2,function(i,o,a){return function(e,t){"use strict";var n=i(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,n,t):a.call(String(n),e,t)}})},{33:33}],165:[function(e,t,n){e(33)("search",1,function(r,i){return function(e){"use strict";var t=r(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))}})},{33:33}],166:[function(e,t,n){e(33)("split",2,function(i,o,a){return function(e,t){"use strict";var n=i(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,n,t):a.call(String(n),e,t)}})},{33:33}],167:[function(e,t,n){"use strict";var r=e(20);e(23)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},{20:20,23:23}],168:[function(e,t,n){"use strict";var r=e(30),i=e(78)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},{30:30,78:78}],169:[function(e,t,n){"use strict";var r=e(30),i=e(87),o=e(79),a="endsWith",s=""[a];r(r.P+r.F*e(31)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments,n=1<n.length?n[1]:void 0,r=i(t.length),n=void 0===n?r:Math.min(i(n),r),r=String(e);return s?s.call(t,r,n):t.slice(n-r.length,n)===r}})},{30:30,31:31,79:79,87:87}],170:[function(e,t,n){var r=e(30),a=e(84),s=String.fromCharCode,e=String.fromCodePoint;r(r.S+r.F*(!!e&&1!=e.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments,i=r.length,o=0;o<i;){if(t=+r[o++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},{30:30,84:84}],171:[function(e,t,n){"use strict";var r=e(30),i=e(79),o="includes";r(r.P+r.F*e(31)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},{30:30,31:31,79:79}],172:[function(e,t,n){"use strict";var r=e(78)(!0);e(50)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(e=r(e,t),this._i+=e.length,{value:e,done:!1})})},{50:50,78:78}],173:[function(e,t,n){var r=e(30),s=e(86),u=e(87);r(r.S,"String",{raw:function(e){for(var t=s(e.raw),n=u(t.length),r=arguments,i=r.length,o=[],a=0;a<n;)o.push(String(t[a++])),a<i&&o.push(String(r[a]));return o.join("")}})},{30:30,86:86,87:87}],174:[function(e,t,n){var r=e(30);r(r.P,"String",{repeat:e(81)})},{30:30,81:81}],175:[function(e,t,n){"use strict";var r=e(30),i=e(87),o=e(79),a="startsWith",s=""[a];r(r.P+r.F*e(31)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=arguments,n=i(Math.min(1<n.length?n[1]:void 0,t.length)),e=String(e);return s?s.call(t,e,n):t.slice(n,n+e.length)===e}})},{30:30,31:31,79:79,87:87}],176:[function(e,t,n){"use strict";e(82)("trim",function(e){return function(){return e(this,3)}})},{82:82}],177:[function(e,F,k){"use strict";function n(t){var e=D[t]=E(x.prototype);return e._k=t,f&&A&&M(C,t,{configurable:!0,set:function(e){c(this,I)&&c(this[I],t)&&(this[I][t]=!1),M(this,t,b(1,e))}}),e}function r(e,t){V(e);for(var n,r=B(t=_(t)),i=0,o=r.length;i<o;)L(e,n=r[i++],t[n]);return e}function t(e,t){return void 0===t?E(e):r(E(e),t)}function i(e){var t=z.call(this,e);return!(t||!c(this,e)||!c(D,e)||c(this,I)&&this[I][e])||t}function o(e,t){var n=T(e=_(e),t);return!n||!c(D,t)||c(e,I)&&e[I][t]||(n.enumerable=!0),n}function a(e){for(var t,n=G(_(e)),r=[],i=0;n.length>i;)c(D,t=n[i++])||t==I||r.push(t);return r}function s(e){for(var t,n=G(_(e)),r=[],i=0;n.length>i;)c(D,t=n[i++])&&r.push(D[t]);return r}var u=e(54),l=e(37),c=e(38),f=e(27),d=e(30),p=e(69),h=e(32),g=e(75),m=e(74),U=e(90),y=e(91),j=e(55),v=e(36),B=e(29),$=e(44),V=e(12),_=e(86),b=e(67),T=u.getDesc,w=u.setDesc,E=u.create,G=v.get,x=l.Symbol,S=l.JSON,O=S&&S.stringify,A=!1,I=y("_hidden"),z=u.isEnum,P=g("symbol-registry"),D=g("symbols"),R="function"==typeof x,C=Object.prototype,M=f&&h(function(){return 7!=E(w({},"a",{get:function(){return w(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(C,t);r&&delete C[t],w(e,t,n),r&&e!==C&&w(C,t,r)}:w,N=function(e){return"symbol"==typeof e},L=function(e,t,n){return(n&&c(D,t)?(n.enumerable?(c(e,I)&&e[I][t]&&(e[I][t]=!1),n=E(n,{enumerable:b(0,!1)})):(c(e,I)||w(e,I,b(1,{})),e[I][t]=!0),M):w)(e,t,n)},g=h(function(){var e=x();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))}),H=(R||(p((x=function(){if(N(this))throw TypeError("Symbol is not a constructor");return n(U(0<arguments.length?arguments[0]:void 0))}).prototype,"toString",function(){return this._k}),N=function(e){return e instanceof x},u.create=t,u.isEnum=i,u.getDesc=o,u.setDesc=L,u.setDescs=r,u.getNames=v.get=a,u.getSymbols=s,f&&!e(56)&&p(C,"propertyIsEnumerable",i,!0)),{for:function(e){return c(P,e+="")?P[e]:P[e]=x(e)},keyFor:function(e){return j(P,e)},useSetter:function(){A=!0},useSimple:function(){A=!1}});u.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=y(e);H[e]=R?t:n(t)}),A=!0,d(d.G+d.W,{Symbol:x}),d(d.S,"Symbol",H),d(d.S+d.F*!R,"Object",{create:t,defineProperty:L,defineProperties:r,getOwnPropertyDescriptor:o,getOwnPropertyNames:a,getOwnPropertySymbols:s}),S&&d(d.S+d.F*(!R||g),"JSON",{stringify:function(e){if(void 0!==e&&!N(e)){for(var n,t=[e],r=1,i=arguments;r<i.length;)t.push(i[r++]);return!(n="function"==typeof(e=t[1])?e:n)&&$(e)||(e=function(e,t){if(n&&(t=n.call(this,e,t)),!N(t))return t}),t[1]=e,O.apply(S,t)}}}),m(x,"Symbol"),m(Math,"Math",!0),m(l.JSON,"JSON",!0)},{12:12,27:27,29:29,30:30,32:32,36:36,37:37,38:38,44:44,54:54,55:55,56:56,67:67,69:69,74:74,75:75,86:86,90:90,91:91}],178:[function(e,t,n){"use strict";var r=e(54),o=e(69),i=e(22),a=e(46),s=e(38),u=i.frozenStore,l=i.WEAK,c=Object.isExtensible||a,f={},d=e(23)("WeakMap",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){if(a(e))return c(e)?s(e,l)?e[l][this._i]:void 0:u(this).get(e)},set:function(e,t){return i.def(this,e,t)}},i,!0,!0);7!=(new d).set((Object.freeze||Object)(f),7).get(f)&&r.each.call(["delete","has","get","set"],function(r){var e=d.prototype,i=e[r];o(e,r,function(e,t){var n;return a(e)&&!c(e)?(n=u(this)[r](e,t),"set"==r?this:n):i.call(this,e,t)})})},{22:22,23:23,38:38,46:46,54:54,69:69}],179:[function(e,t,n){"use strict";var r=e(22);e(23)("WeakSet",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(this,e,!0)}},r,!1,!0)},{22:22,23:23}],180:[function(e,t,n){"use strict";var r=e(30),i=e(15)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),e(11)("includes")},{11:11,15:15,30:30}],181:[function(e,t,n){var r=e(30);r(r.P,"Map",{toJSON:e(21)("Map")})},{21:21,30:30}],182:[function(e,t,n){var r=e(30),i=e(63)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},{30:30,63:63}],183:[function(e,t,n){var l=e(54),r=e(30),c=e(64),f=e(86),d=e(67);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=f(e),i=l.setDesc,o=l.getDesc,a=c(r),s={},u=0;a.length>u;)n=o(r,t=a[u++]),t in s?i(s,t,d(0,n)):s[t]=n;return s}})},{30:30,54:54,64:64,67:67,86:86}],184:[function(e,t,n){var r=e(30),i=e(63)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},{30:30,63:63}],185:[function(e,t,n){var r=e(30),i=e(70)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},{30:30,70:70}],186:[function(e,t,n){var r=e(30);r(r.P,"Set",{toJSON:e(21)("Set")})},{21:21,30:30}],187:[function(e,t,n){"use strict";var r=e(30),i=e(78)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},{30:30,78:78}],188:[function(e,t,n){"use strict";var r=e(30),i=e(80);r(r.P,"String",{padLeft:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},{30:30,80:80}],189:[function(e,t,n){"use strict";var r=e(30),i=e(80);r(r.P,"String",{padRight:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},{30:30,80:80}],190:[function(e,t,n){"use strict";e(82)("trimLeft",function(e){return function(){return e(this,1)}})},{82:82}],191:[function(e,t,n){"use strict";e(82)("trimRight",function(e){return function(){return e(this,2)}})},{82:82}],192:[function(e,t,n){function r(e,t){i.each.call(e.split(","),function(e){null==t&&e in s?u[e]=s[e]:e in[]&&(u[e]=a(Function.call,[][e],t))})}var i=e(54),o=e(30),a=e(25),s=e(24).Array||Array,u={};r("pop,reverse,shift,keys,values,entries",1),r("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),r("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),o(o.S,"Array",u)},{24:24,25:25,30:30,54:54}],193:[function(e,t,n){e(99);var r=e(37),i=e(39),o=e(53),e=e(91)("iterator"),a=r.NodeList,r=r.HTMLCollection,a=a&&a.prototype,r=r&&r.prototype,o=o.NodeList=o.HTMLCollection=o.Array;a&&!a[e]&&i(a,e,o),r&&!r[e]&&i(r,e,o)},{37:37,39:39,53:53,91:91,99:99}],194:[function(e,t,n){var r=e(30),e=e(83);r(r.G+r.B,{setImmediate:e.set,clearImmediate:e.clear})},{30:30,83:83}],195:[function(e,t,n){function r(n){return u?function(e,t){return n(a(s,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),t)}:n}var i=e(37),o=e(30),a=e(41),s=e(65),e=i.navigator,u=!!e&&/MSIE .\./.test(e.userAgent);o(o.G+o.B+o.F*u,{setTimeout:r(i.setTimeout),setInterval:r(i.setInterval)})},{30:30,37:37,41:41,65:65}],196:[function(e,t,n){e(93),e(177),e(132),e(140),e(144),e(145),e(133),e(143),e(142),e(138),e(139),e(137),e(134),e(136),e(141),e(135),e(103),e(102),e(122),e(123),e(124),e(125),e(126),e(127),e(128),e(129),e(130),e(131),e(105),e(106),e(107),e(108),e(109),e(110),e(111),e(112),e(113),e(114),e(115),e(116),e(117),e(118),e(119),e(120),e(121),e(170),e(173),e(176),e(172),e(168),e(169),e(171),e(174),e(175),e(98),e(100),e(99),e(101),e(94),e(95),e(97),e(96),e(161),e(162),e(163),e(164),e(165),e(166),e(146),e(104),e(167),e(178),e(179),e(147),e(148),e(149),e(150),e(151),e(154),e(152),e(153),e(155),e(156),e(157),e(158),e(160),e(159),e(180),e(187),e(188),e(189),e(190),e(191),e(185),e(183),e(184),e(182),e(181),e(186),e(192),e(195),e(194),e(193),t.exports=e(24)},{100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,127:127,128:128,129:129,130:130,131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,24:24,93:93,94:94,95:95,96:96,97:97,98:98,99:99}],197:[function(e,t,m){(()=>{"use strict";var r={d:(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},e={};r.r(e),r.d(e,{InferenceSession:()=>f,Tensor:()=>c,env:()=>n,registerBackend:()=>t});const u={},l=[],t=(t,e,n)=>{if(!e||"function"!=typeof e.init||"function"!=typeof e.createSessionHandler)throw new TypeError("not a valid backend");var r=u[t];if(void 0===r)u[t]={backend:e,priority:n};else{if(r.priority>n)return;if(r.priority===n&&r.backend!==e)throw new Error(`cannot register backend "${t}" using priority `+n)}if(0<=n){const e=l.indexOf(t);-1!==e&&l.splice(e,1);for(let e=0;e<l.length;e++)if(u[l[e]].priority<=n)return void l.splice(e,0,t);l.push(t)}},n=new class{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error("Unsupported logging level: "+e);this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}},i="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,o="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from,a=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),s=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);i&&(a.set("int64",BigInt64Array),s.set(BigInt64Array,"int64")),o&&(a.set("uint64",BigUint64Array),s.set(BigUint64Array,"uint64"));const c=class h{constructor(e,t,n){let r,i,o;if("string"==typeof e)if(r=e,o=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{const n=a.get(e);if(void 0===n)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t))i=n.from(t);else{if(!(t instanceof n))throw new TypeError(`A ${r} tensor's data must be type of `+n);i=t}}else if(o=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"==t)r="string",i=e;else{if("boolean"!=t)throw new TypeError(`Invalid element type of data array: ${t}.`);r="bool",i=Uint8Array.from(e)}}else{const t=s.get(e.constructor);if(void 0===t)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);r=t,i=e}if(void 0===o)o=[i.length];else if(!Array.isArray(o))throw new TypeError("A tensor's dims must be a number array");if((n=(t=>{let n=1;for(let e=0;e<t.length;e++){var r=t[e];if("number"!=typeof r||!Number.isSafeInteger(r))throw new TypeError(`dims[${e}] must be an integer, got: `+r);if(r<0)throw new RangeError(`dims[${e}] must be a non-negative integer, got: `+r);n*=r}return n})(o))!==i.length)throw new Error(`Tensor's size(${n}) does not match data length(${i.length}).`);this.dims=o,this.type=r,this.data=i,this.size=n}reshape(e){return new h(this.type,this.data,e)}};const f=class g{constructor(e){this.handler=e}async run(e,t,n){var r={};let i={};if("object"!=typeof e||null===e||e instanceof c||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let o=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof c)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");o=!1;for(const e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);r[e]=null}if("object"==typeof n&&null!==n)i=n;else if(void 0!==n)throw new TypeError("'options' must be an object.")}else{let e=!1;const a=Object.getOwnPropertyNames(t);for(const n of this.outputNames)if(-1!==a.indexOf(n)){const i=t[n];(null===i||i instanceof c)&&(e=!0,o=!1,r[n]=i)}if(e){if("object"==typeof n&&null!==n)i=n;else if(void 0!==n)throw new TypeError("'options' must be an object.")}else i=t}}else if(void 0!==t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const t of this.inputNames)if(void 0===e[t])throw new Error(`input '${t}' is missing in 'feeds'.`);if(o)for(const e of this.outputNames)r[e]=null;const a=await this.handler.run(e,r,i),s={};for(const e in a)Object.hasOwnProperty.call(a,e)&&(s[e]=new c(a[e].type,a[e].data,a[e].dims));return s}static async create(n,r,i,o){let a,s={};if("string"==typeof n){if(a=n,"object"==typeof r&&null!==r)s=r;else if(void 0!==r)throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(a=n,"object"==typeof r&&null!==r)s=r;else if(void 0!==r)throw new TypeError("'options' must be an object.")}else{if(!(n instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&n instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const u=n;let e=0,t=n.byteLength;if("object"==typeof r&&null!==r)s=r;else if("number"==typeof r){if(e=r,!Number.isSafeInteger(e))throw new RangeError("'byteOffset' must be an integer.");if(e<0||e>=u.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${u.byteLength}).`);if(t=n.byteLength-e,"number"==typeof i){if(t=i,!Number.isSafeInteger(t))throw new RangeError("'byteLength' must be an integer.");if(t<=0||e+t>u.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${u.byteLength-e}].`);if("object"==typeof o&&null!==o)s=o;else if(void 0!==o)throw new TypeError("'options' must be an object.")}else if(void 0!==i)throw new TypeError("'byteLength' must be a number.")}else if(void 0!==r)throw new TypeError("'options' must be an object.");a=new Uint8Array(u,e,t)}}return n=await(await(async t=>{const n=0===t.length?l:t,r=[];for(const t of n){const n=u[t];if(n){if(n.initialized)return n.backend;if(!n.aborted){const u=!!n.initPromise;try{return u||(n.initPromise=n.backend.init()),await n.initPromise,n.initialized=!0,n.backend}catch(e){u||r.push({name:t,err:e}),n.aborted=!0}finally{delete n.initPromise}}}}throw new Error("no available backend found. ERR: "+r.map(e=>`[${e.name}] `+e.err).join(", "))})((s.executionProviders||[]).map(e=>"string"==typeof e?e:e.name))).createSessionHandler(a,s),new g(n)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};var d,p=m;for(d in e)p[d]=e[d];e.__esModule&&Object.defineProperty(p,"__esModule",{value:!0})})()},{}],198:[function(require,module,exports){!function(process){!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require(197));else if("function"==typeof define&&define.amd)define([],t);else{var n,r=t("object"==typeof exports?require(197):e.ort);for(n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(self,function(__WEBPACK_EXTERNAL_MODULE__2174__){return(()=>{var __webpack_modules__={3474:(e,t,yt)=>{var vt;vt=("undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js";e.exports=function(t){function g(){return b.buffer!=T&&w(b.buffer),K}function l(){return b.buffer!=T&&w(b.buffer),W}function m(){return b.buffer!=T&&w(b.buffer),Y}function c(){return b.buffer!=T&&w(b.buffer),X}function F(){return b.buffer!=T&&w(b.buffer),Q}var o,k,U;t=t||{},(o=o||(void 0!==t?t:{})).ready=new Promise(function(e,t){k=e,U=t});var j,a,n,i,s,u,B=Object.assign({},o),$="./this.program",r=(e,t)=>{throw t},V="object"==typeof window,f="function"==typeof importScripts,d="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,p=o.ENVIRONMENT_IS_PTHREAD||!1,h="";function G(e){return o.locateFile?o.locateFile(e,h):h+e}if(d){let e;h=f?yt(908).dirname(h)+"/":"//",u=()=>{s||(i=yt(1384),s=yt(908))},j=function(e,t){return u(),e=s.normalize(e),i.readFileSync(e,t?void 0:"utf8")},n=e=>e=(e=j(e,!0)).buffer?e:new Uint8Array(e),a=(e,n,r)=>{u(),e=s.normalize(e),i.readFile(e,function(e,t){e?r(e):n(t.buffer)})},1<process.argv.length&&($=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof A))throw e}),process.on("unhandledRejection",function(e){throw e}),r=(e,t)=>{if(_)throw process.exitCode=e,t;t instanceof A||v("exiting due to exception: "+t),process.exit(e)},o.inspect=function(){return"[Emscripten Module object]"};try{e=yt(9925)}catch(t){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),t}yt.g.Worker=e.Worker}else(V||f)&&(f?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),h=0!==(h=vt?vt:h).indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",d||(j=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(n=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),a=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));d&&"undefined"==typeof performance&&(yt.g.performance=yt(6953).performance);var e=console.log.bind(console),z=console.warn.bind(console);d&&(u(),e=e=>i.writeSync(1,e+"\n"),z=e=>i.writeSync(2,e+"\n"));var y,H=o.print||e,v=o.printErr||z,_=(Object.assign(o,B),o.thisProgram&&($=o.thisProgram),o.quit&&(r=o.quit),o.wasmBinary&&(y=o.wasmBinary),o.noExitRuntime||!1);"object"!=typeof WebAssembly&&O("no native wasm support detected");var b,q,T,K,W,Y,X,Q,Z=!1,J="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function ee(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(r<=n);)++n;if(16<n-t&&e.buffer&&J)return J.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var i,o,a=e[t++];128&a?(i=63&e[t++],192==(224&a)?r+=String.fromCharCode((31&a)<<6|i):(o=63&e[t++],(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])<65536?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a)))):r+=String.fromCharCode(a)}return r}function te(e,t){return(e>>>=0)?ee(l(),e,t):""}function ne(e,t,n,r){if(!(0<r))return 0;var i=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);if((a=55296<=a&&a<=57343?65536+((1023&a)<<10)|1023&e.charCodeAt(++o):a)<=127){if(r<=n)break;t[n++>>>0]=a}else{if(a<=2047){if(r<=n+1)break;t[n++>>>0]=192|a>>6}else{if(a<=65535){if(r<=n+2)break;t[n++>>>0]=224|a>>12}else{if(r<=n+3)break;t[n++>>>0]=240|a>>18,t[n++>>>0]=128|a>>12&63}t[n++>>>0]=128|a>>6&63}t[n++>>>0]=128|63&a}}return t[n>>>0]=0,n-i}function re(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:55296<=r&&r<=57343?(t+=4,++n):t+=3}return t}function w(e){T=e,o.HEAP8=K=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=Y=new Int32Array(e),o.HEAPU8=W=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=X=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=Q=new Float64Array(e)}p&&(T=o.buffer);e=o.INITIAL_MEMORY||16777216;if(p)b=o.wasmMemory,T=o.buffer;else if(o.wasmMemory)b=o.wasmMemory;else if(!((b=new WebAssembly.Memory({initial:e/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw v("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),d&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");(T=b?b.buffer:T).byteLength,w(T);var ie,oe=[],ae=[],se=[],ue=[];function le(){return _||!1}var E,x=0,ce=null,S=null;function O(e){throw p?postMessage({cmd:"onAbort",arg:e}):o.onAbort&&o.onAbort(e),v(e="Aborted("+e+")"),Z=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),U(e),e}function fe(){return E.startsWith("data:application/octet-stream;base64,")}function de(){var e=E;try{if(e==E&&y)return new Uint8Array(y);if(n)return n(e);throw"both async and sync fetching of the wasm failed"}catch(e){O(e)}}E="ort-wasm-threaded.wasm",fe()||(E=G(E));var pe={};function A(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function he(e){(e=I.Ma[e])||O(),I.Xa(e)}function ge(e){var t=I.mb();if(!t)return 6;I.Sa.push(t),(I.Ma[e.La]=t).La=e.La;var n={cmd:"run",start_routine:e.qb,arg:e.jb,pthread_ptr:e.La};return t.Ra=()=>{n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Ra(),delete t.Ra),0}function me(e){if(p)return R(1,1,e);_||(I.Za(),o.onExit&&o.onExit(e),Z=!0),r(e,new A(e))}function ye(e,t){if(!t&&p)throw ve(e),"unwind";_||p||(st(),P(se),at(0),Qe[1].length&&Ze(1,10),Qe[2].length&&Ze(2,10),I.Za()),me(e)}var I={Pa:[],Sa:[],ab:[],Ma:{},Va:function(){p&&I.nb()},xb:function(){},nb:function(){I.receiveObjectTransfer=I.pb,I.threadInitTLS=I.$a,I.setExitStatus=I.Ya,_=!1},Ya:function(){},Za:function(){for(var e of Object.values(I.Ma))I.Xa(e);for(e of I.Pa)e.terminate();I.Pa=[]},Xa:function(e){var t=e.La;delete I.Ma[t],I.Pa.push(e),I.Sa.splice(I.Sa.indexOf(e),1),e.La=0,ft(t)},pb:function(){},$a:function(){I.ab.forEach(e=>e())},ob:function(r,i){r.onmessage=e=>{var t,n=(e=e.data).cmd;r.La&&(I.lb=r.La),e.targetThread&&e.targetThread!=M()?(t=I.Ma[e.yb])?t.postMessage(e,e.transferList):v('Internal error! Worker sent a message "'+n+'" to target pthread '+e.targetThread+", but that thread no longer exists!"):"processProxyingQueue"===n?Fe(e.queue):"spawnThread"===n?ge(e):"cleanupThread"===n?he(e.thread):"killThread"===n?(e=e.thread,n=I.Ma[e],delete I.Ma[e],n.terminate(),ft(e),I.Sa.splice(I.Sa.indexOf(n),1),n.La=0):"cancelThread"===n?I.Ma[e.thread].postMessage({cmd:"cancel"}):"loaded"===n?(r.loaded=!0,i&&i(r),r.Ra&&(r.Ra(),delete r.Ra)):"print"===n?H("Thread "+e.threadId+": "+e.text):"printErr"===n?v("Thread "+e.threadId+": "+e.text):"alert"===n?alert("Thread "+e.threadId+": "+e.text):"setimmediate"===e.target?r.postMessage(e):"onAbort"===n?o.onAbort&&o.onAbort(e.arg):n&&v("worker sent an unknown command "+n),I.lb=void 0},r.onerror=e=>{throw v("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},d&&(r.on("message",function(e){r.onmessage({data:e})}),r.on("error",function(e){r.onerror(e)}),r.on("detachedExit",function(){})),r.postMessage({cmd:"load",urlOrBlob:o.mainScriptUrlOrBlob||vt,wasmMemory:b,wasmModule:q})},ib:function(){var e=G("ort-wasm-threaded.worker.js");I.Pa.push(new Worker(e))},mb:function(){return 0==I.Pa.length&&(I.ib(),I.ob(I.Pa[0])),I.Pa.pop()}};function P(e){for(;0<e.length;)e.shift()(o)}function ve(e){if(p)return R(2,0,e);try{ye(e)}catch(e){e instanceof A||"unwind"==e||r(1,e)}}o.PThread=I,o.establishStackSpace=function(){var e=M(),t=m()[e+44>>2>>>0],e=m()[e+48>>2>>>0];pt(t,t-e),L(t)};var _e,D=[];function be(e){this.Qa=e-24,this.hb=function(e){c()[this.Qa+4>>2>>>0]=e},this.eb=function(e){c()[this.Qa+8>>2>>>0]=e},this.fb=function(){m()[this.Qa>>2>>>0]=0},this.cb=function(){g()[this.Qa+12>>0>>>0]=0},this.gb=function(){g()[this.Qa+13>>0>>>0]=0},this.Va=function(e,t){this.bb(),this.hb(e),this.eb(t),this.fb(),this.cb(),this.gb()},this.bb=function(){c()[this.Qa+16>>2>>>0]=0}}function Te(e,t,n,r){return p?R(3,1,e,t,n,r):we(e,t,n,r)}function we(e,t,n,r){var i;return"undefined"==typeof SharedArrayBuffer?(v("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6):(i=[],p&&0===i.length?Te(e,t,n,r):(e={qb:n,La:e,jb:r,vb:i},p?(e.wb="spawnThread",postMessage(e,i),0):ge(e)))}function Ee(e,t,n){return p?R(4,1,e,t,n):0}function xe(e,t){if(p)return R(5,1,e,t)}function Se(e,t){if(p)return R(6,1,e,t)}function Oe(e,t,n){if(p)return R(7,1,e,t,n)}function Ae(e,t,n){return p?R(8,1,e,t,n):0}function Ie(e,t){if(p)return R(9,1,e,t)}function Pe(e,t,n){if(p)return R(10,1,e,t,n)}function De(e,t,n,r){if(p)return R(11,1,e,t,n,r)}function Re(e,t,n,r){if(p)return R(12,1,e,t,n,r)}function Ce(e,t,n,r){if(p)return R(13,1,e,t,n,r)}function Me(e){if(p)return R(14,1,e)}function Ne(e,t){if(p)return R(15,1,e,t)}function Le(e,t,n){if(p)return R(16,1,e,t,n)}function Fe(e){Atomics.store(m(),e>>2,1),M()&&ct(e),Atomics.compareExchange(m(),e>>2,1,0)}function ke(e){return c()[e>>>2]+4294967296*m()[e+4>>>2]}function Ue(e,t,n,r,i,o){return p?R(17,1,e,t,n,r,i,o):-52}function je(e,t,n,r,i,o){if(p)return R(18,1,e,t,n,r,i,o)}function Be(e){var t=re(e)+1,n=ot(t);return n&&ne(e,g(),n,t),n}function $e(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(p)return R(19,1,e,t,n);var i=(new Date).getFullYear(),o=new Date(i,0,1),a=new Date(i,6,1),i=o.getTimezoneOffset(),s=a.getTimezoneOffset(),u=Math.max(i,s);m()[e>>2>>>0]=60*u,m()[t>>2>>>0]=Number(i!=s),e=r(o),t=r(a),e=Be(e),t=Be(t),s<i?(c()[n>>2>>>0]=e,c()[n+4>>2>>>0]=t):(c()[n>>2>>>0]=t,c()[n+4>>2>>>0]=e)}function R(i,o){var e,t,a=arguments.length-2,s=arguments;return e=()=>{for(var e=gt(8*a),t=e>>3,n=0;n<a;n++){var r=s[2+n];F()[t+n>>>0]=r}return lt(i,a,e,o)},t=ht(),e=e(),L(t),e}o.invokeEntryPoint=function(e,t){var n=D[e];n||(e>=D.length&&(D.length=e+1),D[e]=n=ie.get(e)),e=n(t),_?I.Ya(e):dt(e)},o.executeNotifiedProxyingQueue=Fe;var Ve,z=d?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:p?()=>performance.now()-o.__performance_now_clock_drift:()=>performance.now(),Ge=[],ze={};function He(){if(!Ve){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:$||"./this.program"};for(e in ze)void 0===ze[e]?delete t[e]:t[e]=ze[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ve=n}return Ve}function qe(r,i){var o;return p?R(20,1,r,i):(o=0,He().forEach(function(e,t){var n=i+o;for(t=c()[r+4*t>>2>>>0]=n,n=0;n<e.length;++n)g()[t++>>0>>>0]=e.charCodeAt(n);g()[t>>0>>>0]=0,o+=e.length+1}),0)}function Ke(e,t){var n,r;return p?R(21,1,e,t):(n=He(),c()[e>>2>>>0]=n.length,r=0,n.forEach(function(e){r+=e.length+1}),c()[t>>2>>>0]=r,0)}function We(e){return p?R(22,1,e):52}function Ye(e,t,n,r){return p?R(23,1,e,t,n,r):52}function Xe(e,t,n,r,i){return p?R(24,1,e,t,n,r,i):70}var Qe=[null,[],[]];function Ze(e,t){var n=Qe[e];0===t||10===t?((1===e?H:v)(ee(n,0)),n.length=0):n.push(t)}function Je(e,t,n,r){if(p)return R(25,1,e,t,n,r);for(var i=0,o=0;o<n;o++){var a=c()[t>>2>>>0],s=c()[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++)Ze(e,l()[a+u>>>0]);i+=s}return c()[r>>2>>>0]=i,0}function C(e){return 0==e%4&&(0!=e%100||0==e%400)}var et=[31,29,31,30,31,30,31,31,30,31,30,31],tt=[31,28,31,30,31,30,31,31,30,31,30,31];function nt(e,t,n,r){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return i(e,t,"0")}function a(e,t){function n(e){return e<0?-1:0<e?1:0}var r;return r=0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))?n(e.getDate()-t.getDate()):r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.Na;for(e=new Date(new Date(e.Oa+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(C(e.getFullYear())?et:tt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),n<11?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),a(t,e)<=0?a(n,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var l,c=m()[r+40>>2>>>0];for(l in r={tb:m()[r>>2>>>0],sb:m()[r+4>>2>>>0],Ta:m()[r+8>>2>>>0],Wa:m()[r+12>>2>>>0],Ua:m()[r+16>>2>>>0],Oa:m()[r+20>>2>>>0],Ka:m()[r+24>>2>>>0],Na:m()[r+28>>2>>>0],zb:m()[r+32>>2>>>0],rb:m()[r+36>>2>>>0],ub:c?te(c):""},n=te(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f,d,p="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" "),c={"%a":function(e){return p[e.Ka].substring(0,3)},"%A":function(e){return p[e.Ka]},"%b":function(e){return h[e.Ua].substring(0,3)},"%B":function(e){return h[e.Ua]},"%C":function(e){return o((e.Oa+1900)/100|0,2)},"%d":function(e){return o(e.Wa,2)},"%e":function(e){return i(e.Wa,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":u,"%H":function(e){return o(e.Ta,2)},"%I":function(e){return 0==(e=e.Ta)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ua-1;t+=(C(e.Oa+1900)?et:tt)[n++]);return o(e.Wa+t,3)},"%m":function(e){return o(e.Ua+1,2)},"%M":function(e){return o(e.sb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Ta&&e.Ta<12?"AM":"PM"},"%S":function(e){return o(e.tb,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ka||7},"%U":function(e){return o(Math.floor((e.Na+7-e.Ka)/7),2)},"%V":function(e){var t,n=Math.floor((e.Na+7-(e.Ka+6)%7)/7);return(e.Ka+371-e.Na-2)%7<=2&&n++,n?53!=n||4==(t=(e.Ka+371-e.Na)%7)||3==t&&C(e.Oa)||(n=1):(n=52,(4==(t=(e.Ka+7-e.Na-1)%7)||5==t&&C(e.Oa%400-1))&&n++),o(n,2)},"%w":function(e){return e.Ka},"%W":function(e){return o(Math.floor((e.Na+7-(e.Ka+6)%7)/7),2)},"%y":function(e){return(e.Oa+1900).toString().substring(2)},"%Y":function(e){return e.Oa+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}};for(l in n=n.replace(/%%/g,"\0\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return f=n=n.replace(/\0\0/g,"%"),d=Array(re(f)+1),ne(f,d,0,d.length),(l=d).length>t?0:(f=l,d=e,g().set(f,d>>>0),l.length-1)}I.Va();var rt=[null,me,ve,Te,Ee,xe,Se,Oe,Ae,Ie,Pe,De,Re,Ce,Me,Ne,Le,Ue,je,$e,qe,Ke,We,Ye,Xe,Je],it={b:function(e){return ot(e+24)+24},c:function(e,t,n){throw new be(e).Va(t,n),e},L:function(e){ut(e,!f,1,!V),I.$a()},m:function(e){p?postMessage({cmd:"cleanupThread",thread:e}):he(e)},D:we,i:Ee,S:xe,y:Se,B:Oe,t:Ae,Q:Ie,I:Pe,P:De,o:Re,z:Ce,w:Me,R:Ne,x:Le,q:function(){},j:function(){O("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},r:function(){O("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){return Date.now()},E:function(){return 2097152},U:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout(()=>Fe(r));else if(p)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=I.Ma[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},V:function(e,t){e=new Date(1e3*ke(e)),m()[t>>2>>>0]=e.getUTCSeconds(),m()[t+4>>2>>>0]=e.getUTCMinutes(),m()[t+8>>2>>>0]=e.getUTCHours(),m()[t+12>>2>>>0]=e.getUTCDate(),m()[t+16>>2>>>0]=e.getUTCMonth(),m()[t+20>>2>>>0]=e.getUTCFullYear()-1900,m()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,m()[t+28>>2>>>0]=e},W:function(e,t){e=new Date(1e3*ke(e)),m()[t>>2>>>0]=e.getSeconds(),m()[t+4>>2>>>0]=e.getMinutes(),m()[t+8>>2>>>0]=e.getHours(),m()[t+12>>2>>>0]=e.getDate(),m()[t+16>>2>>>0]=e.getMonth(),m()[t+20>>2>>>0]=e.getFullYear()-1900,m()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;m()[t+28>>2>>>0]=r,m()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),e=0|((r=new Date(e.getFullYear(),6,1).getTimezoneOffset())!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),m()[t+32>>2>>>0]=e},X:function(e){var t=new Date(m()[e+20>>2>>>0]+1900,m()[e+16>>2>>>0],m()[e+12>>2>>>0],m()[e+8>>2>>>0],m()[e+4>>2>>>0],m()[e>>2>>>0],0),n=m()[e+32>>2>>>0],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=i.getTimezoneOffset(),s=Math.min(a,o);return n<0?m()[e+32>>2>>>0]=Number(o!=a&&s==r):0<n!=(s==r)&&(o=Math.max(a,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),m()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-i.getTime())/864e5|0,m()[e+28>>2>>>0]=n,m()[e>>2>>>0]=t.getSeconds(),m()[e+4>>2>>>0]=t.getMinutes(),m()[e+8>>2>>>0]=t.getHours(),m()[e+12>>2>>>0]=t.getDate(),m()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:Ue,H:je,Y:function e(t,n,r){e.kb||(e.kb=!0,$e(t,n,r))},d:function(){O("")},n:function(){var e;d||f||(_e=_e||{})[e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(_e[e]=1,v(e=d?"warning: "+e:e))},v:function(){return 4294901760},f:z,O:function(e,t,n){l().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return d?yt(3993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){Ge.length=t,n>>=3;for(var r=0;r<t;r++)Ge[r]=F()[n+r>>>0];return(e<0?pe[-e-1]:rt[e]).apply(null,Ge)},u:function(e){var t=l().length;if(!((e>>>=0)<=t||4294901760<e))for(var n=1;n<=4;n*=2){var r=t*(1+.2/n),r=Math.min(r,e+100663296),i=Math;r=Math.max(e,r),i=i.min.call(i,4294901760,r+(65536-r%65536)%65536);e:{try{b.grow(i-T.byteLength+65535>>>16),w(b.buffer);var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},T:function(){throw"unwind"},M:qe,N:Ke,C:ye,h:We,l:Ye,s:Xe,k:Je,a:b||o.wasmMemory,A:nt,e:nt},M=(!function(){function t(e,t){o.asm=e.exports,I.ab.push(o.asm.wa),ie=o.asm.ya,ae.unshift(o.asm.Z),q=t,p||(x--,o.monitorRunDependencies&&o.monitorRunDependencies(x),0==x&&(null!==ce&&(clearInterval(ce),ce=null),S)&&(e=S,S=null,e()))}function n(e){t(e.instance,e.module)}function r(e){return function(){if(!y&&(V||f)){if("function"==typeof fetch&&!E.startsWith("file://"))return fetch(E,{credentials:"same-origin"}).then(function(e){if(e.ok)return e.arrayBuffer();throw"failed to load wasm binary file at '"+E+"'"}).catch(de);if(a)return new Promise(function(t,e){a(E,function(e){t(new Uint8Array(e))},e)})}return Promise.resolve().then(de)}().then(function(e){return WebAssembly.instantiate(e,i)}).then(function(e){return e}).then(e,function(e){v("failed to asynchronously prepare wasm: "+e),O(e)})}var i={a:it};if(p||(x++,o.monitorRunDependencies&&o.monitorRunDependencies(x)),o.instantiateWasm)try{return o.instantiateWasm(i,t)}catch(t){return v("Module.instantiateWasm callback failed with error: "+t)}(y||"function"!=typeof WebAssembly.instantiateStreaming||fe()||E.startsWith("file://")||d||"function"!=typeof fetch?r(n):fetch(E,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,i).then(n,function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),r(n)})})).catch(U)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.Z).apply(null,arguments)},o._OrtInit=function(){return(o._OrtInit=o.asm._).apply(null,arguments)},o._OrtCreateSessionOptions=function(){return(o._OrtCreateSessionOptions=o.asm.$).apply(null,arguments)},o._OrtAppendExecutionProvider=function(){return(o._OrtAppendExecutionProvider=o.asm.aa).apply(null,arguments)},o._OrtAddSessionConfigEntry=function(){return(o._OrtAddSessionConfigEntry=o.asm.ba).apply(null,arguments)},o._OrtReleaseSessionOptions=function(){return(o._OrtReleaseSessionOptions=o.asm.ca).apply(null,arguments)},o._OrtCreateSession=function(){return(o._OrtCreateSession=o.asm.da).apply(null,arguments)},o._OrtReleaseSession=function(){return(o._OrtReleaseSession=o.asm.ea).apply(null,arguments)},o._OrtGetInputCount=function(){return(o._OrtGetInputCount=o.asm.fa).apply(null,arguments)},o._OrtGetOutputCount=function(){return(o._OrtGetOutputCount=o.asm.ga).apply(null,arguments)},o._OrtGetInputName=function(){return(o._OrtGetInputName=o.asm.ha).apply(null,arguments)},o._OrtGetOutputName=function(){return(o._OrtGetOutputName=o.asm.ia).apply(null,arguments)},o._OrtFree=function(){return(o._OrtFree=o.asm.ja).apply(null,arguments)},o._OrtCreateTensor=function(){return(o._OrtCreateTensor=o.asm.ka).apply(null,arguments)},o._OrtGetTensorData=function(){return(o._OrtGetTensorData=o.asm.la).apply(null,arguments)},o._OrtReleaseTensor=function(){return(o._OrtReleaseTensor=o.asm.ma).apply(null,arguments)},o._OrtCreateRunOptions=function(){return(o._OrtCreateRunOptions=o.asm.na).apply(null,arguments)},o._OrtAddRunConfigEntry=function(){return(o._OrtAddRunConfigEntry=o.asm.oa).apply(null,arguments)},o._OrtReleaseRunOptions=function(){return(o._OrtReleaseRunOptions=o.asm.pa).apply(null,arguments)},o._OrtRun=function(){return(o._OrtRun=o.asm.qa).apply(null,arguments)},o._OrtEndProfiling=function(){return(o._OrtEndProfiling=o.asm.ra).apply(null,arguments)},o._pthread_self=function(){return(M=o._pthread_self=o.asm.sa).apply(null,arguments)}),ot=o._malloc=function(){return(ot=o._malloc=o.asm.ta).apply(null,arguments)},at=(o._free=function(){return(o._free=o.asm.ua).apply(null,arguments)},o._fflush=function(){return(at=o._fflush=o.asm.va).apply(null,arguments)}),st=(o.__emscripten_tls_init=function(){return(o.__emscripten_tls_init=o.asm.wa).apply(null,arguments)},o.___funcs_on_exit=function(){return(st=o.___funcs_on_exit=o.asm.xa).apply(null,arguments)}),ut=o.__emscripten_thread_init=function(){return(ut=o.__emscripten_thread_init=o.asm.za).apply(null,arguments)};o.__emscripten_thread_crashed=function(){return(o.__emscripten_thread_crashed=o.asm.Aa).apply(null,arguments)};var N,lt=o._emscripten_run_in_main_runtime_thread_js=function(){return(lt=o._emscripten_run_in_main_runtime_thread_js=o.asm.Ba).apply(null,arguments)},ct=o.__emscripten_proxy_execute_task_queue=function(){return(ct=o.__emscripten_proxy_execute_task_queue=o.asm.Ca).apply(null,arguments)},ft=o.__emscripten_thread_free_data=function(){return(ft=o.__emscripten_thread_free_data=o.asm.Da).apply(null,arguments)},dt=o.__emscripten_thread_exit=function(){return(dt=o.__emscripten_thread_exit=o.asm.Ea).apply(null,arguments)},pt=o._emscripten_stack_set_limits=function(){return(pt=o._emscripten_stack_set_limits=o.asm.Fa).apply(null,arguments)},ht=o.stackSave=function(){return(ht=o.stackSave=o.asm.Ga).apply(null,arguments)},L=o.stackRestore=function(){return(L=o.stackRestore=o.asm.Ha).apply(null,arguments)},gt=o.stackAlloc=function(){return(gt=o.stackAlloc=o.asm.Ia).apply(null,arguments)};function mt(){function e(){if(!N&&(N=!0,o.calledRun=!0,!Z)&&(p||P(ae),k(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),!p)){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;){var e=o.postRun.shift();ue.unshift(e)}P(ue)}}if(!(0<x))if(p)k(o),p||P(ae),postMessage({cmd:"loaded"});else{if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)t=void 0,t=o.preRun.shift(),oe.unshift(t);P(oe),0<x||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e())}var t}if(o.___cxa_is_pointer_type=function(){return(o.___cxa_is_pointer_type=o.asm.Ja).apply(null,arguments)},o.UTF8ToString=te,o.stringToUTF8=function(e,t,n){return ne(e,l(),t,n)},o.lengthBytesUTF8=re,o.keepRuntimeAlive=le,o.wasmMemory=b,o.stackSave=ht,o.stackRestore=L,o.stackAlloc=gt,o.ExitStatus=A,o.PThread=I,S=function e(){N||mt(),N||(S=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return mt(),t.ready}},5118:e=>{"use strict";e.exports='"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\n'},932:(e,t,ae)=>{var se;se=("undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js";e.exports=function(e){var o,n,a;e=e||{},(o=o||(void 0!==e?e:{})).ready=new Promise(function(e,t){n=e,a=t});var t,s,r,i,u,l,c=Object.assign({},o),f="./this.program",F="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,h="";p?(h=d?ae(908).dirname(h)+"/":"//",l=()=>{u||(i=ae(1384),u=ae(908))},t=function(e,t){return l(),e=u.normalize(e),i.readFileSync(e,t?void 0:"utf8")},r=e=>e=(e=t(e,!0)).buffer?e:new Uint8Array(e),s=(e,n,r)=>{l(),e=u.normalize(e),i.readFile(e,function(e,t){e?r(e):n(t.buffer)})},1<process.argv.length&&(f=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(e){throw e}),process.on("unhandledRejection",function(e){throw e}),o.inspect=function(){return"[Emscripten Module object]"}):(F||d)&&(d?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),h=0!==(h=se?se:h).indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",t=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(r=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),s=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var g,k=o.print||console.log.bind(console),m=o.printErr||console.warn.bind(console);Object.assign(o,c),o.thisProgram&&(f=o.thisProgram),o.wasmBinary&&(g=o.wasmBinary),o.noExitRuntime,"object"!=typeof WebAssembly&&P("no native wasm support detected");var y,U,v,_,b,T,j=!1,B="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function $(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(r<=n);)++n;if(16<n-t&&e.buffer&&B)return B.decode(e.subarray(t,n));for(r="";t<n;){var i,o,a=e[t++];128&a?(i=63&e[t++],192==(224&a)?r+=String.fromCharCode((31&a)<<6|i):(o=63&e[t++],(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])<65536?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a)))):r+=String.fromCharCode(a)}return r}function w(e,t){return(e>>>=0)?$(_,e,t):""}function E(e,t,n,r){if(!(0<r))return 0;var i=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);if((a=55296<=a&&a<=57343?65536+((1023&a)<<10)|1023&e.charCodeAt(++o):a)<=127){if(r<=n)break;t[n++>>>0]=a}else{if(a<=2047){if(r<=n+1)break;t[n++>>>0]=192|a>>6}else{if(a<=65535){if(r<=n+2)break;t[n++>>>0]=224|a>>12}else{if(r<=n+3)break;t[n++>>>0]=240|a>>18,t[n++>>>0]=128|a>>12&63}t[n++>>>0]=128|a>>6&63}t[n++>>>0]=128|63&a}}return t[n>>>0]=0,n-i}function x(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:55296<=r&&r<=57343?(t+=4,++n):t+=3}return t}function V(){var e=y.buffer;U=e,o.HEAP8=v=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=b=new Int32Array(e),o.HEAPU8=_=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=T=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}var G=[],z=[],H=[];var S,O=0,A=null,I=null;function P(e){throw o.onAbort&&o.onAbort(e),m(e="Aborted("+e+")"),j=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function q(){return S.startsWith("data:application/octet-stream;base64,")}function K(){var e=S;try{if(e==S&&g)return new Uint8Array(g);if(r)return r(e);throw"both async and sync fetching of the wasm failed"}catch(e){P(e)}}function D(e){for(;0<e.length;)e.shift()(o)}function W(e){this.ra=e-24,this.Ga=function(e){T[this.ra+4>>2>>>0]=e},this.za=function(e){T[this.ra+8>>2>>>0]=e},this.Aa=function(){b[this.ra>>2>>>0]=0},this.ya=function(){v[this.ra+12>>0>>>0]=0},this.Fa=function(){v[this.ra+13>>0>>>0]=0},this.wa=function(e,t){this.xa(),this.Ga(e),this.za(t),this.Aa(),this.ya(),this.Fa()},this.xa=function(){T[this.ra+16>>2>>>0]=0}}function Y(e){var t=x(e)+1,n=N(t);return n&&E(e,v,n,t),n}S="ort-wasm.wasm",q()||(c=S,S=o.locateFile?o.locateFile(c,h):h+c);var R={};function X(){if(!C){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"};for(e in R)void 0===R[e]?delete t[e]:t[e]=R[e];var n=[];for(e in t)n.push(e+"="+t[e]);C=n}return C}var C,Q=[null,[],[]];function M(e){return 0==e%4&&(0!=e%100||0==e%400)}var Z=[31,29,31,30,31,30,31,31,30,31,30,31],J=[31,28,31,30,31,30,31,31,30,31,30,31];function ee(e,t,n,r){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return i(e,t,"0")}function a(e,t){function n(e){return e<0?-1:0<e?1:0}var r;return r=0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))?n(e.getDate()-t.getDate()):r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.pa;for(e=new Date(new Date(e.qa+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(M(e.getFullYear())?Z:J)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),n<11?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),a(t,e)<=0?a(n,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var l,c=b[r+40>>2>>>0];for(l in r={Da:b[r>>2>>>0],Ca:b[r+4>>2>>>0],sa:b[r+8>>2>>>0],ua:b[r+12>>2>>>0],ta:b[r+16>>2>>>0],qa:b[r+20>>2>>>0],ka:b[r+24>>2>>>0],pa:b[r+28>>2>>>0],Ha:b[r+32>>2>>>0],Ba:b[r+36>>2>>>0],Ea:c?w(c):""},n=w(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f,d,p="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" "),c={"%a":function(e){return p[e.ka].substring(0,3)},"%A":function(e){return p[e.ka]},"%b":function(e){return h[e.ta].substring(0,3)},"%B":function(e){return h[e.ta]},"%C":function(e){return o((e.qa+1900)/100|0,2)},"%d":function(e){return o(e.ua,2)},"%e":function(e){return i(e.ua,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":u,"%H":function(e){return o(e.sa,2)},"%I":function(e){return 0==(e=e.sa)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ta-1;t+=(M(e.qa+1900)?Z:J)[n++]);return o(e.ua+t,3)},"%m":function(e){return o(e.ta+1,2)},"%M":function(e){return o(e.Ca,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.sa&&e.sa<12?"AM":"PM"},"%S":function(e){return o(e.Da,2)},"%t":function(){return"\t"},"%u":function(e){return e.ka||7},"%U":function(e){return o(Math.floor((e.pa+7-e.ka)/7),2)},"%V":function(e){var t,n=Math.floor((e.pa+7-(e.ka+6)%7)/7);return(e.ka+371-e.pa-2)%7<=2&&n++,n?53!=n||4==(t=(e.ka+371-e.pa)%7)||3==t&&M(e.qa)||(n=1):(n=52,(4==(t=(e.ka+7-e.pa-1)%7)||5==t&&M(e.qa%400-1))&&n++),o(n,2)},"%w":function(e){return e.ka},"%W":function(e){return o(Math.floor((e.pa+7-(e.ka+6)%7)/7),2)},"%y":function(e){return(e.qa+1900).toString().substring(2)},"%Y":function(e){return e.qa+1900},"%z":function(e){var t=0<=(e=e.Ba);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ea},"%%":function(){return"%"}};for(l in n=n.replace(/%%/g,"\0\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return f=n=n.replace(/\0\0/g,"%"),d=Array(x(f)+1),E(f,d,0,d.length),(l=d).length>t?0:(v.set(l,e>>>0),l.length-1)}var te={a:function(e){return N(e+24)+24},b:function(e,t,n){throw new W(e).wa(t,n),e},g:function(){return 0},J:function(){},w:function(){},z:function(){},s:function(){return 0},H:function(){},C:function(){},G:function(){},k:function(){},y:function(){},u:function(){},I:function(){},v:function(){},o:function(){},q:function(){P("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){P("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},K:function(){return!0},L:function(e,t){e=new Date(1e3*(T[e>>>2]+4294967296*b[e+4>>>2])),b[t>>2>>>0]=e.getUTCSeconds(),b[t+4>>2>>>0]=e.getUTCMinutes(),b[t+8>>2>>>0]=e.getUTCHours(),b[t+12>>2>>>0]=e.getUTCDate(),b[t+16>>2>>>0]=e.getUTCMonth(),b[t+20>>2>>>0]=e.getUTCFullYear()-1900,b[t+24>>2>>>0]=e.getUTCDay(),b[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},M:function(e,t){e=new Date(1e3*(T[e>>>2]+4294967296*b[e+4>>>2])),b[t>>2>>>0]=e.getSeconds(),b[t+4>>2>>>0]=e.getMinutes(),b[t+8>>2>>>0]=e.getHours(),b[t+12>>2>>>0]=e.getDate(),b[t+16>>2>>>0]=e.getMonth(),b[t+20>>2>>>0]=e.getFullYear()-1900,b[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(b[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,b[t+36>>2>>>0]=-60*e.getTimezoneOffset(),new Date(e.getFullYear(),6,1).getTimezoneOffset()),n=n.getTimezoneOffset();b[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},m:function(e){var t=new Date(b[e+20>>2>>>0]+1900,b[e+16>>2>>>0],b[e+12>>2>>>0],b[e+8>>2>>>0],b[e+4>>2>>>0],b[e>>2>>>0],0),n=b[e+32>>2>>>0],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=i.getTimezoneOffset(),s=Math.min(a,o);return n<0?b[e+32>>2>>>0]=Number(o!=a&&s==r):0<n!=(s==r)&&(o=Math.max(a,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),b[e+24>>2>>>0]=t.getDay(),b[e+28>>2>>>0]=(t.getTime()-i.getTime())/864e5|0,b[e>>2>>>0]=t.getSeconds(),b[e+4>>2>>>0]=t.getMinutes(),b[e+8>>2>>>0]=t.getHours(),b[e+12>>2>>>0]=t.getDate(),b[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},A:function(){return-52},B:function(){},n:function e(t,n,r){function i(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var o,a,s,u;e.va||(e.va=!0,t=t,n=n,r=r,o=(new Date).getFullYear(),a=new Date(o,0,1),s=new Date(o,6,1),o=a.getTimezoneOffset(),u=s.getTimezoneOffset(),b[t>>2>>>0]=60*Math.max(o,u),b[n>>2>>>0]=Number(o!=u),t=i(a),n=i(s),t=Y(t),n=Y(n),u<o?(T[r>>2>>>0]=t,T[r+4>>2>>>0]=n):(T[r>>2>>>0]=n,T[r+4>>2>>>0]=t))},d:function(){P("")},t:function(){return 4294901760},h:p?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),F:function(e,t,n){_.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=_.length;if(!(4294901760<(e>>>=0)))for(var n=1;n<=4;n*=2){var r=t*(1+.2/n),r=Math.min(r,e+100663296),i=Math;r=Math.max(e,r),i=i.min.call(i,4294901760,r+(65536-r%65536)%65536);e:{try{y.grow(i-U.byteLength+65535>>>16),V();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(r,i){var o=0;return X().forEach(function(e,t){var n=i+o;for(t=T[r+4*t>>2>>>0]=n,n=0;n<e.length;++n)v[t++>>0>>>0]=e.charCodeAt(n);v[t>>0>>>0]=0,o+=e.length+1}),0},E:function(e,t){var n=X(),r=(T[e>>2>>>0]=n.length,0);return n.forEach(function(e){r+=e.length+1}),T[t>>2>>>0]=r,0},e:function(){return 52},j:function(){return 52},r:function(){return 70},i:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=T[t>>2>>>0],s=T[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var l=_[a+u>>>0],c=Q[e];0===l||10===l?((1===e?k:m)($(c,0)),c.length=0):c.push(l)}i+=s}return T[r>>2>>>0]=i,0},x:ee,c:ee},N=(!function(){function t(e){o.asm=e.exports,y=o.asm.N,V(),z.unshift(o.asm.O),O--,o.monitorRunDependencies&&o.monitorRunDependencies(O),0==O&&(null!==A&&(clearInterval(A),A=null),I)&&(e=I,I=null,e())}function n(e){t(e.instance)}function r(e){return function(){if(!g&&(F||d)){if("function"==typeof fetch&&!S.startsWith("file://"))return fetch(S,{credentials:"same-origin"}).then(function(e){if(e.ok)return e.arrayBuffer();throw"failed to load wasm binary file at '"+S+"'"}).catch(K);if(s)return new Promise(function(t,e){s(S,function(e){t(new Uint8Array(e))},e)})}return Promise.resolve().then(K)}().then(function(e){return WebAssembly.instantiate(e,i)}).then(function(e){return e}).then(e,function(e){m("failed to asynchronously prepare wasm: "+e),P(e)})}var i={a:te};if(O++,o.monitorRunDependencies&&o.monitorRunDependencies(O),o.instantiateWasm)try{return o.instantiateWasm(i,t)}catch(t){return m("Module.instantiateWasm callback failed with error: "+t)}(g||"function"!=typeof WebAssembly.instantiateStreaming||q()||S.startsWith("file://")||p||"function"!=typeof fetch?r(n):fetch(S,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,i).then(n,function(e){return m("wasm streaming compile failed: "+e),m("falling back to ArrayBuffer instantiation"),r(n)})})).catch(a)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.O).apply(null,arguments)},o._OrtInit=function(){return(o._OrtInit=o.asm.P).apply(null,arguments)},o._OrtCreateSessionOptions=function(){return(o._OrtCreateSessionOptions=o.asm.Q).apply(null,arguments)},o._OrtAppendExecutionProvider=function(){return(o._OrtAppendExecutionProvider=o.asm.R).apply(null,arguments)},o._OrtAddSessionConfigEntry=function(){return(o._OrtAddSessionConfigEntry=o.asm.S).apply(null,arguments)},o._OrtReleaseSessionOptions=function(){return(o._OrtReleaseSessionOptions=o.asm.T).apply(null,arguments)},o._OrtCreateSession=function(){return(o._OrtCreateSession=o.asm.U).apply(null,arguments)},o._OrtReleaseSession=function(){return(o._OrtReleaseSession=o.asm.V).apply(null,arguments)},o._OrtGetInputCount=function(){return(o._OrtGetInputCount=o.asm.W).apply(null,arguments)},o._OrtGetOutputCount=function(){return(o._OrtGetOutputCount=o.asm.X).apply(null,arguments)},o._OrtGetInputName=function(){return(o._OrtGetInputName=o.asm.Y).apply(null,arguments)},o._OrtGetOutputName=function(){return(o._OrtGetOutputName=o.asm.Z).apply(null,arguments)},o._OrtFree=function(){return(o._OrtFree=o.asm._).apply(null,arguments)},o._OrtCreateTensor=function(){return(o._OrtCreateTensor=o.asm.$).apply(null,arguments)},o._OrtGetTensorData=function(){return(o._OrtGetTensorData=o.asm.aa).apply(null,arguments)},o._OrtReleaseTensor=function(){return(o._OrtReleaseTensor=o.asm.ba).apply(null,arguments)},o._OrtCreateRunOptions=function(){return(o._OrtCreateRunOptions=o.asm.ca).apply(null,arguments)},o._OrtAddRunConfigEntry=function(){return(o._OrtAddRunConfigEntry=o.asm.da).apply(null,arguments)},o._OrtReleaseRunOptions=function(){return(o._OrtReleaseRunOptions=o.asm.ea).apply(null,arguments)},o._OrtRun=function(){return(o._OrtRun=o.asm.fa).apply(null,arguments)},o._OrtEndProfiling=function(){return(o._OrtEndProfiling=o.asm.ga).apply(null,arguments)},o._malloc=function(){return(N=o._malloc=o.asm.ha).apply(null,arguments)});o._free=function(){return(o._free=o.asm.ia).apply(null,arguments)},o._fflush=function(){return(o._fflush=o.asm.ja).apply(null,arguments)};var L,ne=o.stackSave=function(){return(ne=o.stackSave=o.asm.la).apply(null,arguments)},re=o.stackRestore=function(){return(re=o.stackRestore=o.asm.ma).apply(null,arguments)},ie=o.stackAlloc=function(){return(ie=o.stackAlloc=o.asm.na).apply(null,arguments)};function oe(){function e(){if(!L&&(L=!0,o.calledRun=!0,!j)){if(D(z),n(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;){var e=o.postRun.shift();H.unshift(e)}D(H)}}if(!(0<O)){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)t=void 0,t=o.preRun.shift(),G.unshift(t);D(G),0<O||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e())}var t}if(o.___cxa_is_pointer_type=function(){return(o.___cxa_is_pointer_type=o.asm.oa).apply(null,arguments)},o.UTF8ToString=w,o.stringToUTF8=function(e,t,n){return E(e,_,t,n)},o.lengthBytesUTF8=x,o.stackSave=ne,o.stackRestore=re,o.stackAlloc=ie,I=function e(){L||oe(),L||(I=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return oe(),e.ready}},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),o=0,r=2,a=!0;r<arguments.length;)n[o++]=arguments[r++];return new Promise(function(r,i){n[o]=function(e){if(a)if(a=!1,e)i(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];r.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,i(e))}})}},7419:(e,t)=>{"use strict";t.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var l=new Array(64),u=new Array(123),n=0;n<64;)u[l[n]=n<26?n+65:n<52?n+71:n<62?n-4:n-59|43]=n++;t.encode=function(e,t,n){for(var r,i=null,o=[],a=0,s=0;t<n;){var u=e[t++];switch(s){case 0:o[a++]=l[u>>2],r=(3&u)<<4,s=1;break;case 1:o[a++]=l[r|u>>4],r=(15&u)<<2,s=2;break;case 2:o[a++]=l[r|u>>6],o[a++]=l[63&u],s=0}8191<a&&((i=i||[]).push(String.fromCharCode.apply(String,o)),a=0)}return s&&(o[a++]=l[r],o[a++]=61,1===s)&&(o[a++]=61),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var c="invalid encoding";t.decode=function(e,t,n){for(var r,i=n,o=0,a=0;a<e.length;){var s=e.charCodeAt(a++);if(61===s&&1<o)break;if(void 0===(s=u[s]))throw Error(c);switch(o){case 0:r=s,o=1;break;case 1:t[n++]=r<<2|(48&s)>>4,r=s,o=2;break;case 2:t[n++]=(15&r)<<4|(60&s)>>2,r=s,o=3;break;case 3:t[n++]=(3&r)<<6|s,o=0}}if(1===o)throw Error(c);return n-i},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:e=>{"use strict";function t(){this._listeners={}}(e.exports=t).prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?(l=new Float32Array([-0]),c=new Uint8Array(l.buffer),f=128===c[3],e.writeFloatLE=f?h:g,e.writeFloatBE=f?g:h,e.readFloatLE=f?m:y,e.readFloatBE=f?y:m):(e.writeFloatLE=d.bind(null,v),e.writeFloatBE=d.bind(null,_),e.readFloatLE=p.bind(null,b),e.readFloatBE=p.bind(null,T)),"undefined"!=typeof Float64Array?(s=new Float64Array([-0]),u=new Uint8Array(s.buffer),f=128===u[7],e.writeDoubleLE=f?r:i,e.writeDoubleBE=f?i:r,e.readDoubleLE=f?o:a,e.readDoubleBE=f?a:o):(e.writeDoubleLE=t.bind(null,v,0,4),e.writeDoubleBE=t.bind(null,_,4,0),e.readDoubleLE=n.bind(null,b,0,4),e.readDoubleBE=n.bind(null,T,4,0)),e;function t(e,t,n,r,i,o){var a,s,u=r<0?1:0;0===(r=u?-r:r)?(e(0,i,o+t),e(0<1/r?0:2147483648,i,o+n)):isNaN(r)?(e(0,i,o+t),e(2146959360,i,o+n)):17976931348623157e292<r?(e(0,i,o+t),e((u<<31|2146435072)>>>0,i,o+n)):r<22250738585072014e-324?(e((a=r/5e-324)>>>0,i,o+t),e((u<<31|a/4294967296)>>>0,i,o+n)):(1024===(s=Math.floor(Math.log(r)/Math.LN2))&&(s=1023),e(4503599627370496*(a=r*Math.pow(2,-s))>>>0,i,o+t),e((u<<31|s+1023<<20|1048576*a&1048575)>>>0,i,o+n))}function n(e,t,n,r,i){t=e(r,i+t),e=e(r,i+n),r=2*(e>>31)+1,i=e>>>20&2047,n=4294967296*(1048575&e)+t;return 2047==i?n?NaN:1/0*r:0==i?5e-324*r*n:r*Math.pow(2,i-1075)*(n+4503599627370496)}function r(e,t,n){s[0]=e,t[n]=u[0],t[n+1]=u[1],t[n+2]=u[2],t[n+3]=u[3],t[n+4]=u[4],t[n+5]=u[5],t[n+6]=u[6],t[n+7]=u[7]}function i(e,t,n){s[0]=e,t[n]=u[7],t[n+1]=u[6],t[n+2]=u[5],t[n+3]=u[4],t[n+4]=u[3],t[n+5]=u[2],t[n+6]=u[1],t[n+7]=u[0]}function o(e,t){return u[0]=e[t],u[1]=e[t+1],u[2]=e[t+2],u[3]=e[t+3],u[4]=e[t+4],u[5]=e[t+5],u[6]=e[t+6],u[7]=e[t+7],s[0]}function a(e,t){return u[7]=e[t],u[6]=e[t+1],u[5]=e[t+2],u[4]=e[t+3],u[3]=e[t+4],u[2]=e[t+5],u[1]=e[t+6],u[0]=e[t+7],s[0]}var s,u,l,c,f;function d(e,t,n,r){var i=t<0?1:0;0===(t=i?-t:t)?e(0<1/t?0:2147483648,n,r):isNaN(t)?e(2143289344,n,r):e(34028234663852886e22<t?(i<<31|2139095040)>>>0:t<11754943508222875e-54?(i<<31|Math.round(t/1401298464324817e-60))>>>0:(i<<31|(e=Math.floor(Math.log(t)/Math.LN2))+127<<23|8388607&Math.round(t*Math.pow(2,-e)*8388608))>>>0,n,r)}function p(e,t,n){e=e(t,n),t=2*(e>>31)+1,n=e>>>23&255,e&=8388607;return 255==n?e?NaN:1/0*t:0==n?1401298464324817e-60*t*e:t*Math.pow(2,n-150)*(8388608+e)}function h(e,t,n){l[0]=e,t[n]=c[0],t[n+1]=c[1],t[n+2]=c[2],t[n+3]=c[3]}function g(e,t,n){l[0]=e,t[n]=c[3],t[n+1]=c[2],t[n+2]=c[1],t[n+3]=c[0]}function m(e,t){return c[0]=e[t],c[1]=e[t+1],c[2]=e[t+2],c[3]=e[t+3],l[0]}function y(e,t){return c[3]=e[t],c[2]=e[t+1],c[1]=e[t+2],c[0]=e[t+3],l[0]}}function v(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function _(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function T(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6662:e=>{"use strict";e.exports=function(t,n,e){var r=e||8192,i=r>>>1,o=null,a=r;return function(e){if(e<1||i<e)return t(e);r<a+e&&(o=t(r),a=0);e=n.call(o,a,a+=e);return 7&a&&(a=1+(7|a)),e}}},4997:(e,t)=>{"use strict";t.length=function(e){for(var t,n=0,r=0;r<e.length;++r)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(r+1))?(++r,n+=4):n+=3;return n},t.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:191<r&&r<224?o[a++]=(31&r)<<6|63&e[t++]:239<r&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],8191<a&&((i=i||[]).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},t.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(++a,t[n++]=(r=65536+((1023&r)<<10)+(1023&i))>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128);return n-o}},4819:(e,t,n)=>{"use strict";n.r(t),n.d(t,{flatbuffers:()=>u});var u={};u.Offset,u.Table,u.SIZEOF_SHORT=2,u.SIZEOF_INT=4,u.FILE_IDENTIFIER_LENGTH=4,u.SIZE_PREFIX_LENGTH=4,u.Encoding={UTF8_BYTES:1,UTF16_STRING:2},u.int32=new Int32Array(2),u.float32=new Float32Array(u.int32.buffer),u.float64=new Float64Array(u.int32.buffer),u.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],u.Long=function(e,t){this.low=0|e,this.high=0|t},u.Long.create=function(e,t){return 0==e&&0==t?u.Long.ZERO:new u.Long(e,t)},u.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},u.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},u.Long.ZERO=new u.Long(0,0),u.Builder=function(e){e=e||1024;this.bb=u.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},u.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},u.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},u.Builder.prototype.dataBuffer=function(){return this.bb},u.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},u.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var r=this.bb.capacity();this.bb=u.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-r}this.pad(n)},u.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},u.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(--this.space,e)},u.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},u.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},u.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},u.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},u.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},u.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},u.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},u.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},u.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},u.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},u.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},u.Builder.prototype.addFieldInt8=function(e,t,n){!this.force_defaults&&t==n||(this.addInt8(t),this.slot(e))},u.Builder.prototype.addFieldInt16=function(e,t,n){!this.force_defaults&&t==n||(this.addInt16(t),this.slot(e))},u.Builder.prototype.addFieldInt32=function(e,t,n){!this.force_defaults&&t==n||(this.addInt32(t),this.slot(e))},u.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},u.Builder.prototype.addFieldFloat32=function(e,t,n){!this.force_defaults&&t==n||(this.addFloat32(t),this.slot(e))},u.Builder.prototype.addFieldFloat64=function(e,t,n){!this.force_defaults&&t==n||(this.addFloat64(t),this.slot(e))},u.Builder.prototype.addFieldOffset=function(e,t,n){!this.force_defaults&&t==n||(this.addOffset(t),this.slot(e))},u.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},u.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},u.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},u.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},u.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},u.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,r=u.ByteBuffer.allocate(n);return r.setPosition(n-t),r.bytes().set(e.bytes(),n-t),r},u.Builder.prototype.addOffset=function(e){this.prep(u.SIZEOF_INT,0),this.writeInt32(this.offset()-e+u.SIZEOF_INT)},u.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},u.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;0<=t&&0==this.vtable[t];t--);for(var n=t+1;0<=t;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var r=(n+2)*u.SIZEOF_SHORT,i=(this.addInt16(r),0),o=this.space;e:for(t=0;t<this.vtables.length;t++){var a=this.bb.capacity()-this.vtables[t];if(r==this.bb.readInt16(a)){for(var s=u.SIZEOF_SHORT;s<r;s+=u.SIZEOF_SHORT)if(this.bb.readInt16(o+s)!=this.bb.readInt16(a+s))continue e;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},u.Builder.prototype.finish=function(e,t,n){n=n?u.SIZE_PREFIX_LENGTH:0;if(t){var r=t;if(this.prep(this.minalign,u.SIZEOF_INT+u.FILE_IDENTIFIER_LENGTH+n),r.length!=u.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+u.FILE_IDENTIFIER_LENGTH);for(var i=u.FILE_IDENTIFIER_LENGTH-1;0<=i;i--)this.writeInt8(r.charCodeAt(i))}this.prep(this.minalign,u.SIZEOF_INT+n),this.addOffset(e),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},u.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},u.Builder.prototype.requiredField=function(e,t){e=this.bb.capacity()-e,e-=this.bb.readInt32(e);if(0==this.bb.readInt16(e+t))throw new Error("FlatBuffers: field "+t+" must be set")},u.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(u.SIZEOF_INT,e*t),this.prep(n,e*t)},u.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},u.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else for(var t=[],n=0;n<e.length;){var r=e.charCodeAt(n++);(r=r<55296||56320<=r?r:(r<<10)+e.charCodeAt(n++)+-56613888)<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var n=0,i=this.space,o=this.bb.bytes();n<t.length;n++)o[i++]=t[n];return this.endVector()},u.Builder.prototype.createLong=function(e,t){return u.Long.create(e,t)},u.ByteBuffer=function(e){this.bytes_=e,this.position_=0},u.ByteBuffer.allocate=function(e){return new u.ByteBuffer(new Uint8Array(e))},u.ByteBuffer.prototype.clear=function(){this.position_=0},u.ByteBuffer.prototype.bytes=function(){return this.bytes_},u.ByteBuffer.prototype.position=function(){return this.position_},u.ByteBuffer.prototype.setPosition=function(e){this.position_=e},u.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},u.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},u.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},u.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},u.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},u.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},u.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},u.ByteBuffer.prototype.readInt64=function(e){return new u.Long(this.readInt32(e),this.readInt32(e+4))},u.ByteBuffer.prototype.readUint64=function(e){return new u.Long(this.readUint32(e),this.readUint32(e+4))},u.ByteBuffer.prototype.readFloat32=function(e){return u.int32[0]=this.readInt32(e),u.float32[0]},u.ByteBuffer.prototype.readFloat64=function(e){return u.int32[u.isLittleEndian?0:1]=this.readInt32(e),u.int32[u.isLittleEndian?1:0]=this.readInt32(e+4),u.float64[0]},u.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},u.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},u.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},u.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},u.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},u.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},u.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},u.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},u.ByteBuffer.prototype.writeFloat32=function(e,t){u.float32[0]=t,this.writeInt32(e,u.int32[0])},u.ByteBuffer.prototype.writeFloat64=function(e,t){u.float64[0]=t,this.writeInt32(e,u.int32[u.isLittleEndian?0:1]),this.writeInt32(e+4,u.int32[u.isLittleEndian?1:0])},u.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+u.SIZEOF_INT+u.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<u.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+u.SIZEOF_INT+t));return e},u.ByteBuffer.prototype.__offset=function(e,t){e-=this.readInt32(e);return t<this.readInt16(e)?this.readInt16(e+t):0},u.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},u.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),r="",i=0;if(e+=u.SIZEOF_INT,t===u.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;i<n;){var o,a,s=this.readUint8(e+i++);(s=s<192?s:(o=this.readUint8(e+i++),s<224?(31&s)<<6|63&o:(a=this.readUint8(e+i++),s<240?(15&s)<<12|(63&o)<<6|63&a:(7&s)<<18|(63&o)<<12|(63&a)<<6|63&this.readUint8(e+i++))))<65536?r+=String.fromCharCode(s):(s-=65536,r+=String.fromCharCode(55296+(s>>10),56320+(1023&s)))}return r},u.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},u.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+u.SIZEOF_INT},u.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},u.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=u.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+u.FILE_IDENTIFIER_LENGTH);for(var t=0;t<u.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+u.SIZEOF_INT+t))return!1;return!0},u.ByteBuffer.prototype.createLong=function(e,t){return u.Long.create(e,t)}},3442:(e,t)=>{"use strict";function n(e){if(!e)throw new TypeError("Invalid argument; `value` has no value.");this.value=n.EMPTY,e&&n.isGuid(e)&&(this.value=e)}t.__esModule=!0,n.isGuid=function(e){var t=e.toString();return e&&(e instanceof n||n.validator.test(t))},n.create=function(){return new n([n.gen(2),n.gen(1),n.gen(1),n.gen(1),n.gen(3)].join("-"))},n.createEmpty=function(){return new n("emptyguid")},n.parse=function(e){return new n(e)},n.raw=function(){return[n.gen(2),n.gen(1),n.gen(1),n.gen(1),n.gen(3)].join("-")},n.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},n.prototype.equals=function(e){return n.isGuid(e)&&this.value===e.toString()},n.prototype.isEmpty=function(){return this.value===n.EMPTY},n.prototype.toString=function(){return this.value},n.prototype.toJSON=function(){return{value:this.value}},n.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),n.EMPTY="00000000-0000-0000-0000-000000000000",t.Guid=n},3720:e=>{e.exports=r;var d=null;try{d=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function p(e){return!0===(e&&e.__isLong__)}Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=p;var o={},a={};function t(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=g(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=g(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function h(e,t){if(isNaN(e))return t?u:v;if(t){if(e<0)return u;if(i<=e)return w}else{if(e<=-s)return E;if(s<=e+1)return T}return e<0?h(-e,t).neg():g(e%n|0,e/n|0,t)}function g(e,t,n){return new r(e,t,n)}r.fromInt=t,r.fromNumber=h,r.fromBits=g;var l=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if(t="number"==typeof t?(n=t,!1):!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if(0<(r=e.indexOf("-")))throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var i=h(l(n,8)),o=v,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),n);o=(s<8?(s=h(l(n,s)),o.mul(s)):o=o.mul(i)).add(h(u))}return o.unsigned=t,o}function m(e,t){return"number"==typeof e?h(e,t):"string"==typeof e?c(e,t):g(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=c,r.fromValue=m;var n=4294967296,i=n*n,s=i/2,y=t(1<<24),v=t(0),u=(r.ZERO=v,t(0,!0)),f=(r.UZERO=u,t(1)),_=(r.ONE=f,t(1,!0)),b=(r.UONE=_,t(-1)),T=(r.NEG_ONE=b,g(-1,2147483647,!1)),w=(r.MAX_VALUE=T,g(-1,-1,!0)),E=(r.MAX_UNSIGNED_VALUE=w,g(0,-2147483648,!1)),x=(r.MIN_VALUE=E,r.prototype);x.toInt=function(){return this.unsigned?this.low>>>0:this.low},x.toNumber=function(){return this.unsigned?(this.high>>>0)*n+(this.low>>>0):this.high*n+(this.low>>>0)},x.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";var t,n;if(this.isNegative())return this.eq(E)?(n=h(e),n=(t=this.div(n)).mul(n).sub(this),t.toString(e)+n.toInt().toString(e)):"-"+this.neg().toString(e);for(var r=h(l(e,6),this.unsigned),i=this,o="";;){var a=i.div(r),s=(i.sub(a.mul(r)).toInt()>>>0).toString(e);if((i=a).isZero())return s+o;for(;s.length<6;)s="0"+s;o=""+s+o}},x.getHighBits=function(){return this.high},x.getHighBitsUnsigned=function(){return this.high>>>0},x.getLowBits=function(){return this.low},x.getLowBitsUnsigned=function(){return this.low>>>0},x.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},x.isZero=function(){return 0===this.high&&0===this.low},x.eqz=x.isZero,x.isNegative=function(){return!this.unsigned&&this.high<0},x.isPositive=function(){return this.unsigned||0<=this.high},x.isOdd=function(){return 1==(1&this.low)},x.isEven=function(){return 0==(1&this.low)},x.equals=function(e){return p(e)||(e=m(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},x.eq=x.equals,x.notEquals=function(e){return!this.eq(e)},x.neq=x.notEquals,x.ne=x.notEquals,x.lessThan=function(e){return this.comp(e)<0},x.lt=x.lessThan,x.lessThanOrEqual=function(e){return this.comp(e)<=0},x.lte=x.lessThanOrEqual,x.le=x.lessThanOrEqual,x.greaterThan=function(e){return 0<this.comp(e)},x.gt=x.greaterThan,x.greaterThanOrEqual=function(e){return 0<=this.comp(e)},x.gte=x.greaterThanOrEqual,x.ge=x.greaterThanOrEqual,x.compare=function(e){var t,n;return p(e)||(e=m(e)),this.eq(e)?0:(t=this.isNegative(),n=e.isNegative(),t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1)},x.comp=x.compare,x.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(f)},x.neg=x.negate,x.add=function(e){p(e)||(e=m(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,a=65535&e.high,s=e.low>>>16,u=0,l=0,c=0,f=0;return l+=(c=c+((f+=i+(65535&e.low))>>>16)+(r+s))>>>16,g((c&=65535)<<16|(f&=65535),((u+=(l+=n+a)>>>16)+(t+o)&65535)<<16|(l&=65535),this.unsigned)},x.subtract=function(e){return p(e)||(e=m(e)),this.add(e.neg())},x.sub=x.subtract,x.multiply=function(e){var t,n,r,i,o,a,s,u,l,c,f;return this.isZero()?v:(p(e)||(e=m(e)),d?g(d.mul(this.low,this.high,e.low,e.high),d.get_high(),this.unsigned):e.isZero()?v:this.eq(E)?e.isOdd()?E:v:e.eq(E)?this.isOdd()?E:v:this.isNegative()?e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg():e.isNegative()?this.mul(e.neg()).neg():this.lt(y)&&e.lt(y)?h(this.toNumber()*e.toNumber(),this.unsigned):(t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,a=65535&e.high,s=e.low>>>16,f=(f=c=l=u=0)+((l=l+((c+=i*(e=65535&e.low))>>>16)+r*e)>>>16)+((l=(l&65535)+i*s)>>>16),g((l&=65535)<<16|(c&=65535),(u=(u=(u+=(f+=n*e)>>>16)+((f=(f&65535)+r*s)>>>16)+((f=(f&65535)+i*a)>>>16))+(t*e+n*s+r*a+i*o)&65535)<<16|(f&=65535),this.unsigned)))},x.mul=x.multiply,x.divide=function(e){if((e=p(e)?e:m(e)).isZero())throw Error("division by zero");var t,n;if(d)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?g((this.unsigned?d.div_u:d.div_s)(this.low,this.high,e.low,e.high),d.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?u:v;if(this.unsigned){if((e=e.unsigned?e:e.toUnsigned()).gt(this))return u;if(e.gt(this.shru(1)))return _;n=u}else{if(this.eq(E))return e.eq(f)||e.eq(b)?E:e.eq(E)?f:(r=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?f:b:(t=this.sub(e.mul(r)),r.add(t.div(e)));if(e.eq(E))return this.unsigned?u:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=v}for(t=this;t.gte(e);){for(var r=Math.max(1,Math.floor(t.toNumber()/e.toNumber())),i=Math.ceil(Math.log(r)/Math.LN2),o=i<=48?1:l(2,i-48),a=h(r),s=a.mul(e);s.isNegative()||s.gt(t);)s=(a=h(r-=o,this.unsigned)).mul(e);a.isZero()&&(a=f),n=n.add(a),t=t.sub(s)}return n},x.div=x.divide,x.modulo=function(e){return p(e)||(e=m(e)),d?g((this.unsigned?d.rem_u:d.rem_s)(this.low,this.high,e.low,e.high),d.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},x.mod=x.modulo,x.rem=x.modulo,x.not=function(){return g(~this.low,~this.high,this.unsigned)},x.and=function(e){return p(e)||(e=m(e)),g(this.low&e.low,this.high&e.high,this.unsigned)},x.or=function(e){return p(e)||(e=m(e)),g(this.low|e.low,this.high|e.high,this.unsigned)},x.xor=function(e){return p(e)||(e=m(e)),g(this.low^e.low,this.high^e.high,this.unsigned)},x.shiftLeft=function(e){return p(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?g(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):g(0,this.low<<e-32,this.unsigned)},x.shl=x.shiftLeft,x.shiftRight=function(e){return p(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?g(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):g(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},x.shr=x.shiftRight,x.shiftRightUnsigned=function(e){var t;return p(e)&&(e=e.toInt()),0==(e&=63)?this:(t=this.high,e<32?g(this.low>>>e|t<<32-e,t>>>e,this.unsigned):g(32===e?t:t>>>e-32,0,this.unsigned))},x.shru=x.shiftRightUnsigned,x.shr_u=x.shiftRightUnsigned,x.toSigned=function(){return this.unsigned?g(this.low,this.high,!1):this},x.toUnsigned=function(){return this.unsigned?this:g(this.low,this.high,!0)},x.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},x.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},x.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1446:(e,t,n)=>{"use strict";var r,i,o=n(2100),a=o.Reader,s=o.Writer,u=o.util,l=o.roots.default||(o.roots.default={});function c(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function f(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function d(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function p(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function h(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function g(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function m(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function y(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function v(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function _(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function b(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function T(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function w(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function E(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}l.onnx=((n={}).Version=(r={},(i=Object.create(r))[r[0]="_START_VERSION"]=0,i[r[1]="IR_VERSION_2017_10_10"]=1,i[r[2]="IR_VERSION_2017_10_30"]=2,i[r[3]="IR_VERSION_2017_11_3"]=3,i[r[4]="IR_VERSION_2019_1_22"]=4,i[r[5]="IR_VERSION"]=5,i),n.AttributeProto=(E.prototype.name="",E.prototype.refAttrName="",E.prototype.docString="",E.prototype.type=0,E.prototype.f=0,E.prototype.i=u.Long?u.Long.fromBits(0,0,!1):0,E.prototype.s=u.newBuffer([]),E.prototype.t=null,E.prototype.g=null,E.prototype.floats=u.emptyArray,E.prototype.ints=u.emptyArray,E.prototype.strings=u.emptyArray,E.prototype.tensors=u.emptyArray,E.prototype.graphs=u.emptyArray,E.create=function(e){return new E(e)},E.encode=function(e,t){if(t=t||s.create(),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.f&&e.hasOwnProperty("f")&&t.uint32(21).float(e.f),null!=e.i&&e.hasOwnProperty("i")&&t.uint32(24).int64(e.i),null!=e.s&&e.hasOwnProperty("s")&&t.uint32(34).bytes(e.s),null!=e.t&&e.hasOwnProperty("t")&&l.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),null!=e.g&&e.hasOwnProperty("g")&&l.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),null!=e.floats&&e.floats.length){t.uint32(58).fork();for(var n=0;n<e.floats.length;++n)t.float(e.floats[n]);t.ldelim()}if(null!=e.ints&&e.ints.length){for(t.uint32(66).fork(),n=0;n<e.ints.length;++n)t.int64(e.ints[n]);t.ldelim()}if(null!=e.strings&&e.strings.length)for(n=0;n<e.strings.length;++n)t.uint32(74).bytes(e.strings[n]);if(null!=e.tensors&&e.tensors.length)for(n=0;n<e.tensors.length;++n)l.onnx.TensorProto.encode(e.tensors[n],t.uint32(82).fork()).ldelim();if(null!=e.graphs&&e.graphs.length)for(n=0;n<e.graphs.length;++n)l.onnx.GraphProto.encode(e.graphs[n],t.uint32(90).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(106).string(e.docString),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(160).int32(e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&t.uint32(170).string(e.refAttrName),t},E.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},E.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.AttributeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 21:r.refAttrName=e.string();break;case 13:r.docString=e.string();break;case 20:r.type=e.int32();break;case 2:r.f=e.float();break;case 3:r.i=e.int64();break;case 4:r.s=e.bytes();break;case 5:r.t=l.onnx.TensorProto.decode(e,e.uint32());break;case 6:r.g=l.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)r.floats.push(e.float());else r.floats.push(e.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&i))for(o=e.uint32()+e.pos;e.pos<o;)r.ints.push(e.int64());else r.ints.push(e.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(e.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(l.onnx.TensorProto.decode(e,e.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(l.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},E.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},E.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&!u.isString(e.refAttrName))return"refAttrName: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.f&&e.hasOwnProperty("f")&&"number"!=typeof e.f)return"f: number expected";if(null!=e.i&&e.hasOwnProperty("i")&&!(u.isInteger(e.i)||e.i&&u.isInteger(e.i.low)&&u.isInteger(e.i.high)))return"i: integer|Long expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||u.isString(e.s)))return"s: buffer expected";if(null!=e.t&&e.hasOwnProperty("t")&&(n=l.onnx.TensorProto.verify(e.t)))return"t."+n;if(null!=e.g&&e.hasOwnProperty("g")&&(n=l.onnx.GraphProto.verify(e.g)))return"g."+n;if(null!=e.floats&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if("number"!=typeof e.floats[t])return"floats: number[] expected"}if(null!=e.ints&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(u.isInteger(e.ints[t])||e.ints[t]&&u.isInteger(e.ints[t].low)&&u.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected"}if(null!=e.strings&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&"number"==typeof e.strings[t].length||u.isString(e.strings[t])))return"strings: buffer[] expected"}if(null!=e.tensors&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(n=l.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+n}if(null!=e.graphs&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t){var n;if(n=l.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+n}}return null},E.fromObject=function(e){if(e instanceof l.onnx.AttributeProto)return e;var t=new l.onnx.AttributeProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.refAttrName&&(t.refAttrName=String(e.refAttrName)),null!=e.docString&&(t.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10}if(null!=e.f&&(t.f=Number(e.f)),null!=e.i&&(u.Long?(t.i=u.Long.fromValue(e.i)).unsigned=!1:"string"==typeof e.i?t.i=parseInt(e.i,10):"number"==typeof e.i?t.i=e.i:"object"==typeof e.i&&(t.i=new u.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),null!=e.s&&("string"==typeof e.s?u.base64.decode(e.s,t.s=u.newBuffer(u.base64.length(e.s)),0):e.s.length&&(t.s=e.s)),null!=e.t){if("object"!=typeof e.t)throw TypeError(".onnx.AttributeProto.t: object expected");t.t=l.onnx.TensorProto.fromObject(e.t)}if(null!=e.g){if("object"!=typeof e.g)throw TypeError(".onnx.AttributeProto.g: object expected");t.g=l.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var n=0;n<e.floats.length;++n)t.floats[n]=Number(e.floats[n])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],n=0;n<e.ints.length;++n)u.Long?(t.ints[n]=u.Long.fromValue(e.ints[n])).unsigned=!1:"string"==typeof e.ints[n]?t.ints[n]=parseInt(e.ints[n],10):"number"==typeof e.ints[n]?t.ints[n]=e.ints[n]:"object"==typeof e.ints[n]&&(t.ints[n]=new u.LongBits(e.ints[n].low>>>0,e.ints[n].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],n=0;n<e.strings.length;++n)"string"==typeof e.strings[n]?u.base64.decode(e.strings[n],t.strings[n]=u.newBuffer(u.base64.length(e.strings[n])),0):e.strings[n].length&&(t.strings[n]=e.strings[n])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],n=0;n<e.tensors.length;++n){if("object"!=typeof e.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[n]=l.onnx.TensorProto.fromObject(e.tensors[n])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],n=0;n<e.graphs.length;++n){if("object"!=typeof e.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[n]=l.onnx.GraphProto.fromObject(e.graphs[n])}}return t},E.toObject=function(e,t){var n,r={};if(((t=t||{}).arrays||t.defaults)&&(r.floats=[],r.ints=[],r.strings=[],r.tensors=[],r.graphs=[]),t.defaults&&(r.name="",r.f=0,u.Long?(n=new u.Long(0,0,!1),r.i=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.i=t.longs===String?"0":0,t.bytes===String?r.s="":(r.s=[],t.bytes!==Array&&(r.s=u.newBuffer(r.s))),r.t=null,r.g=null,r.docString="",r.type=t.enums===String?"UNDEFINED":0,r.refAttrName=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.f&&e.hasOwnProperty("f")&&(r.f=t.json&&!isFinite(e.f)?String(e.f):e.f),null!=e.i&&e.hasOwnProperty("i")&&("number"==typeof e.i?r.i=t.longs===String?String(e.i):e.i:r.i=t.longs===String?u.Long.prototype.toString.call(e.i):t.longs===Number?new u.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),null!=e.s&&e.hasOwnProperty("s")&&(r.s=t.bytes===String?u.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),null!=e.t&&e.hasOwnProperty("t")&&(r.t=l.onnx.TensorProto.toObject(e.t,t)),null!=e.g&&e.hasOwnProperty("g")&&(r.g=l.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){r.floats=[];for(var i=0;i<e.floats.length;++i)r.floats[i]=t.json&&!isFinite(e.floats[i])?String(e.floats[i]):e.floats[i]}if(e.ints&&e.ints.length)for(r.ints=[],i=0;i<e.ints.length;++i)"number"==typeof e.ints[i]?r.ints[i]=t.longs===String?String(e.ints[i]):e.ints[i]:r.ints[i]=t.longs===String?u.Long.prototype.toString.call(e.ints[i]):t.longs===Number?new u.LongBits(e.ints[i].low>>>0,e.ints[i].high>>>0).toNumber():e.ints[i];if(e.strings&&e.strings.length)for(r.strings=[],i=0;i<e.strings.length;++i)r.strings[i]=t.bytes===String?u.base64.encode(e.strings[i],0,e.strings[i].length):t.bytes===Array?Array.prototype.slice.call(e.strings[i]):e.strings[i];if(e.tensors&&e.tensors.length)for(r.tensors=[],i=0;i<e.tensors.length;++i)r.tensors[i]=l.onnx.TensorProto.toObject(e.tensors[i],t);if(e.graphs&&e.graphs.length)for(r.graphs=[],i=0;i<e.graphs.length;++i)r.graphs[i]=l.onnx.GraphProto.toObject(e.graphs[i],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(r.docString=e.docString),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?l.onnx.AttributeProto.AttributeType[e.type]:e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&(r.refAttrName=e.refAttrName),r},E.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},E.AttributeType=(r={},(i=Object.create(r))[r[0]="UNDEFINED"]=0,i[r[1]="FLOAT"]=1,i[r[2]="INT"]=2,i[r[3]="STRING"]=3,i[r[4]="TENSOR"]=4,i[r[5]="GRAPH"]=5,i[r[6]="FLOATS"]=6,i[r[7]="INTS"]=7,i[r[8]="STRINGS"]=8,i[r[9]="TENSORS"]=9,i[r[10]="GRAPHS"]=10,i),E),n.ValueInfoProto=(w.prototype.name="",w.prototype.type=null,w.prototype.docString="",w.create=function(e){return new w(e)},w.encode=function(e,t){return t=t||s.create(),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.type&&e.hasOwnProperty("type")&&l.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(26).string(e.docString),t},w.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},w.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.ValueInfoProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.type=l.onnx.TypeProto.decode(e,e.uint32());break;case 3:r.docString=e.string();break;default:e.skipType(7&i)}}return r},w.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},w.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")){var t=l.onnx.TypeProto.verify(e.type);if(t)return"type."+t}return null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString)?"docString: string expected":null},w.fromObject=function(e){if(e instanceof l.onnx.ValueInfoProto)return e;var t=new l.onnx.ValueInfoProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.type){if("object"!=typeof e.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=l.onnx.TypeProto.fromObject(e.type)}return null!=e.docString&&(t.docString=String(e.docString)),t},w.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name="",n.type=null,n.docString=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=l.onnx.TypeProto.toObject(e.type,t)),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),n},w.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},w),n.NodeProto=(T.prototype.input=u.emptyArray,T.prototype.output=u.emptyArray,T.prototype.name="",T.prototype.opType="",T.prototype.domain="",T.prototype.attribute=u.emptyArray,T.prototype.docString="",T.create=function(e){return new T(e)},T.encode=function(e,t){if(t=t||s.create(),null!=e.input&&e.input.length)for(var n=0;n<e.input.length;++n)t.uint32(10).string(e.input[n]);if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)t.uint32(18).string(e.output[n]);if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.opType&&e.hasOwnProperty("opType")&&t.uint32(34).string(e.opType),null!=e.attribute&&e.attribute.length)for(n=0;n<e.attribute.length;++n)l.onnx.AttributeProto.encode(e.attribute[n],t.uint32(42).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(58).string(e.domain),t},T.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},T.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.NodeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(e.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(e.string());break;case 3:r.name=e.string();break;case 4:r.opType=e.string();break;case 7:r.domain=e.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(l.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:r.docString=e.string();break;default:e.skipType(7&i)}}return r},T.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},T.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!u.isString(e.input[t]))return"input: string[] expected"}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!u.isString(e.output[t]))return"output: string[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.opType&&e.hasOwnProperty("opType")&&!u.isString(e.opType))return"opType: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain))return"domain: string expected";if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var n=l.onnx.AttributeProto.verify(e.attribute[t]);if(n)return"attribute."+n}}return null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString)?"docString: string expected":null},T.fromObject=function(e){if(e instanceof l.onnx.NodeProto)return e;var t=new l.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var n=0;n<e.input.length;++n)t.input[n]=String(e.input[n])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n)t.output[n]=String(e.output[n])}if(null!=e.name&&(t.name=String(e.name)),null!=e.opType&&(t.opType=String(e.opType)),null!=e.domain&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],n=0;n<e.attribute.length;++n){if("object"!=typeof e.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[n]=l.onnx.AttributeProto.fromObject(e.attribute[n])}}return null!=e.docString&&(t.docString=String(e.docString)),t},T.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.input=[],n.output=[],n.attribute=[]),t.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),e.input&&e.input.length){n.input=[];for(var r=0;r<e.input.length;++r)n.input[r]=e.input[r]}if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=e.output[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.opType&&e.hasOwnProperty("opType")&&(n.opType=e.opType),e.attribute&&e.attribute.length)for(n.attribute=[],r=0;r<e.attribute.length;++r)n.attribute[r]=l.onnx.AttributeProto.toObject(e.attribute[r],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),n},T.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},T),n.ModelProto=(b.prototype.irVersion=u.Long?u.Long.fromBits(0,0,!1):0,b.prototype.opsetImport=u.emptyArray,b.prototype.producerName="",b.prototype.producerVersion="",b.prototype.domain="",b.prototype.modelVersion=u.Long?u.Long.fromBits(0,0,!1):0,b.prototype.docString="",b.prototype.graph=null,b.prototype.metadataProps=u.emptyArray,b.create=function(e){return new b(e)},b.encode=function(e,t){if(t=t||s.create(),null!=e.irVersion&&e.hasOwnProperty("irVersion")&&t.uint32(8).int64(e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&t.uint32(18).string(e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&t.uint32(26).string(e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(34).string(e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&t.uint32(40).int64(e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&l.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),null!=e.opsetImport&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)l.onnx.OperatorSetIdProto.encode(e.opsetImport[n],t.uint32(66).fork()).ldelim();if(null!=e.metadataProps&&e.metadataProps.length)for(n=0;n<e.metadataProps.length;++n)l.onnx.StringStringEntryProto.encode(e.metadataProps[n],t.uint32(114).fork()).ldelim();return t},b.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},b.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.ModelProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.irVersion=e.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(l.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:r.producerName=e.string();break;case 3:r.producerVersion=e.string();break;case 4:r.domain=e.string();break;case 5:r.modelVersion=e.int64();break;case 6:r.docString=e.string();break;case 7:r.graph=l.onnx.GraphProto.decode(e,e.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(l.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},b.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},b.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&!(u.isInteger(e.irVersion)||e.irVersion&&u.isInteger(e.irVersion.low)&&u.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(n=l.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+n}if(null!=e.producerName&&e.hasOwnProperty("producerName")&&!u.isString(e.producerName))return"producerName: string expected";if(null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&!u.isString(e.producerVersion))return"producerVersion: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain))return"domain: string expected";if(null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&!(u.isInteger(e.modelVersion)||e.modelVersion&&u.isInteger(e.modelVersion.low)&&u.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.graph&&e.hasOwnProperty("graph")&&(n=l.onnx.GraphProto.verify(e.graph)))return"graph."+n;if(null!=e.metadataProps&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t){var n;if(n=l.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+n}}return null},b.fromObject=function(e){if(e instanceof l.onnx.ModelProto)return e;var t=new l.onnx.ModelProto;if(null!=e.irVersion&&(u.Long?(t.irVersion=u.Long.fromValue(e.irVersion)).unsigned=!1:"string"==typeof e.irVersion?t.irVersion=parseInt(e.irVersion,10):"number"==typeof e.irVersion?t.irVersion=e.irVersion:"object"==typeof e.irVersion&&(t.irVersion=new u.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if("object"!=typeof e.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[n]=l.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n])}}if(null!=e.producerName&&(t.producerName=String(e.producerName)),null!=e.producerVersion&&(t.producerVersion=String(e.producerVersion)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.modelVersion&&(u.Long?(t.modelVersion=u.Long.fromValue(e.modelVersion)).unsigned=!1:"string"==typeof e.modelVersion?t.modelVersion=parseInt(e.modelVersion,10):"number"==typeof e.modelVersion?t.modelVersion=e.modelVersion:"object"==typeof e.modelVersion&&(t.modelVersion=new u.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),null!=e.docString&&(t.docString=String(e.docString)),null!=e.graph){if("object"!=typeof e.graph)throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=l.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],n=0;n<e.metadataProps.length;++n){if("object"!=typeof e.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[n]=l.onnx.StringStringEntryProto.fromObject(e.metadataProps[n])}}return t},b.toObject=function(e,t){var n,r={};if(((t=t||{}).arrays||t.defaults)&&(r.opsetImport=[],r.metadataProps=[]),t.defaults&&(u.Long?(n=new u.Long(0,0,!1),r.irVersion=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.irVersion=t.longs===String?"0":0,r.producerName="",r.producerVersion="",r.domain="",u.Long?(n=new u.Long(0,0,!1),r.modelVersion=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.modelVersion=t.longs===String?"0":0,r.docString="",r.graph=null),null!=e.irVersion&&e.hasOwnProperty("irVersion")&&("number"==typeof e.irVersion?r.irVersion=t.longs===String?String(e.irVersion):e.irVersion:r.irVersion=t.longs===String?u.Long.prototype.toString.call(e.irVersion):t.longs===Number?new u.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&(r.producerName=e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&(r.producerVersion=e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&(r.domain=e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&("number"==typeof e.modelVersion?r.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:r.modelVersion=t.longs===String?u.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new u.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&(r.docString=e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&(r.graph=l.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){r.opsetImport=[];for(var i=0;i<e.opsetImport.length;++i)r.opsetImport[i]=l.onnx.OperatorSetIdProto.toObject(e.opsetImport[i],t)}if(e.metadataProps&&e.metadataProps.length)for(r.metadataProps=[],i=0;i<e.metadataProps.length;++i)r.metadataProps[i]=l.onnx.StringStringEntryProto.toObject(e.metadataProps[i],t);return r},b.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},b),n.StringStringEntryProto=(_.prototype.key="",_.prototype.value="",_.create=function(e){return new _(e)},_.encode=function(e,t){return t=t||s.create(),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).string(e.value),t},_.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},_.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.StringStringEntryProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&i)}}return r},_.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},_.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!u.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!u.isString(e.value)?"value: string expected":null},_.fromObject=function(e){var t;return e instanceof l.onnx.StringStringEntryProto?e:(t=new l.onnx.StringStringEntryProto,null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t)},_.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.key="",n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},_.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},_),n.TensorAnnotation=(v.prototype.tensorName="",v.prototype.quantParameterTensorNames=u.emptyArray,v.create=function(e){return new v(e)},v.encode=function(e,t){if(t=t||s.create(),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&t.uint32(10).string(e.tensorName),null!=e.quantParameterTensorNames&&e.quantParameterTensorNames.length)for(var n=0;n<e.quantParameterTensorNames.length;++n)l.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[n],t.uint32(18).fork()).ldelim();return t},v.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},v.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TensorAnnotation;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tensorName=e.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(l.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},v.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},v.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorName&&e.hasOwnProperty("tensorName")&&!u.isString(e.tensorName))return"tensorName: string expected";if(null!=e.quantParameterTensorNames&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var n=l.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(n)return"quantParameterTensorNames."+n}}return null},v.fromObject=function(e){if(e instanceof l.onnx.TensorAnnotation)return e;var t=new l.onnx.TensorAnnotation;if(null!=e.tensorName&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n){if("object"!=typeof e.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[n]=l.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[n])}}return t},v.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.quantParameterTensorNames=[]),t.defaults&&(n.tensorName=""),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&(n.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<e.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=l.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[r],t)}return n},v.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},v),n.GraphProto=(y.prototype.node=u.emptyArray,y.prototype.name="",y.prototype.initializer=u.emptyArray,y.prototype.docString="",y.prototype.input=u.emptyArray,y.prototype.output=u.emptyArray,y.prototype.valueInfo=u.emptyArray,y.prototype.quantizationAnnotation=u.emptyArray,y.create=function(e){return new y(e)},y.encode=function(e,t){if(t=t||s.create(),null!=e.node&&e.node.length)for(var n=0;n<e.node.length;++n)l.onnx.NodeProto.encode(e.node[n],t.uint32(10).fork()).ldelim();if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.initializer&&e.initializer.length)for(n=0;n<e.initializer.length;++n)l.onnx.TensorProto.encode(e.initializer[n],t.uint32(42).fork()).ldelim();if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(82).string(e.docString),null!=e.input&&e.input.length)for(n=0;n<e.input.length;++n)l.onnx.ValueInfoProto.encode(e.input[n],t.uint32(90).fork()).ldelim();if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)l.onnx.ValueInfoProto.encode(e.output[n],t.uint32(98).fork()).ldelim();if(null!=e.valueInfo&&e.valueInfo.length)for(n=0;n<e.valueInfo.length;++n)l.onnx.ValueInfoProto.encode(e.valueInfo[n],t.uint32(106).fork()).ldelim();if(null!=e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n=0;n<e.quantizationAnnotation.length;++n)l.onnx.TensorAnnotation.encode(e.quantizationAnnotation[n],t.uint32(114).fork()).ldelim();return t},y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.GraphProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(l.onnx.NodeProto.decode(e,e.uint32()));break;case 2:r.name=e.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(l.onnx.TensorProto.decode(e,e.uint32()));break;case 10:r.docString=e.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(l.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(l.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(l.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(l.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},y.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(n=l.onnx.NodeProto.verify(e.node[t]))return"node."+n}if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.initializer&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(n=l.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+n}if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(n=l.onnx.ValueInfoProto.verify(e.input[t]))return"input."+n}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(n=l.onnx.ValueInfoProto.verify(e.output[t]))return"output."+n}if(null!=e.valueInfo&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(n=l.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+n}if(null!=e.quantizationAnnotation&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var n;if(n=l.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+n}}return null},y.fromObject=function(e){if(e instanceof l.onnx.GraphProto)return e;var t=new l.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var n=0;n<e.node.length;++n){if("object"!=typeof e.node[n])throw TypeError(".onnx.GraphProto.node: object expected");t.node[n]=l.onnx.NodeProto.fromObject(e.node[n])}}if(null!=e.name&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],n=0;n<e.initializer.length;++n){if("object"!=typeof e.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[n]=l.onnx.TensorProto.fromObject(e.initializer[n])}}if(null!=e.docString&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],n=0;n<e.input.length;++n){if("object"!=typeof e.input[n])throw TypeError(".onnx.GraphProto.input: object expected");t.input[n]=l.onnx.ValueInfoProto.fromObject(e.input[n])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n){if("object"!=typeof e.output[n])throw TypeError(".onnx.GraphProto.output: object expected");t.output[n]=l.onnx.ValueInfoProto.fromObject(e.output[n])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],n=0;n<e.valueInfo.length;++n){if("object"!=typeof e.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[n]=l.onnx.ValueInfoProto.fromObject(e.valueInfo[n])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],n=0;n<e.quantizationAnnotation.length;++n){if("object"!=typeof e.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[n]=l.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[n])}}return t},y.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),t.defaults&&(n.name="",n.docString=""),e.node&&e.node.length){n.node=[];for(var r=0;r<e.node.length;++r)n.node[r]=l.onnx.NodeProto.toObject(e.node[r],t)}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.initializer&&e.initializer.length)for(n.initializer=[],r=0;r<e.initializer.length;++r)n.initializer[r]=l.onnx.TensorProto.toObject(e.initializer[r],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.input&&e.input.length)for(n.input=[],r=0;r<e.input.length;++r)n.input[r]=l.onnx.ValueInfoProto.toObject(e.input[r],t);if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=l.onnx.ValueInfoProto.toObject(e.output[r],t);if(e.valueInfo&&e.valueInfo.length)for(n.valueInfo=[],r=0;r<e.valueInfo.length;++r)n.valueInfo[r]=l.onnx.ValueInfoProto.toObject(e.valueInfo[r],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<e.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=l.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[r],t);return n},y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},y),n.TensorProto=(g.prototype.dims=u.emptyArray,g.prototype.dataType=0,g.prototype.segment=null,g.prototype.floatData=u.emptyArray,g.prototype.int32Data=u.emptyArray,g.prototype.stringData=u.emptyArray,g.prototype.int64Data=u.emptyArray,g.prototype.name="",g.prototype.docString="",g.prototype.rawData=u.newBuffer([]),g.prototype.externalData=u.emptyArray,g.prototype.dataLocation=0,g.prototype.doubleData=u.emptyArray,g.prototype.uint64Data=u.emptyArray,g.create=function(e){return new g(e)},g.encode=function(e,t){if(t=t||s.create(),null!=e.dims&&e.dims.length){t.uint32(10).fork();for(var n=0;n<e.dims.length;++n)t.int64(e.dims[n]);t.ldelim()}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&t.uint32(16).int32(e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&l.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),null!=e.floatData&&e.floatData.length){for(t.uint32(34).fork(),n=0;n<e.floatData.length;++n)t.float(e.floatData[n]);t.ldelim()}if(null!=e.int32Data&&e.int32Data.length){for(t.uint32(42).fork(),n=0;n<e.int32Data.length;++n)t.int32(e.int32Data[n]);t.ldelim()}if(null!=e.stringData&&e.stringData.length)for(n=0;n<e.stringData.length;++n)t.uint32(50).bytes(e.stringData[n]);if(null!=e.int64Data&&e.int64Data.length){for(t.uint32(58).fork(),n=0;n<e.int64Data.length;++n)t.int64(e.int64Data[n]);t.ldelim()}if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(66).string(e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&t.uint32(74).bytes(e.rawData),null!=e.doubleData&&e.doubleData.length){for(t.uint32(82).fork(),n=0;n<e.doubleData.length;++n)t.double(e.doubleData[n]);t.ldelim()}if(null!=e.uint64Data&&e.uint64Data.length){for(t.uint32(90).fork(),n=0;n<e.uint64Data.length;++n)t.uint64(e.uint64Data[n]);t.ldelim()}if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(98).string(e.docString),null!=e.externalData&&e.externalData.length)for(n=0;n<e.externalData.length;++n)l.onnx.StringStringEntryProto.encode(e.externalData[n],t.uint32(106).fork()).ldelim();return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&t.uint32(112).int32(e.dataLocation),t},g.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},g.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TensorProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)r.dims.push(e.int64());else r.dims.push(e.int64());break;case 2:r.dataType=e.int32();break;case 3:r.segment=l.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&i))for(o=e.uint32()+e.pos;e.pos<o;)r.floatData.push(e.float());else r.floatData.push(e.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&i))for(o=e.uint32()+e.pos;e.pos<o;)r.int32Data.push(e.int32());else r.int32Data.push(e.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(e.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&i))for(o=e.uint32()+e.pos;e.pos<o;)r.int64Data.push(e.int64());else r.int64Data.push(e.int64());break;case 8:r.name=e.string();break;case 12:r.docString=e.string();break;case 9:r.rawData=e.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(l.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:r.dataLocation=e.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&i))for(o=e.uint32()+e.pos;e.pos<o;)r.doubleData.push(e.double());else r.doubleData.push(e.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&i))for(o=e.uint32()+e.pos;e.pos<o;)r.uint64Data.push(e.uint64());else r.uint64Data.push(e.uint64());break;default:e.skipType(7&i)}}return r},g.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},g.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(u.isInteger(e.dims[t])||e.dims[t]&&u.isInteger(e.dims[t].low)&&u.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected"}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&!u.isInteger(e.dataType))return"dataType: integer expected";if(null!=e.segment&&e.hasOwnProperty("segment")&&(n=l.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+n;if(null!=e.floatData&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if("number"!=typeof e.floatData[t])return"floatData: number[] expected"}if(null!=e.int32Data&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!u.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(null!=e.stringData&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&"number"==typeof e.stringData[t].length||u.isString(e.stringData[t])))return"stringData: buffer[] expected"}if(null!=e.int64Data&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(u.isInteger(e.int64Data[t])||e.int64Data[t]&&u.isInteger(e.int64Data[t].low)&&u.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!u.isString(e.name))return"name: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!u.isString(e.docString))return"docString: string expected";if(null!=e.rawData&&e.hasOwnProperty("rawData")&&!(e.rawData&&"number"==typeof e.rawData.length||u.isString(e.rawData)))return"rawData: buffer expected";if(null!=e.externalData&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var n;if(n=l.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+n}}if(null!=e.dataLocation&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=e.doubleData&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if("number"!=typeof e.doubleData[t])return"doubleData: number[] expected"}if(null!=e.uint64Data&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(u.isInteger(e.uint64Data[t])||e.uint64Data[t]&&u.isInteger(e.uint64Data[t].low)&&u.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected"}return null},g.fromObject=function(e){if(e instanceof l.onnx.TensorProto)return e;var t=new l.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var n=0;n<e.dims.length;++n)u.Long?(t.dims[n]=u.Long.fromValue(e.dims[n])).unsigned=!1:"string"==typeof e.dims[n]?t.dims[n]=parseInt(e.dims[n],10):"number"==typeof e.dims[n]?t.dims[n]=e.dims[n]:"object"==typeof e.dims[n]&&(t.dims[n]=new u.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber())}if(null!=e.dataType&&(t.dataType=0|e.dataType),null!=e.segment){if("object"!=typeof e.segment)throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=l.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],n=0;n<e.floatData.length;++n)t.floatData[n]=Number(e.floatData[n])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],n=0;n<e.int32Data.length;++n)t.int32Data[n]=0|e.int32Data[n]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],n=0;n<e.stringData.length;++n)"string"==typeof e.stringData[n]?u.base64.decode(e.stringData[n],t.stringData[n]=u.newBuffer(u.base64.length(e.stringData[n])),0):e.stringData[n].length&&(t.stringData[n]=e.stringData[n])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],n=0;n<e.int64Data.length;++n)u.Long?(t.int64Data[n]=u.Long.fromValue(e.int64Data[n])).unsigned=!1:"string"==typeof e.int64Data[n]?t.int64Data[n]=parseInt(e.int64Data[n],10):"number"==typeof e.int64Data[n]?t.int64Data[n]=e.int64Data[n]:"object"==typeof e.int64Data[n]&&(t.int64Data[n]=new u.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber())}if(null!=e.name&&(t.name=String(e.name)),null!=e.docString&&(t.docString=String(e.docString)),null!=e.rawData&&("string"==typeof e.rawData?u.base64.decode(e.rawData,t.rawData=u.newBuffer(u.base64.length(e.rawData)),0):e.rawData.length&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],n=0;n<e.externalData.length;++n){if("object"!=typeof e.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[n]=l.onnx.StringStringEntryProto.fromObject(e.externalData[n])}}switch(e.dataLocation){case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],n=0;n<e.doubleData.length;++n)t.doubleData[n]=Number(e.doubleData[n])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],n=0;n<e.uint64Data.length;++n)u.Long?(t.uint64Data[n]=u.Long.fromValue(e.uint64Data[n])).unsigned=!0:"string"==typeof e.uint64Data[n]?t.uint64Data[n]=parseInt(e.uint64Data[n],10):"number"==typeof e.uint64Data[n]?t.uint64Data[n]=e.uint64Data[n]:"object"==typeof e.uint64Data[n]&&(t.uint64Data[n]=new u.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0))}return t},g.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),t.defaults&&(n.dataType=0,n.segment=null,n.name="",t.bytes===String?n.rawData="":(n.rawData=[],t.bytes!==Array&&(n.rawData=u.newBuffer(n.rawData))),n.docString="",n.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){n.dims=[];for(var r=0;r<e.dims.length;++r)"number"==typeof e.dims[r]?n.dims[r]=t.longs===String?String(e.dims[r]):e.dims[r]:n.dims[r]=t.longs===String?u.Long.prototype.toString.call(e.dims[r]):t.longs===Number?new u.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber():e.dims[r]}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&(n.dataType=e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&(n.segment=l.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(n.floatData=[],r=0;r<e.floatData.length;++r)n.floatData[r]=t.json&&!isFinite(e.floatData[r])?String(e.floatData[r]):e.floatData[r];if(e.int32Data&&e.int32Data.length)for(n.int32Data=[],r=0;r<e.int32Data.length;++r)n.int32Data[r]=e.int32Data[r];if(e.stringData&&e.stringData.length)for(n.stringData=[],r=0;r<e.stringData.length;++r)n.stringData[r]=t.bytes===String?u.base64.encode(e.stringData[r],0,e.stringData[r].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[r]):e.stringData[r];if(e.int64Data&&e.int64Data.length)for(n.int64Data=[],r=0;r<e.int64Data.length;++r)"number"==typeof e.int64Data[r]?n.int64Data[r]=t.longs===String?String(e.int64Data[r]):e.int64Data[r]:n.int64Data[r]=t.longs===String?u.Long.prototype.toString.call(e.int64Data[r]):t.longs===Number?new u.LongBits(e.int64Data[r].low>>>0,e.int64Data[r].high>>>0).toNumber():e.int64Data[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&(n.rawData=t.bytes===String?u.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(n.doubleData=[],r=0;r<e.doubleData.length;++r)n.doubleData[r]=t.json&&!isFinite(e.doubleData[r])?String(e.doubleData[r]):e.doubleData[r];if(e.uint64Data&&e.uint64Data.length)for(n.uint64Data=[],r=0;r<e.uint64Data.length;++r)"number"==typeof e.uint64Data[r]?n.uint64Data[r]=t.longs===String?String(e.uint64Data[r]):e.uint64Data[r]:n.uint64Data[r]=t.longs===String?u.Long.prototype.toString.call(e.uint64Data[r]):t.longs===Number?new u.LongBits(e.uint64Data[r].low>>>0,e.uint64Data[r].high>>>0).toNumber(!0):e.uint64Data[r];if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.externalData&&e.externalData.length)for(n.externalData=[],r=0;r<e.externalData.length;++r)n.externalData[r]=l.onnx.StringStringEntryProto.toObject(e.externalData[r],t);return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&(n.dataLocation=t.enums===String?l.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),n},g.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},g.DataType=(r={},(i=Object.create(r))[r[0]="UNDEFINED"]=0,i[r[1]="FLOAT"]=1,i[r[2]="UINT8"]=2,i[r[3]="INT8"]=3,i[r[4]="UINT16"]=4,i[r[5]="INT16"]=5,i[r[6]="INT32"]=6,i[r[7]="INT64"]=7,i[r[8]="STRING"]=8,i[r[9]="BOOL"]=9,i[r[10]="FLOAT16"]=10,i[r[11]="DOUBLE"]=11,i[r[12]="UINT32"]=12,i[r[13]="UINT64"]=13,i[r[14]="COMPLEX64"]=14,i[r[15]="COMPLEX128"]=15,i[r[16]="BFLOAT16"]=16,i),g.Segment=(m.prototype.begin=u.Long?u.Long.fromBits(0,0,!1):0,m.prototype.end=u.Long?u.Long.fromBits(0,0,!1):0,m.create=function(e){return new m(e)},m.encode=function(e,t){return t=t||s.create(),null!=e.begin&&e.hasOwnProperty("begin")&&t.uint32(8).int64(e.begin),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(16).int64(e.end),t},m.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},m.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TensorProto.Segment;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.begin=e.int64();break;case 2:r.end=e.int64();break;default:e.skipType(7&i)}}return r},m.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},m.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.begin&&e.hasOwnProperty("begin")&&!(u.isInteger(e.begin)||e.begin&&u.isInteger(e.begin.low)&&u.isInteger(e.begin.high))?"begin: integer|Long expected":null!=e.end&&e.hasOwnProperty("end")&&!(u.isInteger(e.end)||e.end&&u.isInteger(e.end.low)&&u.isInteger(e.end.high))?"end: integer|Long expected":null},m.fromObject=function(e){var t;return e instanceof l.onnx.TensorProto.Segment?e:(t=new l.onnx.TensorProto.Segment,null!=e.begin&&(u.Long?(t.begin=u.Long.fromValue(e.begin)).unsigned=!1:"string"==typeof e.begin?t.begin=parseInt(e.begin,10):"number"==typeof e.begin?t.begin=e.begin:"object"==typeof e.begin&&(t.begin=new u.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),null!=e.end&&(u.Long?(t.end=u.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"==typeof e.end&&(t.end=new u.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t)},m.toObject=function(e,t){var n,r={};return(t=t||{}).defaults&&(u.Long?(n=new u.Long(0,0,!1),r.begin=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.begin=t.longs===String?"0":0,u.Long?(n=new u.Long(0,0,!1),r.end=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.end=t.longs===String?"0":0),null!=e.begin&&e.hasOwnProperty("begin")&&("number"==typeof e.begin?r.begin=t.longs===String?String(e.begin):e.begin:r.begin=t.longs===String?u.Long.prototype.toString.call(e.begin):t.longs===Number?new u.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?r.end=t.longs===String?String(e.end):e.end:r.end=t.longs===String?u.Long.prototype.toString.call(e.end):t.longs===Number?new u.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),r},m.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},m),g.DataLocation=(r={},(i=Object.create(r))[r[0]="DEFAULT"]=0,i[r[1]="EXTERNAL"]=1,i),g),n.TensorShapeProto=(p.prototype.dim=u.emptyArray,p.create=function(e){return new p(e)},p.encode=function(e,t){if(t=t||s.create(),null!=e.dim&&e.dim.length)for(var n=0;n<e.dim.length;++n)l.onnx.TensorShapeProto.Dimension.encode(e.dim[n],t.uint32(10).fork()).ldelim();return t},p.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},p.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TensorShapeProto;e.pos<n;){var i=e.uint32();i>>>3==1?(r.dim&&r.dim.length||(r.dim=[]),r.dim.push(l.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&i)}return r},p.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},p.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dim&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var n=l.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(n)return"dim."+n}}return null},p.fromObject=function(e){if(e instanceof l.onnx.TensorShapeProto)return e;var t=new l.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var n=0;n<e.dim.length;++n){if("object"!=typeof e.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[n]=l.onnx.TensorShapeProto.Dimension.fromObject(e.dim[n])}}return t},p.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.dim=[]),e.dim&&e.dim.length){n.dim=[];for(var r=0;r<e.dim.length;++r)n.dim[r]=l.onnx.TensorShapeProto.Dimension.toObject(e.dim[r],t)}return n},p.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},p.Dimension=(h.prototype.dimValue=u.Long?u.Long.fromBits(0,0,!1):0,h.prototype.dimParam="",h.prototype.denotation="",Object.defineProperty(h.prototype,"value",{get:u.oneOfGetter(r=["dimValue","dimParam"]),set:u.oneOfSetter(r)}),h.create=function(e){return new h(e)},h.encode=function(e,t){return t=t||s.create(),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&t.uint32(8).int64(e.dimValue),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&t.uint32(18).string(e.dimParam),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(26).string(e.denotation),t},h.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},h.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TensorShapeProto.Dimension;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.dimValue=e.int64();break;case 2:r.dimParam=e.string();break;case 3:r.denotation=e.string();break;default:e.skipType(7&i)}}return r},h.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},h.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.dimValue&&e.hasOwnProperty("dimValue")&&(t.value=1,!(u.isInteger(e.dimValue)||e.dimValue&&u.isInteger(e.dimValue.low)&&u.isInteger(e.dimValue.high))))return"dimValue: integer|Long expected";if(null!=e.dimParam&&e.hasOwnProperty("dimParam")){if(1===t.value)return"value: multiple values";if(t.value=1,!u.isString(e.dimParam))return"dimParam: string expected"}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!u.isString(e.denotation)?"denotation: string expected":null},h.fromObject=function(e){var t;return e instanceof l.onnx.TensorShapeProto.Dimension?e:(t=new l.onnx.TensorShapeProto.Dimension,null!=e.dimValue&&(u.Long?(t.dimValue=u.Long.fromValue(e.dimValue)).unsigned=!1:"string"==typeof e.dimValue?t.dimValue=parseInt(e.dimValue,10):"number"==typeof e.dimValue?t.dimValue=e.dimValue:"object"==typeof e.dimValue&&(t.dimValue=new u.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber())),null!=e.dimParam&&(t.dimParam=String(e.dimParam)),null!=e.denotation&&(t.denotation=String(e.denotation)),t)},h.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.denotation=""),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&("number"==typeof e.dimValue?n.dimValue=t.longs===String?String(e.dimValue):e.dimValue:n.dimValue=t.longs===String?u.Long.prototype.toString.call(e.dimValue):t.longs===Number?new u.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber():e.dimValue,t.oneofs)&&(n.value="dimValue"),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&(n.dimParam=e.dimParam,t.oneofs)&&(n.value="dimParam"),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},h.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},h),p),n.TypeProto=(f.prototype.tensorType=null,f.prototype.denotation="",Object.defineProperty(f.prototype,"value",{get:u.oneOfGetter(i=["tensorType"]),set:u.oneOfSetter(i)}),f.create=function(e){return new f(e)},f.encode=function(e,t){return t=t||s.create(),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&l.onnx.TypeProto.Tensor.encode(e.tensorType,t.uint32(10).fork()).ldelim(),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(50).string(e.denotation),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TypeProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tensorType=l.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 6:r.denotation=e.string();break;default:e.skipType(7&i)}}return r},f.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},f.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorType&&e.hasOwnProperty("tensorType")){var t=l.onnx.TypeProto.Tensor.verify(e.tensorType);if(t)return"tensorType."+t}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!u.isString(e.denotation)?"denotation: string expected":null},f.fromObject=function(e){if(e instanceof l.onnx.TypeProto)return e;var t=new l.onnx.TypeProto;if(null!=e.tensorType){if("object"!=typeof e.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");t.tensorType=l.onnx.TypeProto.Tensor.fromObject(e.tensorType)}return null!=e.denotation&&(t.denotation=String(e.denotation)),t},f.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.denotation=""),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(n.tensorType=l.onnx.TypeProto.Tensor.toObject(e.tensorType,t),t.oneofs)&&(n.value="tensorType"),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.Tensor=(d.prototype.elemType=0,d.prototype.shape=null,d.create=function(e){return new d(e)},d.encode=function(e,t){return t=t||s.create(),null!=e.elemType&&e.hasOwnProperty("elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&l.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t},d.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},d.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.TypeProto.Tensor;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.elemType=e.int32();break;case 2:r.shape=l.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},d.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},d.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!u.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){e=l.onnx.TensorShapeProto.verify(e.shape);if(e)return"shape."+e}return null},d.fromObject=function(e){if(e instanceof l.onnx.TypeProto.Tensor)return e;var t=new l.onnx.TypeProto.Tensor;if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");t.shape=l.onnx.TensorShapeProto.fromObject(e.shape)}return t},d.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.elemType=0,n.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(n.shape=l.onnx.TensorShapeProto.toObject(e.shape,t)),n},d.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},d),f),n.OperatorSetIdProto=(c.prototype.domain="",c.prototype.version=u.Long?u.Long.fromBits(0,0,!1):0,c.create=function(e){return new c(e)},c.encode=function(e,t){return t=t||s.create(),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(10).string(e.domain),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(16).int64(e.version),t},c.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},c.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new l.onnx.OperatorSetIdProto;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.domain=e.string();break;case 2:r.version=e.int64();break;default:e.skipType(7&i)}}return r},c.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},c.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.domain&&e.hasOwnProperty("domain")&&!u.isString(e.domain)?"domain: string expected":null!=e.version&&e.hasOwnProperty("version")&&!(u.isInteger(e.version)||e.version&&u.isInteger(e.version.low)&&u.isInteger(e.version.high))?"version: integer|Long expected":null},c.fromObject=function(e){var t;return e instanceof l.onnx.OperatorSetIdProto?e:(t=new l.onnx.OperatorSetIdProto,null!=e.domain&&(t.domain=String(e.domain)),null!=e.version&&(u.Long?(t.version=u.Long.fromValue(e.version)).unsigned=!1:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"==typeof e.version&&(t.version=new u.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t)},c.toObject=function(e,t){var n,r={};return(t=t||{}).defaults&&(r.domain="",u.Long?(n=new u.Long(0,0,!1),r.version=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.version=t.longs===String?"0":0),null!=e.domain&&e.hasOwnProperty("domain")&&(r.domain=e.domain),null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?r.version=t.longs===String?String(e.version):e.version:r.version=t.longs===String?u.Long.prototype.toString.call(e.version):t.longs===Number?new u.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),r},c.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},c),n),e.exports=l},2100:(e,t,n)=>{"use strict";e.exports=n(9482)},9482:(e,t,n)=>{"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=i,i()},1408:(e,t,n)=>{"use strict";e.exports=u;var r,i=n(9693),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}function l(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new r(e):f(e)})(e)}:f}var c,f="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")};function d(){var e=new o(0,0),t=0;if(!(4<this.len-this.pos)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,4<this.len-this.pos){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}u.create=l(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)||!((this.pos+=5)>this.len))return c;throw this.pos=this.len,s(this,10)}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){r=e,u.create=l(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=o;var r=n(1408),i=((o.prototype=Object.create(r.prototype)).constructor=o,n(9693));function o(e){r.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=r;var s=n(9693);function r(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");s.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}((r.prototype=Object.create(s.EventEmitter.prototype)).constructor=r).prototype.rpcCall=function e(n,t,r,i,o){if(!i)throw TypeError("request must be specified");var a=this;if(!o)return s.asPromise(e,a,n,t,r,i);if(a.rpcImpl)try{return a.rpcImpl(n,t[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,t){if(e)return a.emit("error",e,n),o(e);if(null!==t){if(!(t instanceof r))try{t=r[a.responseDelimited?"decodeDelimited":"decode"](t)}catch(e){return a.emit("error",e,n),o(e)}return a.emit("data",t,n),o(null,t)}a.end(!0)})}catch(e){a.emit("error",e,n),setTimeout(function(){o(e)},0)}else setTimeout(function(){o(Error("already ended"))},0)},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0),a=(o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1},i.zeroHash="\0\0\0\0\0\0\0\0",i.fromNumber=function(e){var t,n;return 0===e?o:(n=(e=(t=e<0)?-e:e)>>>0,e=(e-n)/4294967296>>>0,t&&(e=~e>>>0,n=~n>>>0,4294967295<++n)&&(n=0,4294967295<++e)&&(e=0),new i(n,e))},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){var t;return!e&&this.hi>>>31?(e=1+~this.lo>>>0,t=~this.hi>>>0,-(e+4294967296*(t=e?t:t+1>>>0))):this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}},String.prototype.charCodeAt);i.fromHash=function(e){return"\0\0\0\0\0\0\0\0"===e?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0==n?0==t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function n(e,t){if(!(this instanceof n))return new n(e,t);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),t&&i(this,t)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return e}}),n.prototype.toString=function(){return this.name+": "+this.message},n}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||0<(Array.isArray(n)?n:Object.keys(n)).length)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){e=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(e.lo,e.hi,t):e.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var n={},t=0;t<e.length;++t)n[e[t]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;-1<t;--t)if(1===n[e[t]]&&void 0!==this[e[t]]&&null!==this[e[t]])return e[t]}},r.oneOfSetter=function(n){return function(e){for(var t=0;t<n.length;++t)n[t]!==e&&delete this[n[t]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var n=r.Buffer;n?(r._Buffer_from=n.from!==Uint8Array.from&&n.from||function(e,t){return new n(e,t)},r._Buffer_allocUnsafe=n.allocUnsafe||function(e){return new n(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},1173:(e,t,n)=>{"use strict";e.exports=f;var r,i=n(9693),o=i.LongBits,a=i.base64,s=i.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(l,0,0),this.tail=this.head,this.states=null}function d(){return i.Buffer?function(){return(f.create=function(){return new r})()}:function(){return new f}}function p(e,t,n){t[n]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}f.create=d(),f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},(h.prototype=Object.create(u.prototype)).fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(g,10,o.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.int64=f.prototype.uint64=function(e){e=o.from(e);return this._push(g,e.length(),e)},f.prototype.sint64=function(e){e=o.from(e).zzEncode();return this._push(g,e.length(),e)},f.prototype.bool=function(e){return this._push(p,1,e?1:0)},f.prototype.sfixed32=f.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},f.prototype.sfixed64=f.prototype.fixed64=function(e){e=o.from(e);return this._push(m,4,e.lo)._push(m,4,e.hi)},f.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var y=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};f.prototype.bytes=function(e){var t,n=e.length>>>0;return n?(i.isString(e)&&(t=f.alloc(n=a.length(e)),a.decode(e,t,0),e=t),this.uint32(n)._push(y,n,e)):this._push(p,1,0)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},f.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new u(l,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(l,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},f._configure=function(e){r=e,f.create=d(),r._configure()}},3155:(e,t,n)=>{"use strict";e.exports=o;var r=n(1173),i=((o.prototype=Object.create(r.prototype)).constructor=o,n(9693));function o(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){var t=(e=i.isString(e)?i._Buffer_from(e,"base64"):e).length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},7714:(e,t,n)=>{"use strict";t.R=void 0;const r=n(6919),i=n(7448);t.R=new class{async init(){}async createSessionHandler(e,t){t=new r.Session(t);return await t.loadModel(e),new i.OnnxjsSessionHandler(t)}}},4200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wasmBackend=t.initializeFlags=void 0;const r=n(2203),i=n(2174),o=n(5381),a=n(8022),s=n(2157),u=n(2306);t.initializeFlags=()=>{var e;("number"!=typeof i.env.wasm.initTimeout||i.env.wasm.initTimeout<0)&&(i.env.wasm.initTimeout=0),"boolean"!=typeof i.env.wasm.simd&&(i.env.wasm.simd=!0),"boolean"!=typeof i.env.wasm.proxy&&(i.env.wasm.proxy=!1),("number"!=typeof i.env.wasm.numThreads||!Number.isInteger(i.env.wasm.numThreads)||i.env.wasm.numThreads<=0)&&(e="undefined"==typeof navigator?o.cpus().length:navigator.hardwareConcurrency,i.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2)))},t.wasmBackend=new class{async init(){t.initializeFlags(),await s.initWasm()}async createSessionHandler(e,t){let n;if("string"==typeof e)if("undefined"==typeof fetch)n=await a.promisify(r.readFile)(e);else{const t=await fetch(e),r=await t.arrayBuffer();n=new Uint8Array(r)}else n=e;e=new u.OnnxruntimeWebAssemblySessionHandler;return await e.loadModel(n,t),Promise.resolve(e)}}},6018:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=(Object.defineProperty(t,"__esModule",{value:!0}),i(n(2174),t),n(2174));{const e=n(7714).R;i.registerBackend("webgl",e,-10)}{const e=n(4200).wasmBackend;i.registerBackend("cpu",e,10),i.registerBackend("wasm",e,10),i.registerBackend("xnnpack",e,9)}},246:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class n{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(e=>""+this[e]).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=e=>new n(e)},7778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;const r=n(1446),i=n(9395),o=n(9162),a=n(2517);var s=i.onnxruntime.experimental.fbs;class u{constructor(e){if(this._attributes=new Map,null!=e){for(const t of e)t instanceof r.onnx.AttributeProto?this._attributes.set(t.name,[u.getValue(t),u.getType(t)]):t instanceof s.Attribute&&this._attributes.set(t.name(),[u.getValue(t),u.getType(t)]);if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}set(e,t,n){this._attributes.set(e,[n,t])}delete(e){this._attributes.delete(e)}getFloat(e,t){return this.get(e,"float",t)}getInt(e,t){return this.get(e,"int",t)}getString(e,t){return this.get(e,"string",t)}getTensor(e,t){return this.get(e,"tensor",t)}getFloats(e,t){return this.get(e,"floats",t)}getInts(e,t){return this.get(e,"ints",t)}getStrings(e,t){return this.get(e,"strings",t)}getTensors(e,t){return this.get(e,"tensors",t)}get(e,t,n){var r=this._attributes.get(e);if(void 0===r){if(void 0!==n)return n;throw new Error("required attribute not found: "+e)}if(r[1]!==t)throw new Error(`type mismatch: expected ${t} but got `+r[1]);return r[0]}static getType(e){var t=e instanceof r.onnx.AttributeProto?e.type:e.type();switch(t){case r.onnx.AttributeProto.AttributeType.FLOAT:return"float";case r.onnx.AttributeProto.AttributeType.INT:return"int";case r.onnx.AttributeProto.AttributeType.STRING:return"string";case r.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case r.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case r.onnx.AttributeProto.AttributeType.INTS:return"ints";case r.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case r.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error("attribute type is not supported yet: "+r.onnx.AttributeProto.AttributeType[t])}}static getValue(t){const n=t instanceof r.onnx.AttributeProto?t.type:t.type();if(n===r.onnx.AttributeProto.AttributeType.GRAPH||n===r.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");var e=this.getValueNoCheck(t);if(n===r.onnx.AttributeProto.AttributeType.INT&&a.LongUtil.isLong(e))return a.LongUtil.longToNumber(e);if(n===r.onnx.AttributeProto.AttributeType.INTS){const t=e,n=new Array(t.length);for(let e=0;e<t.length;e++){const r=t[e];n[e]=a.LongUtil.longToNumber(r)}return n}if(n===r.onnx.AttributeProto.AttributeType.TENSOR)return t instanceof r.onnx.AttributeProto?o.Tensor.fromProto(e):o.Tensor.fromOrtTensor(e);if(n===r.onnx.AttributeProto.AttributeType.TENSORS){if(t instanceof r.onnx.AttributeProto)return e.map(e=>o.Tensor.fromProto(e));if(t instanceof s.Attribute)return e.map(e=>o.Tensor.fromOrtTensor(e))}if(n===r.onnx.AttributeProto.AttributeType.STRING&&t instanceof r.onnx.AttributeProto){const t=e;return a.decodeUtf8String(t)}return n===r.onnx.AttributeProto.AttributeType.STRINGS&&t instanceof r.onnx.AttributeProto?e.map(a.decodeUtf8String):e}static getValueNoCheck(e){return e instanceof r.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e)}static getValueNoCheckFromOnnxFormat(e){switch(e.type){case r.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case r.onnx.AttributeProto.AttributeType.INT:return e.i;case r.onnx.AttributeProto.AttributeType.STRING:return e.s;case r.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case r.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case r.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case r.onnx.AttributeProto.AttributeType.INTS:return e.ints;case r.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case r.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case r.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error("unsupported attribute type: "+r.onnx.AttributeProto.AttributeType[e.type])}}static getValueNoCheckFromOrtFormat(t){switch(t.type()){case s.AttributeType.FLOAT:return t.f();case s.AttributeType.INT:return t.i();case s.AttributeType.STRING:return t.s();case s.AttributeType.TENSOR:return t.t();case s.AttributeType.GRAPH:return t.g();case s.AttributeType.FLOATS:return t.floatsArray();case s.AttributeType.INTS:var n=[];for(let e=0;e<t.intsLength();e++)n.push(t.ints(e));return n;case s.AttributeType.STRINGS:var r=[];for(let e=0;e<t.stringsLength();e++)r.push(t.strings(e));return r;case s.AttributeType.TENSORS:var i=[];for(let e=0;e<t.tensorsLength();e++)i.push(t.tensors(e));return i;default:throw new Error("unsupported attribute type: "+s.AttributeType[t.type()])}}}t.Attribute=u},7091:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resolveBackend=r.backend=void 0;const n=t(5038),i=new Map;r.backend={webgl:new n.WebGLBackend},r.resolveBackend=async function e(t){if(!t)return e(["webgl"]);{const e="string"==typeof t?[t]:t;for(const t of e){const e=i.get(t);if(e)return e;var n=await async function(t){var e,n=r.backend;if(void 0!==n[t]&&"initialize"in(e=n[t])&&"function"==typeof e.initialize&&"createSessionHandler"in e&&"function"==typeof e.createSessionHandler&&"dispose"in e&&"function"==typeof e.dispose){const r=n[t];let e=r.initialize();if(e="object"==typeof e&&"then"in e?await e:e)return i.set(t,r),r}}(t);if(n)return n}}throw new Error("no available backend to use")}},5038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBackend=void 0;const r=n(2174),i=n(6231),o=n(6416),a=n(7305);t.WebGLBackend=class{get contextId(){return r.env.webgl.contextId}set contextId(e){r.env.webgl.contextId=e}get matmulMaxBatchSize(){return r.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(e){r.env.webgl.matmulMaxBatchSize=e}get textureCacheMode(){return r.env.webgl.textureCacheMode}set textureCacheMode(e){r.env.webgl.textureCacheMode=e}get pack(){return r.env.webgl.pack}set pack(e){r.env.webgl.pack=e}get async(){return r.env.webgl.async}set async(e){r.env.webgl.async=e}initialize(){try{return this.glContext=a.createWebGLContext(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),i.Logger.setWithEnv(r.env),i.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(e){return i.Logger.warning("WebGLBackend","Unable to initialize WebGLBackend. "+e),!1}}createSessionHandler(e){return new o.WebGLSessionHandler(this,e)}dispose(){this.glContext.dispose()}}},5107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsGlslLib=void 0;const m=n(2517),y=n(8520),f=n(5060),d=n(7859),v=n(9390);class r extends y.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new y.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new y.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){var e=this.context.outputTextureLayout;return e.isPacked?this.getPackedOutputSamplingSnippet(e):this.getUnpackedOutputSamplingSnippet(e)}getPackedOutputSamplingSnippet(e){var t=e.unpackedShape,n=[e.width,e.height],r={},i="getOutputCoords";switch(t.length){case 0:r[i]=this.getOutputScalarCoords();break;case 1:r[i]=this.getOutputPacked1DCoords(t,n);break;case 2:r[i]=this.getOutputPacked2DCoords(t,n);break;case 3:r[i]=this.getOutputPacked3DCoords(t,n);break;default:r[i]=this.getOutputPackedNDCoords(t,n)}e=`
      void setOutput(vec4 val) {
        ${f.getGlsl(this.context.glContext.version).output} = val;
      }
    `;return r.floatTextureSetRGBA=new y.GlslLibRoutine(e),r}getUnpackedOutputSamplingSnippet(e){var t=e.unpackedShape,n=[e.width,e.height],r={},i="getOutputCoords";switch(t.length){case 0:r[i]=this.getOutputScalarCoords();break;case 1:r[i]=this.getOutputUnpacked1DCoords(t,n);break;case 2:r[i]=this.getOutputUnpacked2DCoords(t,n);break;case 3:r[i]=this.getOutputUnpacked3DCoords(t,n);break;case 4:r[i]=this.getOutputUnpacked4DCoords(t,n);break;case 5:r[i]=this.getOutputUnpacked5DCoords(t,n);break;case 6:r[i]=this.getOutputUnpacked6DCoords(t,n);break;default:throw new Error("Unsupported output dimensionality: "+t.length)}e=`
        void setOutput(float val) {
          ${f.getGlsl(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return r.floatTextureSetR=new y.GlslLibRoutine(e),r}getOutputScalarCoords(){return new y.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(e,t){let n="";return n=1===t[0]?`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${t[1]}.0);
          }
        `:1===t[1]?`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${t[0]}.0);
          }
        `:`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${t[0]}, ${t[1]}));
          return 2 * (resTexRC.y * ${t[0]} + resTexRC.x);
        }
      `,new y.GlslLibRoutine(n)}getOutputPacked2DCoords(e,t){let n="";return m.ArrayUtil.arraysEqual(e,t)?n=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${t[0]}, ${t[1]}));
        }
      `:(t=t,e=Math.ceil(e[1]/2),n=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));

          int index = resTexRC.y * ${t[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${e}) * 2;
          int c = 2 * (index / ${e});

          return ivec2(r, c);
        }
      `),new y.GlslLibRoutine(n)}getOutputPacked3DCoords(e,t){var t=[t[0],t[1]],n=Math.ceil(e[2]/2),e=n*Math.ceil(e[1]/2),t=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;

          int b = index / ${e};
          index -= b * ${e};

          // reverse r and c order for packed texture
          int r = imod(index, ${n}) * 2;
          int c = 2 * (index / ${n});

          return ivec3(b, r, c);
        }
      `;return new y.GlslLibRoutine(t)}getOutputPackedNDCoords(t,e){var e=[e[0],e[1]],n=Math.ceil(t[t.length-1]/2),r=n*Math.ceil(t[t.length-2]/2);let i=r,o="",a="b, r, c";for(let e=2;e<t.length-1;e++)i*=t[t.length-e-1],o=`
      int b${e} = index / ${i};
      index -= b${e} * ${i};
    `+o,a=`b${e}, `+a;e=`
      ivec${t.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.y * ${e[0]} + resTexRC.x;

        ${o}

        int b = index / ${r};
        index -= b * ${r};

        // reverse r and c order for packed texture
        int r = imod(index, ${n}) * 2;
        int c = 2 * (index / ${n});

        return ivec${t.length}(${a});
      }
    `;return new y.GlslLibRoutine(e)}getOutputUnpacked1DCoords(e,t){t=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          return resTexRC.y * ${t[0]} + resTexRC.x;
        }
      `;return new y.GlslLibRoutine(t)}getOutputUnpacked2DCoords(e,t){t=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          int r = index / ${e[1]};
          int c = index - r * ${e[1]};
          return ivec2(r, c);
        }
      `;return new y.GlslLibRoutine(t)}getOutputUnpacked3DCoords(t,e){var n=t.length;let r=n<2?[]:null;(r=new Array(n-1))[n-2]=t[n-1];for(let e=n-3;0<=e;--e)r[e]=r[e+1]*t[e+1];const i=["r","c","d"],o=r.map((e,t)=>`int ${i[t]} = index / ${e}; ${t===r.length-1?`int ${i[t+1]} = index - ${i[t]} * `+e:`index -= ${i[t]} * `+e};`).join("");return n=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;
          ${o}
          return ivec3(r, c, d);
        }
      `,new y.GlslLibRoutine(n)}getOutputUnpacked4DCoords(t,e){var n=t.length;let r=n<2?[]:null;(r=new Array(n-1))[n-2]=t[n-1];for(let e=n-3;0<=e;--e)r[e]=r[e+1]*t[e+1];const i=["r","c","d","d2"],o=r.map((e,t)=>`int ${i[t]} = index / ${e}; ${t===r.length-1?`int ${i[t+1]} = index - ${i[t]} * `+e:`index -= ${i[t]} * `+e};`).join("");return n=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;
          ${o}
          return ivec4(r, c, d, d2);
        }
      `,new y.GlslLibRoutine(n)}getOutputUnpacked5DCoords(t,e){var n=t.length;let r=n<2?[]:null;(r=new Array(n-1))[n-2]=t[n-1];for(let e=n-3;0<=e;--e)r[e]=r[e+1]*t[e+1];const i=["r","c","d","d2","d3"],o=r.map((e,t)=>`int ${i[t]} = index / ${e}; ${t===r.length-1?`int ${i[t+1]} = index - ${i[t]} * `+e:`index -= ${i[t]} * `+e};`).join("");return n=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;
          ${o}
          return ivec5(r, c, d, d2, d3);
        }
      `,new y.GlslLibRoutine(n)}getOutputUnpacked6DCoords(t,e){var n=t.length;let r=n<2?[]:null;(r=new Array(n-1))[n-2]=t[n-1];for(let e=n-3;0<=e;--e)r[e]=r[e+1]*t[e+1];const i=["r","c","d","d2","d3","d4"],o=r.map((e,t)=>`int ${i[t]} = index / ${e}; ${t===r.length-1?`int ${i[t+1]} = index - ${i[t]} * `+e:`index -= ${i[t]} * `+e};`).join("");return n=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${e[0]}, ${e[1]}));
         int index = resTexRC.y * ${e[0]} + resTexRC.x;
         ${o}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new y.GlslLibRoutine(n)}getCommonUtilFuncs(){var e,t={},n=(t.uvFromFlat=new y.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),t["packedUVfrom1D"]=new y.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t["packedUVfrom2D"]=new y.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t["packedUVfrom3D"]=new y.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),e="sampleTexture",f.getGlsl(this.context.glContext.version));return t[e]=new y.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${n.texture2D}(textureSampler, uv).r;
        }`),t}getInputsSamplingSnippets(){const r={},i=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((e,t)=>{var t=this.context.inputTextureLayouts[t],n=v.generateShaderFuncNameFromInputSamplerName(e),n=(t.isPacked?r[n]=this.getPackedSamplerFromInput(n,e,t):r[n]=this.getUnpackedSamplerFromInput(n,e,t),v.generateShaderFuncNameFromInputSamplerNameAtOutCoords(e));t.unpackedShape.length<=i.unpackedShape.length&&(t.isPacked?r[n]=this.getPackedSamplerAtOutputCoords(n,t,i,e):r[n]=this.getUnpackedSamplerAtOutputCoords(n,t,i,e))}),r}getPackedSamplerAtOutputCoords(e,t,n,r){const i=t.unpackedShape,o=n.unpackedShape,a=r,s=v.generateShaderFuncNameFromInputSamplerName(a),u=i.length,l=o.length,c=m.BroadcastUtil.getBroadcastDims(i,o),f=v.getCoordsDataType(l),d=l-u;const p=v.getGlChannels();t=0===u?"":l<2&&1<=c.length?"coords = 0;":c.map(e=>`coords.${p[e+d]} = 0;`).join("\n"),n=l<2&&0<u?"coords":i.map((e,t)=>"coords."+p[t+d]).join(", ");let h="return outputValue;";var r=1===m.ShapeUtil.size(i),g=1===m.ShapeUtil.size(o);if(1!==u||r||g){if(r&&!g)h=1===l?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(c.length){const e=u-2,t=u-1;-1<c.indexOf(e)&&-1<c.indexOf(t)?h="return vec4(outputValue.x);":-1<c.indexOf(e)?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":-1<c.indexOf(t)&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";r=`
      vec4 ${e}() {
        ${f} coords = getOutputCoords();
        
        int lastDim = coords.${p[l-1]};
        coords.${p[l-1]} = coords.${p[l-2]};
        coords.${p[l-2]} = lastDim;
      
        ${t}
        vec4 outputValue = ${s}(${n});
        ${h}
      }
    `;return new y.GlslLibRoutine(r,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(e,t,n,r){var i=[n.width,n.height],o=[t.width,t.height],a=t.unpackedShape.length,s=n.unpackedShape.length,u=t.unpackedShape,n=n.unpackedShape,l=v.generateShaderFuncNameFromInputSamplerName(r);if(a===s&&m.ArrayUtil.arraysEqual(o,i)){const t=`
          float ${e}() {
            return sampleTexture(${r}, TexCoords);
          }
        `;return new y.GlslLibRoutine(t,["coordinates.sampleTexture"])}const c=v.getCoordsDataType(s),f=m.BroadcastUtil.getBroadcastDims(u,n),d=s-a,p=v.getGlChannels();o=`
        float ${e}() {
          ${c} coords = getOutputCoords();
          ${0===a?"":s<2&&1<=f.length?"coords = 0;":f.map(e=>`coords.${p[e+d]} = 0;`).join("\n")}
          return ${l}(${s<2&&0<a?"coords":t.unpackedShape.map((e,t)=>"coords."+p[t+d]).join(", ")});
        }
      `;return new y.GlslLibRoutine(o,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(e,t,n){switch(n.unpackedShape.length){case 0:return this.getPackedSamplerScalar(e,t);case 1:return this.getPackedSampler1D(e,t,n);case 2:return this.getPackedSampler2D(e,t,n);case 3:return this.getPackedSampler3D(e,t,n);default:return this.getPackedSamplerND(e,t,n)}}getUnpackedSamplerFromInput(e,t,n){var r=n.unpackedShape;switch(r.length){case 0:return this.getUnpackedSamplerScalar(e,t,n);case 1:return this.getUnpackedSampler1D(e,t,n);case 2:return this.getUnpackedSampler2D(e,t,n);case 3:return this.getUnpackedSampler3D(e,t,n);case 4:return this.getUnpackedSampler4D(e,t,n);case 5:return this.getUnpackedSampler5D(e,t,n);case 6:return this.getUnpackedSampler6D(e,t,n);default:throw new Error(`Unsupported dimension ${r.length}-D`)}}getPackedSamplerScalar(e,t){e=`
          vec4 ${e}() {
            return ${f.getGlsl(this.context.glContext.version).texture2D}(${t}, halfCR);
          }
        `;return new y.GlslLibRoutine(e)}getPackedSampler1D(e,t,n){var n=[n.width,n.height],n=[n[1],n[0]],r=f.getGlsl(this.context.glContext.version),e=`vec4 ${e}(int index) {
      vec2 uv = packedUVfrom1D(
      ${n[0]}, ${n[1]}, index);
      return ${r.texture2D}(${t}, uv);
    }`;return new y.GlslLibRoutine(e,["coordinates.packedUVfrom1D"])}getPackedSampler2D(e,t,n){var r=n.unpackedShape,n=[n.width,n.height],i=f.getGlsl(this.context.glContext.version),o=n[0],a=n[1];if(null!=n&&m.ArrayUtil.arraysEqual(r,n)){const n=`vec4 ${e}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}.0, ${o}.0);
        return ${i.texture2D}(${t}, uv);
      }`;return new y.GlslLibRoutine(n)}a=n,o=Math.ceil(r[1]/2),n=`vec4 ${e}(int row, int col) {
      vec2 uv = packedUVfrom2D(${a[1]}, ${a[0]}, ${o}, row, col);
      return ${i.texture2D}(${t}, uv);
    }`;return new y.GlslLibRoutine(n,["coordinates.packedUVfrom2D"])}getPackedSampler3D(e,t,n){const r=n.unpackedShape,i=[n.width,n.height],o=[i[0],i[1]],a=f.getGlsl(this.context.glContext.version);if(1===r[0]){const f=r.slice(1),i=[1,2],o=v.squeezeInputShape(r,f),a=["b","row","col"],s=JSON.parse(JSON.stringify(n)),u=(s.unpackedShape=o,this.getPackedSamplerFromInput(e,t,s)),l=""+u.routineBody+`
      vec4 ${e}(int b, int row, int col) {
        return ${e}(${v.getSqueezedParams(a,i)});
      } `;return new y.GlslLibRoutine(l,u.dependencies)}const s=o[0],u=o[1],l=Math.ceil(r[2]/2),c=`vec4 ${e}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${u}, ${s}, ${l*Math.ceil(r[1]/2)}, ${l}, b, row, col);
      return ${a.texture2D}(${t}, uv);}`;return new y.GlslLibRoutine(c,["coordinates.packedUVfrom3D"])}getPackedSamplerND(e,t,n){var r=n.unpackedShape,i=r.length,n=[n.width,n.height],o=f.getGlsl(this.context.glContext.version),n=[n[0],n[1]],a=n[1],n=n[0],s=Math.ceil(r[i-1]/2);let u=s*Math.ceil(r[i-2]/2),l="int b, int row, int col",c=`b * ${u} + (row / 2) * ${s} + (col / 2)`;for(let e=2;e<i-1;e++)l=`int b${e}, `+l,u*=r[i-e-1],c=`b${e} * ${u} + `+c;s=`vec4 ${e}(${l}) {
      int index = ${c};
      int texR = index / ${n};
      int texC = index - texR * ${n};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${n}, ${a});
      return ${o.texture2D}(${t}, uv);
    }`;return new y.GlslLibRoutine(s)}getUnpackedSamplerScalar(e,t,n){var[n,r]=[n.width,n.height];if(1===n&&1===r){const n=`
          float ${e}() {
            return sampleTexture(${t}, halfCR);
          }
        `;return new y.GlslLibRoutine(n,["coordinates.sampleTexture"])}e=`
        float ${e}() {
          int offset_${t} = coordsToOffset(TexCoords, ${n}, ${r});
          vec2 uv = uvFromFlat(${n}, ${r}, offset_${t});
          return sampleTexture(${t}, uv);
        }
      `;return new y.GlslLibRoutine(e,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(e,t,n){var r=n.width,i=n.height;if(1===i&&1===r){const n=`
        float ${e}(int index) {
          return sampleTexture(${t}, halfCR);
        }
      `;return new y.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===i){const n=`
          float ${e}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${r}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new y.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===r){const n=`
          float ${e}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${i}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new y.GlslLibRoutine(n,["coordinates.sampleTexture"])}n=`
        float ${e}(int index) {
          vec2 uv = uvFromFlat(${r}, ${i}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new y.GlslLibRoutine(n,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(e,t,n){const r=n.unpackedShape,i=[n.height,n.width];if(null!=i&&m.ArrayUtil.arraysEqual(r,i)){const n=`
          float ${e}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${i[1]}.0, ${i[0]}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new y.GlslLibRoutine(n,["coordinates.sampleTexture"])}const{newShape:o,keptDims:a}=d.squeezeShape(r),s=o;if(s.length<r.length){const m=v.squeezeInputShape(r,s),d=JSON.parse(JSON.stringify(n)),i=(d.unpackedShape=m,["col","row"]),o=`
          ${this.getUnpackedSamplerFromInput(e,t,d).routineBody}
          float ${e}(int row, int col) {
            return ${e}(${v.getSqueezedParams(i,a)});
          }
        `;return new y.GlslLibRoutine(o,["coordinates.sampleTexture"])}var u=i[1],l=i[0];if(1===l){const n=`
          float ${e}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${u}, ${l});
            float index = dot(vec3(row, col, offset_${t}), vec3(${r[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new y.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===u){const n=`
          float ${e}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${u}, ${l});
            float index = dot(vec3(row, col, offset_${t}), vec3(${r[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${l}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new y.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}n=`
        float ${e}(int row, int col) {
          int index = col * ${r[1]} + row;
          vec2 uv = uvFromFlat(${u}, ${l}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new y.GlslLibRoutine(n,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(e,t,n){const r=n.unpackedShape,i=r[1]*r[2],o=r[2],{newShape:a,keptDims:s}=d.squeezeShape(r),u=a;if(u.length<r.length){const i=v.squeezeInputShape(r,u),d=["batch","col","row"],o=JSON.parse(JSON.stringify(n)),a=(o.unpackedShape=i,this.getUnpackedSamplerFromInput(e,t,o)),l=s.reverse(),c=`
          ${a.routineBody}
          float ${e}(int batch, int row, int col) {
            return ${e}(${v.getSqueezedParams(d,l)});
          }
        `;return new y.GlslLibRoutine(c,a.dependencies)}const l=`
          float ${e}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${i} + col * ${o} + row;
            vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);
            return sampleTexture(${t}, uv);
          }
      `;return new y.GlslLibRoutine(l,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(e,t,n){var r=n.unpackedShape,i=r[3],o=r[2]*i,e=`
        float ${e}(int row, int col, int depth, int depth2) {
          int index = row * ${r[1]*o} + col * ${o} +
              depth2 * ${i} + depth;
          vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new y.GlslLibRoutine(e,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(e,t,n){const r=n.unpackedShape,i=r[4],o=r[3]*i,a=r[2]*o,s=r[1]*a,{newShape:u,keptDims:l}=d.squeezeShape(r);if(u.length<r.length){const i=v.squeezeInputShape(r,u),d=["row","col","depth","depth2","depth3"],o=JSON.parse(JSON.stringify(n)),a=(o.unpackedShape=i,`
          ${this.getUnpackedSamplerFromInput(e,t,o).routineBody}
          float ${e}(int row, int col, int depth, int depth2, int depth3) {
            return ${e}(${v.getSqueezedParams(d,l)});
          }
        `);return new y.GlslLibRoutine(a,["coordinates.sampleTexture","coordinates.uvFromFlat"])}e=`
        float ${e}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${s} + col * ${a} + depth * ${o} +
          depth3 * ${i} + depth2;
          vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new y.GlslLibRoutine(e,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(e,t,n){const r=n.unpackedShape,i=r[5],o=r[4]*i,a=r[3]*o,s=r[2]*a,u=r[1]*s,{newShape:l,keptDims:c}=d.squeezeShape(r);if(l.length<r.length){const i=v.squeezeInputShape(r,l),d=["row","col","depth","depth2","depth3","depth4"],o=JSON.parse(JSON.stringify(n)),a=(o.unpackedShape=i,`
            ${this.getUnpackedSamplerFromInput(e,t,o).routineBody}
            float ${e}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${e}(${v.getSqueezedParams(d,c)});
            }
          `);return new y.GlslLibRoutine(a,["coordinates.sampleTexture","coordinates.uvFromFlat"])}e=`
          float ${e}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${u} + col * ${s} + depth * ${a} +
            depth2 * ${o} + depth3 * ${i} + depth4;
            vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);
            return sampleTexture(${t}, uv);
          }
        `;return new y.GlslLibRoutine(e,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){var e=this.context.outputTextureLayout,t=e.shape.length,n=e.strides,r=e.width,e=e.height,i=[];for(let e=0;e<t-1;++e)i.push(`
        c[${e}] = offset / ${n[e]};`),i.push(`
        offset -= c[${e}] * ${n[e]};`);i.push(`
        c[${t-1}] = offset;`);r=`
      void toVec(vec2 texCoords, out int c[${t}]) {
        int offset = coordsToOffset(texCoords, ${r}, ${e});
        ${i.join("")}
      }
      void toVec(int offset, out int c[${t}]) {
        ${i.join("")}
      }
    `;return{toVec:new y.GlslLibRoutine(r,["coordinates.coordsToOffset"])}}valueFrom(){const i={};return this.context.programInfo.inputNames.forEach((e,t)=>{var t=this.context.inputTextureLayouts[t],n=(0<t.unpackedShape.length?t.unpackedShape:t.shape).length,r="_"+e;i[r]=new y.GlslLibRoutine(this.getValueFromSingle(e,n,t.width,t.height,!1),["shapeUtils.indicesToOffset"+r,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),r+="_T",i[r]=new y.GlslLibRoutine(this.getValueFromSingle(e,n,t.width,t.height,!0),["shapeUtils.indicesToOffset"+r,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),i}getValueFromSingle(e,t,n,r,i){let o="_"+e;return i&&(o+="_T"),`
        float ${o}(int m[${t}]) {
          int offset = indicesToOffset${o}(m);
          vec2 coords = offsetToCoords(offset, ${n}, ${r});
          float value = getColorAsFloat(${f.getGlsl(this.context.glContext.version).texture2D}(${e}, coords));
          return value;
        }
        `}getPackedValueFrom(e,t,n,r,i){let o=`_${e}_Pack`;return i&&(o+="_T"),`
        vec4 ${o}(int m[${t}]) {
          int offset = indicesToOffset_${e}(m);
          vec2 coords = offsetToCoords(offset, ${n}, ${r});
          return ${f.getGlsl(this.context.glContext.version).texture2D}(${e}, coords);
        }
        `}}t.CoordsGlslLib=r},8520:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TopologicalSortGlslRoutines=t.GlslLibRoutineNode=t.GlslLibRoutine=t.GlslLib=t.GlslContext=t.FunctionType=void 0,(n=t.FunctionType||(t.FunctionType={}))[n.ValueBased=0]="ValueBased",n[n.Positional=1]="Positional",t.GlslContext=class{constructor(e,t,n,r){this.glContext=e,this.programInfo=t,this.inputTextureLayouts=n,this.outputTextureLayout=r}},t.GlslLib=class{constructor(e){this.context=e}},t.GlslLibRoutine=class{constructor(e,t){this.routineBody=e,this.dependencies=t}},t.GlslLibRoutineNode=class{constructor(e,t,n){this.name=e,this.dependencies=n||[],t&&(this.routineBody=t)}addDependency(e){e&&this.dependencies.push(e)}},t.TopologicalSortGlslRoutines=class{static returnOrderedNodes(e){var t,n,r;return e&&0!==e.length?1===e.length?e:(t=new Set,n=new Set,r=new Array,this.createOrderedNodes(e,t,n,r),r):[]}static createOrderedNodes(t,n,r,i){for(let e=0;e<t.length;++e)this.dfsTraverse(t[e],n,r,i)}static dfsTraverse(e,t,n,r){if(e&&!n.has(e.name)){if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);var i=e.dependencies;if(i&&0<i.length)for(let e=0;e<i.length;++e)this.dfsTraverse(i[e],t,n,r);r.push(e),n.add(e.name),t.delete(e.name)}}}},7341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingGlslLib=void 0;const r=n(8520);class i extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new r.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new r.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){var e=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new r.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${e}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){var e=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new r.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${e}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){var e=new ArrayBuffer(4),t=new Uint32Array(e),e=new Uint8Array(e);if(t[0]=3735928559,239===e[0])return!0;if(222===e[0])return!1;throw new Error("unknown endianness")}}t.EncodingGlslLib=i},9894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FragColorGlslLib=void 0;const r=n(8520),i=n(5060);class o extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){var e=i.getGlsl(this.context.glContext.version);return{setFragColor:new r.GlslLibRoutine(`
        void setFragColor(float value) {
            ${e.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new r.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}t.FragColorGlslLib=o},2848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInlines=void 0;const c=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;t.replaceInlines=function(t){var r={};let i;for(;null!==(i=c.exec(t));){const t=i[3].split(",").map(e=>{e=e.trim().split(" ");return e&&2===e.length?{type:e[0],name:e[1]}:null}).filter(e=>null!==e);r[i[2]]={params:t,body:i[4]}}for(const c in r)for(var e="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",c),n=new RegExp(e,"gm");null!==(i=n.exec(t));){const a=i[1],s=i[2],u=i[3].split(","),l=a?a+` ${s};`:"";let e=r[c].body,n="";r[c].params.forEach((e,t)=>{e&&(n+=`${e.type} ${e.name} = ${u[t]};\n`)});var o=`
      ${l}
      {
        ${e=(e=n+`
 `+e).replace("return",s+" = ")}
      }
      `;t=t.replace(i[0],o)}return t.replace(c,"")}},8879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlslPreprocessor=void 0;const s=n(8520),r=n(2848),u=n(5483),i=n(5060);t.GlslPreprocessor=class{constructor(e,n,r,i){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new s.GlslContext(e,n,r,i),Object.keys(u.glslRegistry).forEach(e=>{var t=new u.glslRegistry[e](this.context);this.libs[e]=t});var o=this.glslLibRoutineDependencyGraph;for(const e in this.libs){const n=this.libs[e].getFunctions();for(const r in n){const i=e+"."+r;let t;o[i]?(t=o[i]).routineBody=n[r].routineBody:(t=new s.GlslLibRoutineNode(i,n[r].routineBody),o[i]=t);var a=n[r].dependencies;if(a)for(let e=0;e<a.length;++e)if(o[a[e]])t.addDependency(o[a[e]]);else{const n=new s.GlslLibRoutineNode(a[e]);o[a[e]]=n,t.addDependency(n)}}}}preprocess(){var e=this.context.programInfo;let t=e.shaderSource;return this.context.programInfo.hasMain||(t=t+`
      `+i.getDefaultFragShaderMain(this.context.glContext.version,this.context.outputTextureLayout.shape.length)),t=r.replaceInlines(t),`${i.getFragShaderPreamble(this.context.glContext.version)}
    ${this.getUniforms(e.inputNames,e.variables)}
    ${this.getImports(t)}
    `+t}getImports(e){var t=this.selectGlslLibRoutinesToBeIncluded(e);if(0===t.length)return"";let n="";for(let e=0;e<t.length;++e){if(!t[e].routineBody)throw new Error("Missing body for the Glsl Library routine: "+t[e].name);n+=t[e].routineBody+"\n"}return n}selectGlslLibRoutinesToBeIncluded(n){const r=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(e=>{var t=e.split(".")[1];-1!==n.indexOf(t)&&r.push(this.glslLibRoutineDependencyGraph[e])}),s.TopologicalSortGlslRoutines.returnOrderedNodes(r)}getUniforms(e,t){var n=[];if(e)for(const t of e)n.push(`uniform sampler2D ${t};`);if(t)for(const e of t)n.push(`uniform ${e.type} ${e.name}${e.arrayLength?`[${e.arrayLength}]`:""};`);return n.join("\n")}}},5483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glslRegistry=void 0;var r=n(5107),i=n(7341),o=n(9894),a=n(2655),n=n(3891);t.glslRegistry={encoding:i.EncodingGlslLib,fragcolor:o.FragColorGlslLib,vec:n.VecGlslLib,shapeUtils:a.ShapeUtilsGlslLib,coordinates:r.CoordsGlslLib}},2655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeUtilsGlslLib=void 0;const u=n(8520);class o extends u.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const a=this.context.outputTextureLayout.shape.length,s={};return this.context.programInfo.inputNames.forEach((e,n)=>{var r=this.context.inputTextureLayouts[n].unpackedShape;if(r.length<=a){const n=r.length,i=a-n,o="bcastIndices_"+e;let t="";for(let e=0;e<n;++e)t+=`
          realIndices[${e}] = int( mod(float(bcastedIndices[${i+e}]), ${r[e]}.0) );
          `;e=`
        void ${o} (int bcastedIndices[${a}], out int realIndices[${n}]) {
          ${t}
        }
        `;s[o]=new u.GlslLibRoutine(e)}}),s}bcastMatmulIndex(){const a=this.context.outputTextureLayout.shape.length,s={};return this.context.programInfo.inputNames.forEach((e,n)=>{var r=this.context.inputTextureLayouts[n].shape;if(!(r.length<2||r.length>a)){const n=r.length,i=a-n,o="bcastMatmulIndices_"+e;let t="";for(let e=0;e<n-2;++e)t+=`
          realIndices[${e}] = int( mod(float(bcastedIndices[${i+e}]), ${r[e]}.0) );
          `;e=`
        void ${o}(int bcastedIndices[${a}], out int realIndices[${n}]) {
          ${t}
          realIndices[${n-1}] = bcastedIndices[${a-1}];
          realIndices[${n-2}] = bcastedIndices[${a-2}];
        }
        `;s[o]=new u.GlslLibRoutine(e)}}),s}indicesToOffset(){const i={};return this.context.programInfo.inputNames.forEach((e,t)=>{var n=this.context.inputTextureLayouts[t].shape,t=this.context.inputTextureLayouts[t].strides,n=n.length,r="indicesToOffset_"+e;i[r]=new u.GlslLibRoutine(o.indexToOffsetSingle(r,n,t)),r=`indicesToOffset_${e}_T`,i[r]=new u.GlslLibRoutine(o.indexToOffsetSingle(r,n,t.slice().reverse()))}),i}static indexToOffsetSingle(e,t,n){let r="";for(let e=t-1;0<=e;--e)r+=`
        offset += indices[${e}] * ${n[e]};
        `;return`
      int ${e}(int indices[${t}]) {
        int offset = 0;
        ${r}
        return offset;
      }
      `}offsetToIndices(){const i={};return this.context.programInfo.inputNames.forEach((e,t)=>{var n=this.context.inputTextureLayouts[t].shape,t=this.context.inputTextureLayouts[t].strides,n=n.length,r="offsetToIndices_"+e;i[r]=new u.GlslLibRoutine(o.offsetToIndicesSingle(r,n,t)),r=`offsetToIndices_${e}_T`,i[r]=new u.GlslLibRoutine(o.offsetToIndicesSingle(r,n,t.slice().reverse()))}),i}static offsetToIndicesSingle(e,t,n){var r=[];for(let e=0;e<t-1;++e)r.push(`
      indices[${e}] = offset / ${n[e]};`),r.push(`
        offset -= indices[${e}] * ${n[e]};`);return r.push(`
      indices[${t-1}] = offset;`),`
      void ${e}(int offset, out int indices[${t}]) {
        ${r.join("")}
      }
      `}incrementIndices(){const o={};return this.context.programInfo.inputNames.forEach((e,t)=>{var n=this.context.inputTextureLayouts[t].shape,r=n.length,t="incrementIndices_"+e;let i="";for(let e=0;e<r;++e)i+=`
        shape[${e}] = ${n[e]};`;e=`
        void ${t}(int axis, out int indices[${r}]) {
          int shape[${r}];
          ${i};
          for(int i = ${r} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;o[t]=new u.GlslLibRoutine(e)}),o}}t.ShapeUtilsGlslLib=o},5060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFragShaderMain=t.getFragShaderPreamble=t.getVertexShaderSource=t.getGlsl=void 0;const n={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},r={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function i(e){return 1===e?n:r}t.getGlsl=i,t.getVertexShaderSource=function(e){e=i(e);return""+e.version+`
      precision highp float;
      ${e.attribute} vec3 position;
      ${e.attribute} vec2 textureCoord;

      ${e.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},t.getFragShaderPreamble=function(e){e=i(e);return""+e.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${e.varyingFrag} vec2 TexCoords;
    ${e.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},t.getDefaultFragShaderMain=function(e,t){return`
  void main() {
    int indices[${t}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${i(e).output} = result;
  }
  `}},3891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VecGlslLib=void 0;const s=n(8520);class r extends s.GlslLib{constructor(e){super(e)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){var n=this.context.outputTextureLayout.shape.length,r={add:"+=",sub:"-=",mul:"*=",div:"/="},e={};for(const a in r){var i=a+"Vec";let t="";for(let e=0;e<n;++e)t+=`
          dest[${e}] ${r[a]} src[${e}];
          `;var o=`
        void ${i}(int src[${n}], out int dest[${n}]) {
          ${t}
        }
        `;e[i]=new s.GlslLibRoutine(o)}return e}copyVec(){var t=this.context.outputTextureLayout.shape.length;let n="";for(let e=0;e<t;++e)n+=`
        dest[${e}] = src[${e}];
        `;var e=`
      void copyVec(int src[${t}], out int dest[${t}]) {
        ${n}
      }
      `;return{copyVec:new s.GlslLibRoutine(e)}}setVecItem(){var t=this.context.outputTextureLayout.shape.length;let n=`
        if(index < 0)
            index =${t} + index;
        if (index == 0)
            m[0] = value;
        `;for(let e=1;e<t-1;++e)n+=`
        else if (index == ${e})
            m[${e}] = value;
            `;var e=`
      void setVecItem(out int m[${t}], int index, int value) {
        ${n+=`
        else
            m[${t-1}] = value;
        `}
      }
        `;return{setVecItem:new s.GlslLibRoutine(e)}}getVecItem(){var t=this.context.outputTextureLayout.shape.length;let n=`
        if(index < 0)
            index = ${t} + index;
        if (index == 0)
            return m[0];
      `;for(let e=1;e<t-1;++e)n+=`
        else if (index == ${e})
            return m[${e}];
      `;var e=`
      int getVecItem(int m[${t}], int index) {
        ${n+=`
        else
            return m[${t-1}];
        `}
      }
    `;return{getVecItem:new s.GlslLibRoutine(e)}}}t.VecGlslLib=r},8316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInferenceHandler=void 0;const o=n(6231),a=n(9162),s=n(2517),r=n(2403),u=n(7019),i=n(8710),l=n(5611),c=n(4057),f=n(2039);t.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,t){return c.calculateTextureWidthAndHeight(this.session.layoutStrategy,e,t)}executeProgram(t,n){if(n.length<t.inputNames.length)throw new Error(`Input size mustn't be less than ${t.inputNames.length}.`);if(t.inputNames.length!==t.inputTypes.length)throw new Error("input names size does not match input types");var r=[];for(let e=0;e<t.inputNames.length;++e)r[e]=this.getOrCreateTextureData(n[e],t.inputTypes[e]);var e=(e=>{var t=r.map(e=>`${e.unpackedShape.join(",")};${e.width}x`+e.height).join("_");let n=e.name;return e.cacheHint&&(n+="["+e.cacheHint+"]"),n+=":"+t})(t);let i=this.session.programManager.getArtifact(e);var o=i?i.programInfo:"function"==typeof t.get?t.get():t,a=c.createTextureLayoutFromTextureType(this.session.layoutStrategy,o.output.dims,o.output.textureType),a=this.createTextureData(a,o.output.type);return i||(i=this.session.programManager.build(o,r,a),this.session.programManager.setArtifact(e,i)),this.runProgram(i,r,a),a}run(e,t){return this.executeProgram(e,t).tensor}runProgram(t,n,e){for(let e=0;e<n.length;++e)if(!!n[e].isPacked!=(t.programInfo.inputTypes[e]===f.TextureType.packed))throw new Error(`input[${e}] property packed inconsistent`);if(!!e.isPacked!=(t.programInfo.output.textureType===f.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(t,n,e)}getOrCreateTextureData(n,r){let e=this.getTextureData(n.dataId,r===f.TextureType.packed);if(!e&&(e=this.getTextureData(n.dataId,r!==f.TextureType.packed)))return r===f.TextureType.packed?this.pack(e):this.unpack(e);if(!e){var t=c.createTextureLayoutFromTextureType(this.session.layoutStrategy,n.dims,r);if(r===f.TextureType.packedLastDimension){const e=1,o=n.dims;if(4===o.length){var i=[o[0],Math.ceil(o[1]*o[2]*o[3]/4)],i=c.createTextureLayoutFromTextureType(this.session.layoutStrategy,i,r);let t=n.numberData;if(o[1]*o[2]*o[3]%4!=0){const r=o[0],a=o[1]*o[2]*o[3],s=4*Math.ceil(a/4);t=new Float32Array(r*s);for(let e=0;e<r;++e){const r=e*a,u=e*s+e%1*a;t.set(n.numberData.subarray(r,r+a),u)}}return this.createTextureData(i,n.type,t,n,1)}}if(r===f.TextureType.packed){const r=c.createTextureLayoutFromShape(this.session.layoutStrategy,n.dims,1,[],{reverseWH:!0}),l=this.createTextureData(r,n.type,n.numberData,n,1);e=this.pack(l)}else e=this.createTextureData(t,n.type,n.numberData,n,1)}return e}createTextureDataFromLayoutBindTensor(e,t,n,r){return this.createTextureData(e,t,n,r,1)}createTextureData(e,t,n,r,i){o.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);n=this.session.textureManager.createTextureFromLayout(t,e,n,i);return this.createTextureDataFromTexture(e,t,n,r)}reshapeUnpacked(e,t){var n=this.getOrCreateTextureData(e,f.TextureType.unpacked),t={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:s.ShapeUtil.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(t,e.type,n.texture).tensor}reshapePacked(e,t){var n=this.getOrCreateTextureData(e,f.TextureType.packed);if(u.isReshapeCheap(e.dims,t)){const r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:s.ShapeUtil.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}const r=u.processDims3D(e.dims),i=u.processDims3D(t),o=this.reshapePacked(e,r),a=this.run(u.createPackedReshape3DProgramInfoLoader(this,o,i),[o]);return this.reshapePacked(a,t)}cast(e,t){e=this.getOrCreateTextureData(e,f.TextureType.unpacked);return this.createTextureDataFromTexture(e,t,e.texture).tensor}createTextureDataFromTexture(e,t,n,r,i){const o=Object.assign(Object.assign({},e),{tensor:r||new a.Tensor(e.unpackedShape,t,e=>this.readTexture(o),async e=>this.readTextureAsync(o),void 0,i),texture:n});return this.setTextureData(o.tensor.dataId,o,e.isPacked),o}getTextureData(e,t=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,t):(t?this.packedTextureDataCache:this.unpackedTextureDataCache).get(e)}setTextureData(e,t,n=!1){this.session.isInitializer(e)?this.session.setTextureData(e,t,n):(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}isTextureLayoutCached(e,t=!1){return!!this.getTextureData(e.dataId,t)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(i.encodeAsUint8(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(i.encodeAsUint8(this,e))}pack(e){return this.executeProgram(r.createPackProgramInfoLoader(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram(l.createUnpackProgramInfoLoader(this,e.tensor),[e.tensor])}}},1640:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGL_OP_RESOLVE_RULES=void 0,n(2898)),s=o(n(7839)),u=n(4196),l=n(2069),c=n(8138),f=n(9663),d=n(5193),p=n(7992),h=n(1253),g=n(4776),m=n(6572),y=n(3346),v=n(5623),_=n(2870),b=n(2143),T=n(4939),w=n(718),E=n(2268),x=n(8117),S=n(2278),O=n(5524),A=n(5975),I=n(3933),P=n(6558),D=n(5723),R=n(3738),o=o(n(4909)),C=n(8428),n=n(9793);t.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",o.abs],["Acos","","7+",o.acos],["Add","","7+",s.add],["And","","7+",s.and],["Asin","","7+",o.asin],["Atan","","7+",o.atan],["AveragePool","","7+",b.averagePool,b.parseAveragePoolAttributes],["BatchNormalization","","7+",a.batchNormalization,a.parseBatchNormalizationAttributes],["Cast","","6+",u.cast,u.parseCastAttributes],["Ceil","","6+",o.ceil],["Clip","","6-10",o.clip,o.parseClipAttributes],["Clip","","11+",o.clipV11],["Concat","","4+",l.concat,l.parseConcatAttributes],["Conv","","1+",c.conv,c.parseConvAttributes],["ConvTranspose","","1+",f.convTranspose,f.parseConvTransposeAttributes],["Cos","","7+",o.cos],["Div","","7+",s.div],["Dropout","","7+",o.identity],["DepthToSpace","","1+",d.depthToSpace,d.parseDepthToSpaceAttributes],["Equal","","7+",s.equal],["Elu","","6+",o.elu,o.parseEluAttributes],["Exp","","6+",o.exp],["Flatten","","1+",p.flatten,p.parseFlattenAttributes],["Floor","","6+",o.floor],["FusedConv","com.microsoft","1+",c.conv,c.parseConvAttributes],["Gather","","1+",h.gather,h.parseGatherAttributes],["Gemm","","7-10",g.gemm,g.parseGemmAttributesV7],["Gemm","","11+",g.gemm,g.parseGemmAttributesV11],["GlobalAveragePool","","1+",b.globalAveragePool,b.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",b.globalMaxPool],["Greater","","7+",s.greater],["Identity","","1+",o.identity],["ImageScaler","","1+",m.imageScaler,m.parseImageScalerAttributes],["InstanceNormalization","","6+",y.instanceNormalization,y.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",o.leakyRelu,o.parseLeakyReluAttributes],["Less","","7+",s.less],["Log","","6+",o.log],["MatMul","","1+",v.matMul,v.parseMatMulAttributes],["MaxPool","","1+",b.maxPool,b.parseMaxPoolAttributes],["Mul","","7+",s.mul],["Neg","","6+",o.neg],["Not","","1+",o.not],["Or","","7+",s.or],["Pad","","2-10",_.padV2,_.parsePadAttributesV2],["Pad","","11+",_.padV11,_.parsePadAttributesV11],["Pow","","7+",s.pow],["PRelu","","7+",s.pRelu],["ReduceLogSum","","1+",T.reduceLogSum,T.parseReduceAttributes],["ReduceMax","","1+",T.reduceMax,T.parseReduceAttributes],["ReduceMean","","1+",T.reduceMean,T.parseReduceAttributes],["ReduceMin","","1+",T.reduceMin,T.parseReduceAttributes],["ReduceProd","","1+",T.reduceProd,T.parseReduceAttributes],["ReduceSum","","1-12",T.reduceSum,T.parseReduceAttributes],["ReduceSumSquare","","1+",T.reduceLogSumSquare,T.parseReduceAttributes],["Relu","","6+",o.relu],["Reshape","","5+",w.reshape],["Resize","","10",E.resize,E.parseResizeAttributesV10],["Resize","","11+",E.resize,E.parseResizeAttributesV11],["Shape","","1+",x.shape],["Sigmoid","","6+",o.sigmoid],["Sin","","7+",o.sin],["Slice","","10+",S.sliceV10],["Slice","","1-9",S.slice,S.parseSliceAttributes],["Softmax","","1-12",O.softmax,O.parseSoftmaxAttributes],["Softmax","","13+",O.softmaxV13,O.parseSoftmaxAttributesV13],["Split","","2-12",A.split,A.parseSplitAttributes],["Sqrt","","6+",o.sqrt],["Squeeze","","1-12",I.squeeze,I.parseSqueezeAttributes],["Squeeze","","13+",I.squeezeV13],["Sub","","7+",s.sub],["Sum","","6+",P.sum],["Tan","","7+",o.tan],["Tanh","","6+",o.tanh],["Tile","","6+",D.tile],["Transpose","","1+",R.transpose,R.parseTransposeAttributes],["Upsample","","7-8",n.upsample,n.parseUpsampleAttributesV7],["Upsample","","9",n.upsample,n.parseUpsampleAttributesV9],["Unsqueeze","","1-12",C.unsqueeze,C.parseUnsqueezeAttributes],["Unsqueeze","","13+",C.unsqueezeV13],["Xor","","7+",s.xor]]},2898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchNormalizationAttributes=t.batchNormalization=void 0;const r=n(246),a=n(5060),s=n(2039),u={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[s.TextureType.unpacked,s.TextureType.unpacked,s.TextureType.unpacked,s.TextureType.unpacked,s.TextureType.unpacked]},i=(t.batchNormalization=(e,t,n)=>(o(t),[e.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:()=>i(e,t,n)}),t)]),t.parseBatchNormalizationAttributes=e=>{var t=e.attributes.getFloat("epsilon",1e-5),n=e.attributes.getFloat("momentum",.9),e=e.attributes.getInt("spatial",1);return r.createAttributeWithCacheKey({epsilon:t,momentum:n,spatial:e})},(e,t,n)=>{var r=a.getGlsl(e.session.backend.glContext.version),i=t[0].dims.length,[e,o]=e.calculateTextureWidthAndHeight(t[1].dims,s.TextureType.unpacked),i=`
  float process(int[${i}] indices) {
    vec2 position = offsetToCoords(indices[1], ${e}, ${o});
    float scale = getColorAsFloat(${r.texture2D}(Scale, position));
    float mean = getColorAsFloat(${r.texture2D}(Mean, position));
    float variance = getColorAsFloat(${r.texture2D}(Variance, position));
    float b = getColorAsFloat(${r.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${n.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},u),{output:{dims:t[0].dims,type:t[0].type,textureType:s.TextureType.unpacked},shaderSource:i})}),o=e=>{if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs.");var t=e[0],n=e[1],r=e[2],i=e[3],e=e[4];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==i.dims.length||1!==e.dims.length)throw new Error("invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||i.dims[0]!==t.dims[1]||e.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==i.type&&"float64"!==i.type||"float32"!==e.type&&"float64"!==e.type)throw new Error("invalid input tensor types.")}},7839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xor=t.sub=t.pRelu=t.pow=t.or=t.mul=t.less=t.greater=t.equal=t.div=t.and=t.add=t.glslPRelu=t.glslPow=t.glslXor=t.glslOr=t.glslAnd=t.glslLess=t.glslGreater=t.glslEqual=t.glslSub=t.glslMul=t.glslDiv=t.glslAdd=void 0;const h=n(2517),r=n(8520),g=n(5060),m=n(2039);function i(){return{body:"\n  float add_(float a, float b) {\n    return a + b;\n  }\n  vec4 add_(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  ",name:"add_",type:r.FunctionType.ValueBased}}function o(){return{body:"\n  float div_(float a, float b) {\n    return a / b;\n  }\n  vec4 div_(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  ",name:"div_",type:r.FunctionType.ValueBased}}function a(){return{body:"\n  float mul_(float a, float b) {\n    return a * b;\n  }\n  vec4 mul_(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  ",name:"mul_",type:r.FunctionType.ValueBased}}function s(){return{body:"\n  float sub_(float a, float b) {\n    return a - b;\n  }\n  vec4 sub_(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  ",name:"sub_",type:r.FunctionType.ValueBased}}function u(){return{body:"\n  float equal_(float a, float b) {\n    return float(a == b);\n  }\n  vec4 equal_(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  ",name:"equal_",type:r.FunctionType.ValueBased}}function l(){var e="greater_";return{body:`
  float ${e}(float a, float b) {
    return float(a > b);
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:e,type:r.FunctionType.ValueBased}}function c(){return{body:"\n  float less_(float a, float b) {\n    return float(a < b);\n  }\n  vec4 less_(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  ",name:"less_",type:r.FunctionType.ValueBased}}function f(){return{body:"\n  float and_(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 and_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  ",name:"and_",type:r.FunctionType.ValueBased}}function d(){return{body:"\n  float or_(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 or_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  ",name:"or_",type:r.FunctionType.ValueBased}}function p(){return{body:"\n  float xor_(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 xor_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  ",name:"xor_",type:r.FunctionType.ValueBased}}function y(){return{body:"\n  float pow_(float a, float b) {\n    return pow(a, b);\n  }\n  vec4 pow_(vec4 v1, vec4 v2) {\n    return pow(v1, v2);\n  }\n  ",name:"pow_",type:r.FunctionType.ValueBased}}function v(){return{body:"\n  float prelu_(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 prelu_(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  ",name:"prelu_",type:r.FunctionType.ValueBased}}t.glslAdd=i,t.glslDiv=o,t.glslMul=a,t.glslSub=s,t.glslEqual=u,t.glslGreater=l,t.glslLess=c,t.glslAnd=f,t.glslOr=d,t.glslXor=p,t.glslPow=y,t.glslPRelu=v;const _=(e,t,n,r=t[0].type,i)=>{var o=e.session.pack?m.TextureType.packed:m.TextureType.unpacked;return{name:n.name,inputNames:["A","B"],inputTypes:[o,o],cacheHint:i,get:()=>b(e,t,n,r)}},b=(e,t,n,r=t[0].type)=>{const i=e.session.pack?m.TextureType.packed:m.TextureType.unpacked,o=!h.ShapeUtil.areEqual(t[0].dims,t[1].dims);t[0].dims;var a,s=e.session.pack;if(o){const m=h.BroadcastUtil.calcShape(t[0].dims,t[1].dims,!1);if(!m)throw new Error("Can't perform binary op on the given tensors");const o=(a=m).length,u=0!==t[0].dims.length?t[0].dims.length:1,l=0!==t[1].dims.length?t[1].dims.length:1,c=0!==t[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",f=0!==t[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",d=g.getGlsl(e.session.backend.glContext.version),p=s?`
      ${n.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${n.name}(a, b);
        ${d.output} = result;
      }`:`
      ${n.body}
      float process(int indices[${o}]) {
        int aindices[${u}];
        int bindices[${l}];
        ${c}
        ${f}
        return ${n.name}(_A(aindices), _B(bindices));
      }`;return{name:n.name,inputNames:["A","B"],inputTypes:[i,i],output:{dims:a,type:r,textureType:i},shaderSource:p,hasMain:s}}const u=g.getGlsl(e.session.backend.glContext.version),l=`
    ${n.body}
    void main() {
      vec4 v1 = ${u.texture2D}(A, TexCoords);
      vec4 v2 = ${u.texture2D}(B, TexCoords);
      vec4 result = ${n.name}(v1, v2);
      ${u.output} = result;
    }
    `;return{name:n.name,inputNames:["A","B"],inputTypes:[i,i],output:{dims:t[0].dims,type:r,textureType:i},shaderSource:l,hasMain:!0}};t.add=(e,t)=>[e.run(_(e,t,i()),t)],t.and=(e,t)=>[e.run(_(e,t,f(),"bool"),t)],t.div=(e,t)=>[e.run(_(e,t,o()),t)],t.equal=(e,t)=>[e.run(_(e,t,u(),"bool"),t)],t.greater=(e,t)=>[e.run(_(e,t,l(),"bool"),t)],t.less=(e,t)=>[e.run(_(e,t,c(),"bool"),t)],t.mul=(e,t)=>[e.run(_(e,t,a()),t)],t.or=(e,t)=>[e.run(_(e,t,d(),"bool"),t)],t.pow=(e,t)=>[e.run(_(e,t,y()),t)],t.pRelu=(e,t)=>[e.run(_(e,t,v()),t)],t.sub=(e,t)=>[e.run(_(e,t,s()),t)],t.xor=(e,t)=>[e.run(_(e,t,p(),"bool"),t)]},4196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCastAttributes=t.cast=void 0;const r=n(2517),i=(t.cast=(e,t,n)=>(i(t),[e.cast(t[0],n)]),t.parseCastAttributes=e=>r.ProtoUtil.tensorDataTypeFromProto(e.attributes.getInt("to")),e=>{if(!e||1!==e.length)throw new Error("Cast requires 1 input.");if("string"===e[0].type)throw new Error("Invalid input type.")})},1163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedConcatProgramInfoLoader=void 0;const w=n(5060),E=n(2039),x=n(9390),S=n(2827),O=(t.createPackedConcatProgramInfoLoader=(v,_,b)=>{e=_.length,t=b.cacheKey;const T={name:"Concat (packed)",inputNames:Array.from({length:e},(e,t)=>"X"+t),inputTypes:Array(e).fill(E.TextureType.packed),cacheHint:t};var e,t;return Object.assign(Object.assign({},T),{get:()=>{{var e=v,n=T,r=_,i=b.axis,o=r[0].dims.slice();if(i>=o.length||i<-1*o.length)throw new Error("axis specified for concat doesn't match input dimensionality");i<0&&(i=o.length+i);var a=o.slice(0);for(let e=1;e<r.length;e++){const n=r[e].dims.slice();for(let e=0;e<o.length;e++)if(e===i)a[i]+=n[e];else if(o[e]!==n[e])throw new Error("non concat dimensions must match")}var s=a.length,u=S.getChannels("coords",s),l=x.getCoordsDataType(s),c=S.unpackFromChannel(),f=r.map(e=>e.dims),d=x.getGlChannels(s),p=new Array(f.length-1);p[0]=f[0][i];for(let e=1;e<p.length;e++)p[e]=p[e-1]+f[e][i];var h=d[i],g=d.slice(-2),m=d.join();let t=`if (${h} < ${p[0]}) {
        return getChannel(
            getX0(${m}), vec2(${g.join()}));
        }`;for(let e=1;e<p.length;e++){const n=p[e-1];t+=`
            if (${h} < ${p[e]}  && ${h} >= ${p[e-1]}) {
              return getChannel(
                getX${e}(${O(d,h,n)}),
                vec2(${O(g,h,n)}));
            }`}var m=p.length,y=p[p.length-1],m=(t+=`
            return getChannel(
              getX${m}(${O(d,h,y)}),
              vec2(${O(g,h,y)}));`,w.getGlsl(e.session.backend.glContext.version)),y=`
          ${c}
          float getValue(${d.map(e=>"int "+e)}) {
            ${t}
          }

          void main() {
            ${l} coords = getOutputCoords();
            int lastDim = coords.${d[s-1]};
            coords.${d[s-1]} = coords.${d[s-2]};
            coords.${d[s-2]} = lastDim;

            vec4 result = vec4(getValue(${u}), 0., 0., 0.);

            ${u[s-1]} = ${u[s-1]} + 1;
            if (${u[s-1]} < ${a[s-1]}) {
              result.g = getValue(${u});
            }

            ${u[s-2]} = ${u[s-2]} + 1;
            if (${u[s-2]} < ${a[s-2]}) {
              result.a = getValue(${u});
            }

            ${u[s-1]} = ${u[s-1]} - 1;
            if (${u[s-2]} < ${a[s-2]} &&
                ${u[s-1]} < ${a[s-1]}) {
              result.b = getValue(${u});
            }
            ${m.output} = result;
          }
        `;return Object.assign(Object.assign({},n),{output:{dims:a,type:r[0].type,textureType:E.TextureType.packed},shaderSource:y,hasMain:!0})}}})},(e,t,n)=>{const r=e.indexOf(t);return e.map((e,t)=>t===r?e+" - "+n:e).join()})},2069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConcatAttributes=t.concat=void 0;const r=n(246),d=n(2039),i=n(1163),o=(t.concat=(e,t,n)=>(a(t),e.session.pack&&1<t[0].dims.length?[e.run(i.createPackedConcatProgramInfoLoader(e,t,n),t)]:[e.run(o(e,t,n),t)]),(e,l,c)=>{t=l.length,n=c.cacheKey;const f={name:"Concat",inputNames:Array.from({length:t},(e,t)=>"X"+t),inputTypes:Array(t).fill(d.TextureType.unpacked),cacheHint:n};var t,n;return Object.assign(Object.assign({},f),{get:()=>{{var n=f,r=l,i=c.axis,o=r[0].dims.slice();if(i>=o.length||i<-1*o.length)throw new Error("axis specified for concat doesn't match input dimensionality");i<0&&(i=o.length+i);var a=o.slice(0);for(let e=1;e<r.length;e++){const n=r[e].dims.slice();for(let e=0;e<o.length;e++)if(e===i)a[i]+=n[e];else if(o[e]!==n[e])throw new Error("non concat dimensions must match")}var e=a.length,s=new Array(r.length);let t=0;for(let e=0;e<s.length;++e)t+=r[e].dims[i],s[e]=t;var u=(r.length<5?p:h)(s),u=`
        ${g(r.length,e)}
        ${m(s)}
        ${u}
        float process(int indices[${e}]) {
          int textureIndex = getTextureWhereDataResides (indices[${i}]);

          if(textureIndex != 0) {
            indices[${i}] = indices[${i}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},n),{output:{dims:a,type:r[0].type,textureType:d.TextureType.unpacked},shaderSource:u})}}})}),p=e=>`int getTextureWhereDataResides(int index) {
      ${e.map((e,t)=>`if(index<${e}) {return ${t};}
`).join("")}
    }`,h=e=>p(e),g=(t,e)=>{var n=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${e}]) {`];for(let e=0;e<t;++e)0===e?n.push(`	if (textureIndex == ${e}) { return _X${e}(indices); }`):e===t-1?n.push(`	else { return _X${e}(indices); }`):n.push(`	else if (textureIndex == ${e}) { return _X${e}(indices); }`);return n.push("\t}"),n.join("\n")},m=t=>{var n=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let e=0;e<t.length;++e)0===e?n.push(`	if (index == ${e}) { return ${t[e]}; }`):e===t.length-1?n.push(`	else { return ${t[e]}; }`):n.push(`	else if (index == ${e}) { return ${t[e]}; }`);return n.push("\t}"),n.join("\n")},a=(t.parseConcatAttributes=e=>r.createAttributeWithCacheKey({axis:e.attributes.getInt("axis")}),e=>{if(!e||e.length<1)throw new Error("too few inputs");var t=e[0].type,n=e[0].dims.length;if("string"===t)throw new Error("string tensor is not supported yet");for(const r of e){if(r.type!==t)throw new Error("input tensors should be one type");if(r.dims.length!==n)throw new Error("input tensors should have the same shape")}})},4770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackedGroupedConvProgramInfoLoader=void 0;const g=n(6231),m=n(5060),y=n(2039),v=n(8138),_=n(2823);t.createUnpackedGroupedConvProgramInfoLoader=(f,d,p)=>{e=2<d.length,t=p.cacheKey;const h={name:"GroupedConv",inputNames:e?["X","W","Bias"]:["X","W"],inputTypes:e?[y.TextureType.unpacked,y.TextureType.unpacked,y.TextureType.unpacked]:[y.TextureType.unpacked,y.TextureType.unpacked],cacheHint:t};var e,t;return Object.assign(Object.assign({},h),{get:()=>{var e=f,t=d,n=h,r=p,i=2<t.length?"value += getBias(output_channel);":"",o=t[0].dims.slice(),a=t[1].dims.slice(),s=a[0]/r.group,u=(g.Logger.verbose("GroupedConv",`autpPad:${r.autoPad}, dilations:${r.dilations}, group:${r.group}, kernelShape:${r.kernelShape}, pads:${r.pads}, strides:`+r.strides),v.calculateOutputShape(o,a,r.dilations,r.pads,r.strides)),e=m.getGlsl(e.session.backend.glContext.version),{activationFunction:l,applyActivation:c}=_.getActivationSnippet(r),l=`
  const ivec2 strides = ivec2(${r.strides[0]}, ${r.strides[1]});
  const ivec2 pads = ivec2(${r.pads[0]}, ${r.pads[1]});
  ${l}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${s};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${a[1]}; wInChannel++) {
      int input_channel = group_id * ${a[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${a[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${r.dilations[0]};

        if (xHeight < 0 || xHeight >= ${o[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${a[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${r.dilations[1]};
          if (xWidth < 0 || xWidth >= ${o[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${i}
    ${c}
    ${e.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},n),{output:{dims:u,type:t[0].type,textureType:y.TextureType.unpacked},shaderSource:l,hasMain:!0})}})}},1386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv2DPacked=t.conv2DPackedPointwise=void 0;const a=n(8138),s=n(8555),u=n(708);t.conv2DPackedPointwise=(e,t,n)=>{var r=t[0].dims,i=t[1].dims,o=a.calculateOutputShape(r,i,n.dilations,n.pads,n.strides),r=e.reshapePacked(t[0],[r[1],r[2]*r[3]]),i=e.reshapePacked(t[1],[i[0],i[1]]),t=2<t.length?[i,r,t[2]]:[i,r],i=e.run(u.createPackedMatmulProgramInfoLoader(e,t,n),t);return e.reshapePacked(i,o)},t.conv2DPacked=(e,t,n)=>{var r=t[0].dims,i=t[1].dims,r=a.calculateOutputShape(r,i,n.dilations,n.pads,n.strides),o=e.run(s.createPackedIm2ColProgramInfoLoader(e,t[0],t[1],r,n),[t[0]]),i=e.reshapePacked(t[1],[i[0],i[1]*i[2]*i[3]]),t=3===t.length?[i,o,t[2]]:[i,o],i=e.run(u.createPackedMatmulProgramInfoLoader(e,t,n),t);return e.reshapePacked(i,r)}},9663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvTransposeAttributes=t.convTranspose=void 0;const l=n(246),m=n(5060),y=n(2039),v=n(2823),r=(t.convTranspose=(e,t,n)=>(a(t,n),r(e,t,n)),(e,t,n)=>{n=o(n,t);return[i(e,t,n)]}),i=(e,t,n)=>e.run(((d,p,h)=>{e=2<p.length,t=h.cacheKey;const g={name:"ConvTranspose",inputNames:e?["X","W","B"]:["X","W"],inputTypes:e?[y.TextureType.unpacked,y.TextureType.unpacked,y.TextureType.unpacked]:[y.TextureType.unpacked,y.TextureType.unpacked],cacheHint:t};var e,t;return Object.assign(Object.assign({},g),{get:()=>{var e=d,t=p,n=g,r=h,i=2<t.length?"getB(output_channel)":"0.0",o=t[0].dims,a=t[1].dims,s=a[1],u=a[0]/r.group,l=[t[0].dims[0],t[1].dims[1]*r.group,...r.outputShape],e=m.getGlsl(e.session.backend.glContext.version),{activationFunction:c,applyActivation:f}=v.getActivationSnippet(r),c=`
  const ivec2 strides = ivec2(${r.strides[0]}, ${r.strides[1]});
  const ivec2 pads = ivec2(${r.pads[0]}, ${r.pads[1]});
  ${c}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${s};
    int wOutChannel = output_channel - group_id * ${s};

    float value = ${i};
    for (int inChannelOffset = 0; inChannelOffset < ${u}; inChannelOffset++) {
      int input_channel = group_id * ${u} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${a[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${a[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${r.dilations[0]}, wHOff * ${r.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${o[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${o[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${f}
    ${e.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},n),{output:{dims:l,type:t[0].type,textureType:y.TextureType.unpacked},shaderSource:c,hasMain:!0})}})})(e,t,n),t),o=(e,t)=>{var n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let e=2;e<t[1].dims.length;++e)n.push(t[1].dims[e]);var r,i,o,a,s,u=e.pads.slice(),l=e.outputShape.slice(),c=t[0].dims,f=n,d=e.dilations,p=e.autoPad,h=u,g=e.strides,m=e.outputPadding,y=l,v=c.length-2,_=0===y.length;for(let e=0;e<v;++e){var b=_?c[e+2]*g[e]:y[e],b=(c[e+2]-1)*g[e]+h[e]+(f[e]-1)*d[e]+1-b;b=b,r=p,i=h,o=e,a=e+v,s=void 0,s=Math.floor(b/2),"SAME_UPPER"===r?(i[o]=s,i[a]=b-s):"SAME_LOWER"===r&&(i[o]=b-s,i[a]=s),_&&y.push(g[e]*(c[e+2]-1)+m[e]+(f[e]-1)*d[e]+1-h[e]-h[e+v])}var T=Object.assign({},e);return Object.assign(T,{kernelShape:n,pads:u,outputShape:l,cacheKey:e.cacheKey}),T},a=(t.parseConvTransposeAttributes=e=>{var e=e.attributes,t=v.parseInternalActivationAttributes(e),n=e.getString("auto_pad","NOTSET"),r=e.getInts("dilations",[1,1]),i=e.getInt("group",1),o=e.getInts("kernel_shape",[]),a=e.getInts("output_padding",[0,0]),s=e.getInts("output_shape",[]),u=e.getInts("pads",[0,0,0,0]),e=e.getInts("strides",[1,1]);return l.createAttributeWithCacheKey(Object.assign({autoPad:n,dilations:r,group:i,kernelShape:o,outputPadding:a,outputShape:s,pads:u,strides:e},t))},(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");var n=e[1].dims[1]*t.group;if(3===e.length&&(1!==e[2].dims.length||e[2].dims[0]!==n))throw new Error("invalid bias");n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==2*n)throw new Error(`pads should be ${2*n}D`);if(t.outputPadding.length!==n)throw new Error(`output_padding should be ${n}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==t.outputShape.length&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")})},8138:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.parseConvAttributes=a.conv=a.calculateOutputShape=void 0;const s=t(246),o=t(2517),u=t(4770),l=t(1386),c=t(9828),f=t(2823),d=t(3248),p=t(5623),r=(a.calculateOutputShape=(e,t,n,r,i)=>{const o=e[0],a=e.slice(2),s=a.length,u=t[0],l=t.slice(2).map((e,t)=>e+(e-1)*(n[t]-1)),c=a.map((e,t)=>e+r[t]+r[t+s]).map((e,t)=>Math.floor((e-l[t]+i[t])/i[t]));return[o,u].concat(...c)},a.conv=(e,t,n)=>(i(t,n),r(e,t,n)),(e,t,n)=>{var n=m(n,t),r=e.session.pack,i=1===n.kernelShape[0]&&1===n.kernelShape[1];return 1<n.group?[e.run(u.createUnpackedGroupedConvProgramInfoLoader(e,t,n),t)]:i&&r?[h(e,t,n)]:r&&4===t[0].dims.length&&1===t[0].dims[0]&&!i?[l.conv2DPacked(e,t,n)]:[g(e,t,n)]}),h=(e,t,n)=>{var r=t[0].dims,i=t[1].dims,o=a.calculateOutputShape(r,i,n.dilations,n.pads,n.strides),r=e.reshapeUnpacked(t[0],[r[1],r[2]*r[3]]),i=e.reshapeUnpacked(t[1],[i[0],i[1]]),t=2<t.length?[i,r,t[2]]:[i,r],i=e.run(p.createMatmulProgramInfoLoader(t,n),t);return e.reshapeUnpacked(i,o)},g=(e,t,n)=>{var r=t[0].dims,i=t[1].dims,r=a.calculateOutputShape(r,i,n.dilations,n.pads,n.strides),i=e.run(d.createIm2ColProgramInfoLoader(e,t[0],t[1],r,n),[t[0]]),i=3===t.length?[i,t[1],t[2]]:[i,t[1]];return e.run(c.createDotProductProgramInfoLoader(e,t,r,n),i)},m=(e,t)=>{var n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let e=2;e<t[1].dims.length;++e)n.push(t[1].dims[e]);var r=e.pads.slice(),i=(o.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,r,e.autoPad),Object.assign({},e));return Object.assign(i,{kernelShape:n,pads:r,cacheKey:e.cacheKey}),i},i=(a.parseConvAttributes=e=>{var e=e.attributes,t=f.parseInternalActivationAttributes(e),n=e.getString("auto_pad","NOTSET"),r=e.getInts("dilations",[1,1]),i=e.getInt("group",1),o=e.getInts("kernel_shape",[]),a=e.getInts("pads",[0,0,0,0]),e=e.getInts("strides",[1,1]);return s.createAttributeWithCacheKey(Object.assign({autoPad:n,dilations:r,group:i,kernelShape:o,pads:a,strides:e},t))},(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");var n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==2*n)throw new Error(`pads should be ${2*n}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("Conv input(bias) should be float tensor")})},5193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDepthToSpaceAttributes=t.depthToSpace=void 0;const a=n(3738),s=(t.depthToSpace=(e,t,n)=>{s(t);var r=n.blocksize,i=r*r,o="DCR"===n.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],n="DCR"===n.mode?[t[0].dims[0],r,r,t[0].dims[1]/i,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/i,r,r,t[0].dims[2],t[0].dims[3]],n=e.reshapeUnpacked(t[0],n),o={perm:o,cacheKey:""+o},[n]=a.transpose(e,[n],o),o=[t[0].dims[0],t[0].dims[1]/i,t[0].dims[2]*r,t[0].dims[3]*r];return[e.reshapeUnpacked(n,o)]},t.parseDepthToSpaceAttributes=e=>{var t=e.attributes.getInt("blocksize");if(t<1)throw new Error(`blocksize must be >= 1, but got : ${t} for DepthToSpace`);e=e.attributes.getString("mode","DCR");if("DCR"!==e&&"CRD"!==e)throw new Error(`unrecognized mode: ${e} for DepthToSpace`);return{mode:e,blocksize:t}},e=>{if(1!==e.length)throw new Error("DepthToSpace expect 1 inputs, but got "+e.length);if("string"===e[0].type||4!==e[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")})},9828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDotProductProgramInfoLoader=void 0;const b=n(2517),T=n(5060),w=n(2039),E=n(2823),x=n(3248);t.createDotProductProgramInfoLoader=(g,m,y,v)=>{e=2<m.length,t=v;const _={name:"ConvDotProduct",inputNames:e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:e?[w.TextureType.unpacked,w.TextureType.packedLastDimension,w.TextureType.unpacked]:[w.TextureType.unpacked,w.TextureType.packedLastDimension],cacheKey:t.activationCacheKey};var e,t;return Object.assign(Object.assign({},_),{get:()=>{var e=g,t=_,n=m,r=y,i=v,o=n[0].dims,a=[(h=n[1].dims)[0],Math.ceil(o[1]*h[2]*h[3]/4)],s=x.calculateIm2ColDims(o,h,r),[u,l]=e.calculateTextureWidthAndHeight(a,w.TextureType.packedLastDimension),c=b.ShapeUtil.computeStrides(s),[s,f]=e.calculateTextureWidthAndHeight(s,w.TextureType.packedLastDimension),d=r.length,p=n.length<3?"0.0":"_B(b)",o=Math.ceil(o[1]*h[2]*h[3]/4),{activationFunction:h,applyActivation:i}=E.getActivationSnippet(i),e=T.getGlsl(e.session.backend.glContext.version),h=`
${h}
float process(int indices[${d}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${c[0]} + im2col[1] * ${c[1]} + im2col[2] * ${c[2]};
  int kernelOffset = indices[1] * ${a[1]};
  float value = ${p};
  for (int i = 0; i < ${o}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${s}, ${f});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${u}, ${l});
    value += dot(${e.texture2D}(Im2Col, im2colCoords), ${e.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${i}
  return value;
}`;return Object.assign(Object.assign({},t),{output:{dims:r,type:n[0].type,textureType:w.TextureType.unpacked},shaderSource:h})}})}},7992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFlattenAttributes=t.flatten=void 0;const r=n(2517),i=(t.flatten=(e,t,n)=>{i(t,n);n=r.ShapeUtil.flattenShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],n)]},t.parseFlattenAttributes=e=>e.attributes.getInt("axis",1),(e,t)=>{if(!e||1!==e.length)throw new Error("Flatten requires 1 input.");var n=e[0].dims.length;if(0===n)throw new Error("scalar tensor is not supported.");if(t<-n||n<t)throw new Error("Invalid axis");if("string"===e[0].type)throw new Error("string tensor is not supported.")})},2823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActivationSnippet=void 0;const r=n(2517),i=n(4909);t.getActivationSnippet=function(e){let t;switch(e.activation){case"Relu":t=i.glslRelu();break;case"Sigmoid":t=i.glslSigmoid();break;case"Clip":t=i.glslClip(e.clipMin,e.clipMax);break;default:return{activationFunction:"",applyActivation:""}}var n=t.name;return{activationFunction:t.body,applyActivation:`value = ${n}_(value);`}},t.parseInternalActivationAttributes=e=>{var t,n=e.getString("activation","");return"Clip"===n?([e,t]=e.getFloats("activation_params",[r.MIN_CLIP,r.MAX_CLIP]),{activation:n,clipMax:t,clipMin:e,activationCacheKey:n+`:${e},`+t}):{activation:n,activationCacheKey:n}}},1253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGatherAttributes=t.gather=void 0;const r=n(246),i=n(782),f=n(2517),d=n(2039),o=(t.gather=(e,t,n)=>(s(t,n.axis),[e.run(a(e,t,n),t)]),t.parseGatherAttributes=e=>r.createAttributeWithCacheKey({axis:e.attributes.getInt("axis",0)}),{name:"Gather",inputNames:["A","B"],inputTypes:[d.TextureType.unpacked,d.TextureType.unpacked]}),a=(e,u,l)=>{const c=Object.assign(Object.assign({},o),{cacheHint:l.cacheKey});return Object.assign(Object.assign({},c),{get:()=>{var e=c,t=u,n=l.axis,r=t[0].dims.slice(),i=t[1].dims.slice(),o=new Array(r.length+i.length-1),a=(n=f.ShapeUtil.normalizeAxis(n,r.length),[]);for(let e=0;e<o.length;e++)e<n?(o[e]=r[e],a.push(`inputIdx[${e}] = outputIdx[${e}];`)):e<n+i.length?(o[e]=i[e-n],a.push(`indexDataIdx[${e-n}] = outputIdx[${e}];`)):(o[e]=r[e-i.length+1],a.push(`inputIdx[${e-i.length+1}] = outputIdx[${e}];`));var s=`
      float process(int outputIdx[${o.length||1}]) {
        int inputIdx[${r.length}];
        int indexDataIdx[${i.length||1}];
        indexDataIdx[0] = 0;
        ${a.join("\n        ")}
        int idx = int(_B(indexDataIdx));
        inputIdx[${n}] = idx < 0 ? idx + ${r[n]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},e),{output:{dims:o,type:t[0].type,textureType:d.TextureType.unpacked},shaderSource:s})}})},s=(e,t)=>{if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.");var n=e[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(t<-n||n-1<t)throw new Error("Invalid axis.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invaid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invaid input type.")}},4776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributesV11=t.parseGemmAttributesV7=t.gemm=void 0;const o=n(246),u=n(2517),l=n(2039),r=(t.gemm=(e,t,n)=>(s(t,n),[e.run(i(t,n),t)]),(e,t)=>{var n=0!==e.attributes.getInt("transA",0),r=0!==e.attributes.getInt("transB",0),i=e.attributes.getFloat("alpha",1),e=e.attributes.getFloat("beta",1);return o.createAttributeWithCacheKey({transA:n,transB:r,alpha:i,beta:e,isOptionalC:t})}),i=(t.parseGemmAttributesV7=e=>r(e,!1),t.parseGemmAttributesV11=e=>r(e,!0),(e,t)=>{const n={name:"Gemm",inputNames:3===e.length?["A","B","C"]:["A","B"],inputTypes:3===e.length?[l.TextureType.unpacked,l.TextureType.unpacked,l.TextureType.unpacked]:[l.TextureType.unpacked,l.TextureType.unpacked],key:t.cacheKey};return Object.assign(Object.assign({},n),{get:()=>a(n,e,t)})}),a=(e,t,n)=>{var r=t[0].dims.slice(),i=t[1].dims.slice(),[i,o]=u.GemmUtil.getShapeOfGemmResult(r,n.transA,i,n.transB,3===t.length?t[2].dims:void 0),i=[i,o];let a=r[r.length-1],s="";n.transA&&(a=r[0]),n.transA&&n.transB?s="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?s="value += _A_T(a) * _B(b);":!n.transA&&n.transB?s="value += _A(a) * _B_T(b);":n.transA||n.transB||(s="value += _A(a) * _B(b);");o=i.length,r=`
      float process(int indices[${o}]) {
          int a[${o}];
          int b[${o}];
          ${3===t.length?`int c[${t[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${3===t.length?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${a}; ++k) {
              a[${o-1}] = k;
              b[${o-2}] = k;
              ${s}
          }

          value = value * alpha;
          ${3===t.length?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},e),{output:{dims:i,type:t[0].type,textureType:l.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:r})},s=(e,t)=>{if(!e)throw new Error("Input is missing");if(t.isOptionalC&&(e.length<2||3<e.length))throw new Error("Invaid input shape.");if(!t.isOptionalC&&3!==e.length)throw new Error("Gemm requires 3 inputs");if(3===e.length&&1!==e[2].dims.length&&2!==e[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||3===e.length&&"float32"!==e[2].type&&"float64"!==e[2].type)throw new Error("Invalid input type.");if(e[0].type!==e[1].type||3===e.length&&e[0].type!==e[2].type)throw new Error("Input types are mismatched")}},8555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedIm2ColProgramInfoLoader=void 0;const v=n(5060),_=n(2039),b=n(2827);t.createPackedIm2ColProgramInfoLoader=(d,p,h,g,m)=>{e=m.cacheKey;const y={name:"Im2Col (packed)",inputNames:["A"],inputTypes:[_.TextureType.packed],cacheHint:e};var e;return Object.assign(Object.assign({},y),{get:()=>{{var e=d,t=y,r=p,i=g,o=m,a=r.dims,s=h.dims,u=i.length,l=[s[1]*s[2]*s[3],i[2]*i[3]],c=s[2]*s[3],f=b.unpackFromChannel(),e=v.getGlsl(e.session.backend.glContext.version);let n="";for(let t=0;t<=1;t++)for(let e=0;e<=1;e++)n+=`
            blockIndex = rc.x + ${e};
            pos = rc.y + ${t};

            if(blockIndex < ${l[1]} && pos < ${l[0]}) {
              offsetY = int(blockIndex / (${i[u-1]})) * ${o.strides[0]} -
                ${o.pads[0]};
              d0 = offsetY + ${o.dilations[0]} * (imod(pos, ${c}) / ${s[2]});

              if(d0 < ${a[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${i[u-1]}) * ${o.strides[1]} -
                  ${o.pads[1]};
                d1 = offsetX + ${o.dilations[1]} * imod(imod(pos, ${c}), ${s[2]});

                if(d1 < ${a[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${c}.);
                    innerDims = vec2(d0, d1);
                    result[${2*t+e}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;return f=`
      ${f}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${n}
          ${e.output} = result;
      }
            `,Object.assign(Object.assign({},t),{output:{dims:l,type:r.type,textureType:_.TextureType.packed},shaderSource:f,hasMain:!0})}}})}},3248:(e,f,t)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.calculateIm2ColDims=f.createIm2ColProgramInfoLoader=void 0;const d=t(2039);f.createIm2ColProgramInfoLoader=(e,a,s,u,l)=>{t=l.cacheKey;const c={name:"Im2Col",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:t};var t;return Object.assign(Object.assign({},c),{get:()=>{return e=c,n=l,r=(t=a).dims,i=s.dims,o=u.length,i=f.calculateIm2ColDims(r,i,u,4),n=`
        const int XC = ${r[1]};
        const int XH = ${r[2]};
        const int XW = ${r[3]};
        const int KH = ${n.kernelShape[0]};
        const int KW = ${n.kernelShape[1]};
        const int dilationH = ${n.dilations[0]};
        const int dilationW = ${n.dilations[1]};
        const int strideH = ${n.strides[0]};
        const int strideW = ${n.strides[1]};
        const int padH = ${n.pads[0]};
        const int padW = ${n.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${o}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${r.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `,Object.assign(Object.assign({},e),{output:{dims:i,type:t.type,textureType:d.TextureType.packedLastDimension},shaderSource:n});var e,t,n,r,i,o}})},f.calculateIm2ColDims=(e,t,n,r=4)=>[n[0],n[2],n[3],Math.ceil(e[1]*t[2]*t[3]/r)]},6572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseImageScalerAttributes=t.imageScaler=void 0;const r=n(246),u=n(2039),i=(t.imageScaler=(e,t,n)=>(a(t),[e.run(o(e,t,n),t)]),t.parseImageScalerAttributes=e=>{var t=e.attributes.getFloat("scale"),e=e.attributes.getFloats("bias");return r.createAttributeWithCacheKey({scale:t,bias:e})},{name:"ImageScaler",inputNames:["X"],inputTypes:[u.TextureType.unpacked]}),o=(e,o,a)=>{const s=Object.assign(Object.assign({},i),{cacheHint:a.cacheKey});return Object.assign(Object.assign({},s),{get:()=>{return e=s,n=a,r=(t=o)[0].dims.slice(),i=r.length,i=`
      ${l(n.bias.length)}
      float process(int indices[${i}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`,Object.assign(Object.assign({},e),{output:{dims:r,type:t[0].type,textureType:u.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:n.bias.length,data:n.bias},{name:"scale",type:"float",data:n.scale}],shaderSource:i});var e,t,n,r,i}})},l=t=>{var n=[`float getBias(float bias[${t}], int channel) {`];for(let e=0;e<t;++e)0===e?n.push(`	if (channel == ${e}) { return bias[${e}]; }`):e===t-1?n.push(`	else { return bias[${e}]; }`):n.push(`	else if (channel == ${e}) { return bias[${e}]; }`);return n.push("\t}"),n.join("\n")},a=e=>{if(!e||1!==e.length)throw new Error("ImageScaler requires 1 input.");if(4!==e[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")}},3346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstanceNormalizationAttributes=t.instanceNormalization=void 0;const f=n(5060),d=n(2039),a=(t.instanceNormalization=(e,t,n)=>{s(t);var r=e.run(i(t[0]),t);return[e.run(o(e,t[0],n,r.dims),[t[0],r,t[1],t[2]])]},t.parseInstanceNormalizationAttributes=e=>e.attributes.getFloat("epsilon",1e-5),{name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[d.TextureType.unpacked]}),i=o=>Object.assign(Object.assign({},a),{get:()=>{return e=a,n=(t=o).dims.slice(),r=n[1],i=n[2]*n[3],r=[n[0],r],n=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${n[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${n[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${i});
        temp = 0.0;
        for(int a2=0; a2<${n[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${n[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${i});

        return v;
      }`,Object.assign(Object.assign({},e),{output:{dims:r,type:t.type,textureType:d.TextureType.packedLastDimension},shaderSource:n});var e,t,n,r,i}}),r={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[d.TextureType.unpacked,d.TextureType.packedLastDimension,d.TextureType.unpacked,d.TextureType.unpacked]},o=(a,s,u,l)=>{const c=Object.assign(Object.assign({},r),{cacheHint:""+u});return Object.assign(Object.assign({},c),{get:()=>{var e=a,t=c,n=s,r=u,i=l,o=f.getGlsl(e.session.backend.glContext.version),[e,i]=e.calculateTextureWidthAndHeight(i,d.TextureType.packedLastDimension),[e,i]=[e/4,i],e=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${e}, ${i});
        return ${o.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:d.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:r}],shaderSource:e})}})},s=e=>{if(!e||3!==e.length)throw new Error("InstanceNormalization requires 3 inputs.");var t=e[0],n=e[1],r=e[2];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length)throw new Error("Invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)throw new Error("Invalid input type.");if(4!==e[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedMatmulProgramInfoLoader=void 0;const b=n(2517),T=n(5060),w=n(2039),E=n(9390),x=n(2823),S=n(5623);t.createPackedMatmulProgramInfoLoader=(m,y,v)=>{e=2<y.length,t=v.activationCacheKey;const _={name:"MatMul (packed)",inputNames:e?["A","B","Bias"]:["A","B"],inputTypes:e?[w.TextureType.packed,w.TextureType.packed,w.TextureType.packed]:[w.TextureType.packed,w.TextureType.packed],cacheHint:t};var e,t;return Object.assign(Object.assign({},_),{get:()=>{var e,t,n,r,i,o,a=m,s=_,h=y,u=v,l=2<h.length,c=l?"value += getBiasForMatmul();":"",f=h[0].dims,d=h[1].dims,p=b.BroadcastUtil.calcShape(f,d,!0),g=!b.ShapeUtil.areEqual(h[0].dims,h[1].dims);if(p)return e=f[f.length-1],e=Math.ceil(e/2),f=f.length,d=d.length,a=T.getGlsl(a.session.backend.glContext.version),t=E.getCoordsDataType(p.length),n=p.length,r=E.getGlChannels(),{activationFunction:u,applyActivation:i}=x.getActivationSnippet(u),l=l?""+S.getBiasForMatmul(t,r,h[2].dims,p,!0):"",o=g?""+function(e,n,t){var r=[],i=[];const o=h[0].dims,a=h[1].dims,s=o.length,u=a.length,l=t.length,c=l-s,f=l-u;(r=o.map((e,t)=>"coords."+n[t+c]))[s-1]="i*2",r.join(", "),(i=a.map((e,t)=>"coords."+n[t+f]))[u-2]="i*2",i.join(", ");var d=b.BroadcastUtil.getBroadcastDims(o,t),t=b.BroadcastUtil.getBroadcastDims(a,t),d=d.map(e=>`coords.${n[e+c]} = 0;`).join("\n"),t=t.map(e=>`coords.${n[e+f]} = 0;`).join("\n"),p=`int lastDim = coords.${n[l-1]};
  coords.${n[l-1]} = coords.${n[l-2]};
  coords.${n[l-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${e} coords = getOutputCoords();
  ${p}
  ${d}
  vec4 outputValue = getA(${r});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${e} coords = getOutputCoords();
  ${p}
  ${t}
  vec4 outputValue = getB(${i});
  return outputValue;
}`}(t,r,p):"",f=g?"getAAtOutCoordsMatmul(i)":`getA(${function(t,n){let r="";for(let e=0;e<n-2;e++)r+=`rc.${t[e]}, `;return r+=`rc.${t[n-2]}, i*2`}(r,f)})`,d=g?"getBAtOutCoordsMatmul(i)":`getB(${function(t,n){let r="";for(let e=0;e<n-2;e++)r+=`rc.${t[e]}, `;return r+="i*2, rc."+t[n-1]}(r,d)})`,o=`
            ${o}
            ${l}
            ${u}
            void main() {
              ${g?"":""+t+` rc =
          getOutputCoords(); int lastDim = rc.${r[n-1]}; rc.${r[n-1]} =
          rc.${r[n-2]}; rc.${r[n-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${e}; i++) {
                vec4 a = ${f};
                vec4 b = ${d};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${c}
              ${i}
              ${a.output} = value;
            }`,Object.assign(Object.assign({},s),{output:{dims:p,type:h[0].type,textureType:w.TextureType.packed},shaderSource:o,hasMain:!0});throw new Error("Can't use matmul on the given tensors")}})}},5623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBiasForMatmul=t.createMatmulProgramInfoLoader=t.parseMatMulAttributes=t.matMul=void 0;const h=n(2517),g=n(2039),m=n(9390),y=n(2823),r=n(708);function i(f,d){e=2<f.length,t=d.activationCacheKey;const p={name:"MatMul",inputNames:e?["A","B","Bias"]:["A","B"],inputTypes:e?[g.TextureType.unpacked,g.TextureType.unpacked,g.TextureType.unpacked]:[g.TextureType.unpacked,g.TextureType.unpacked],cacheHint:t};var e,t;return Object.assign(Object.assign({},p),{get:()=>{var e,t,n,r,i,o=p,a=f,s=d,u=a[0].dims,l=a[1].dims,c=h.BroadcastUtil.calcShape(u,l,!0);if(c)return i=m.getCoordsDataType(c.length),e=m.getGlChannels(),{activationFunction:s,applyActivation:t}=y.getActivationSnippet(s),n=(r=2<a.length)?"value += getBiasForMatmul();":"",i=`
    ${s}
    ${r?""+v(i,e,a[2].dims,c,!1):""}
    float process(int indices[${c.length}]) {
        int a[${s=u.length}];
        int b[${r=l.length}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${u[u.length-1]}; ++k) {
            a[${s-1}] = k;
            b[${r-2}] = k;
            value += _A(a) * _B(b);
        }
        ${n}
        ${t}
        return value;
    }`,Object.assign(Object.assign({},o),{output:{dims:c,type:a[0].type,textureType:g.TextureType.unpacked},shaderSource:i});throw new Error("Can't use matmul on the given tensors")}})}t.matMul=(e,t,n)=>(o(t),e.session.pack?[e.run(r.createPackedMatmulProgramInfoLoader(e,t,n),t)]:[e.run(i(t,n),t)]),t.parseMatMulAttributes=e=>y.parseInternalActivationAttributes(e.attributes),t.createMatmulProgramInfoLoader=i;const o=e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type)throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")};function v(e,n,t,r,i){const o=t.length,a=r.length,s=a-o;var u=a<2&&0<o?"coords":t.map((e,t)=>"coords."+n[t+s]).join(", "),r=h.BroadcastUtil.getBroadcastDims(t,r).map(e=>`coords.${n[e+s]} = 0;`).join("\n");let l="vec4(outputValue.xx, outputValue.yy)";return 1===h.ShapeUtil.size(t)&&(l="vec4(outputValue.x)"),i?`
vec4 getBiasForMatmul() {
  ${e} coords = getOutputCoords();
  ${r}
  vec4 outputValue = getBias(${u});
  return ${l};
}`:`
float getBiasForMatmul() {
  ${e} coords = getOutputCoords();
  ${r}
  return getBias(coords.x);
}`}t.getBiasForMatmul=v},2403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackProgramInfoLoader=void 0;const f=n(5060),d=n(2039),p=n(9390),h=n(2827),g={name:"pack",inputNames:["A"],inputTypes:[d.TextureType.unpackedReversed]};t.createPackProgramInfoLoader=(l,c)=>Object.assign(Object.assign({},g),{get:()=>{return e=l,t=c,e=f.getGlsl(e.session.backend.glContext.version),i=t.dims,n=i.length,r=t.dims.length,o=p.getCoordsDataType(r),a=h.getChannels("rc",r),u=i[i.length-2],s=i[i.length-1],s=0===r||1===r?"":`
    int r = ${a[r-2]};
    int c = ${a[r-1]};
    int rp1 = ${a[r-2]} + 1;
    int cp1 = ${a[r-1]} + 1;
    bool rEdge = rp1 >= ${s};
    bool cEdge = cp1 >= ${u};
    `,u=function(t,n,r){if(0===t)return"false";if(1===t)return"rc > "+n[0];let i="";for(let e=t-2;e<t;e++)i+=r[e]+" >= "+n[e-t+2],e<t-1&&(i+="||");return i}(r,0===n?[1,1]:1===n?[i[0],1]:[i[r-1],i[r-2]],a),n=function(t){var n=i.length;if(0===n)return"getA(), 0, 0, 0";if(1===n)return`getA(rc),
            rc + 1 >= ${i[0]} ? 0. : getA(rc + 1),
            0, 0`;let r="";if(2<n)for(let e=0;e<n-2;++e)r+=t[e]+",";return`getA(${r}r, c),
          rEdge ? 0. : getA(${r}rp1, c),
          cEdge ? 0. : getA(${r}r, cp1),
          rEdge || cEdge ? 0. : getA(${r}rp1, cp1)`}(a),r=`
        void main() {
          ${o} rc = getOutputCoords();

          if(${u}) {
            ${e.output} = vec4(0);
          } else {
            ${s}

            ${e.output} = vec4(${n});
          }
        }
      `,Object.assign(Object.assign({},g),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:d.TextureType.packed},shaderSource:r});var e,t,i,n,r,o,a,s,u}})},2827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFromChannel=t.getChannels=t.getVecChannels=void 0;const r=n(9390);function i(t,e){return r.getGlChannels(e).map(e=>t+"."+e)}t.getVecChannels=i,t.getChannels=function(e,t){return 1===t?[e]:i(e,t)},t.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parsePadAttributesV11=r.padV11=r.parsePadAttributesV2=r.padV2=void 0;const i=t(246),s=t(2517),u=t(5060),l=t(2039),o={name:"Pad",inputNames:["A"],inputTypes:[l.TextureType.unpacked]},a=(r.padV2=(e,t,n)=>(f(t),[e.run(Object.assign(Object.assign({},o),{cacheHint:n.cacheKey,get:()=>c(e,t[0],n)}),t)]),r.parsePadAttributesV2=e=>{var t=e.attributes.getString("mode","constant"),n=e.attributes.getFloat("value",0),e=e.attributes.getInts("pads");return i.createAttributeWithCacheKey({mode:t,value:n,pads:e})},r.padV11=(e,t,n)=>{d(t);n=a(e,t,n);return r.padV2(e,[t[0]],n)},r.parsePadAttributesV11=e=>e.attributes.getString("mode","constant"),(e,t,n)=>{if(!e.session.isInitializer(t[1].dataId)||3<=t.length&&!e.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");e=Array.from(t[1].integerData),t=3<=t.length?t[2].floatData[0]:0;return i.createAttributeWithCacheKey({mode:n,pads:e,value:t})}),c=(e,t,n)=>{var r=s.ShapeUtil.padShape(t.dims.slice(),n.pads),i=r.length,e=`
      ${p(e,t,n)}
      float process(int[${i}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[l.TextureType.unpacked],output:{dims:r,type:t.type,textureType:l.TextureType.unpacked},shaderSource:e}},f=e=>{if(!e||1!==e.length)throw new Error("Pad requires 1 input");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},d=e=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==e[1].type)throw new Error("Invalid input type.");if(3<=e.length&&"string"===e[2].type)throw new Error("Invalid input type.")},p=(e,t,n)=>{var r=u.getGlsl(e.session.backend.glContext.version),[i,o]=e.calculateTextureWidthAndHeight(t.dims,l.TextureType.unpacked),a=s.ShapeUtil.computeStrides(t.dims);switch(n.mode){case"constant":return h(r,t.dims,a,i,o,n.pads,n.value);case"reflect":return g(r,t.dims,a,i,o,n.pads);case"edge":return m(r,t.dims,a,i,o,n.pads);default:throw new Error("Invalid mode")}},h=(e,t,n,r,i,o,a)=>{var s=t.length;let u="";for(let e=s-1;0<=e;--e)u+=`
        k = m[${e}] - ${o[e]};
        if (k < 0)  return constant;
        if (k >= ${t[e]}) return constant;
        offset += k * ${n[e]};
        `;return`
      float padA(int m[${s}]) {
        const float constant = float(${a});
        int offset = 0;
        int k = 0;
        ${u}
        vec2 coords = offsetToCoords(offset, ${r}, ${i});
        float value = getColorAsFloat(${e.texture2D}(A, coords));
        return value;
      }
      `},g=(e,t,n,r,i,o)=>{var a=t.length;let s="";for(let e=a-1;0<=e;--e)s+=`
        k = m[${e}] - ${o[e]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(t[e]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${t[e]}) { k = _2n_1 - k; }
        }
        offset += k * ${n[e]};
        `;return`
      float padA(int m[${a}]) {
        int offset = 0;
        int k = 0;
        ${s}
        vec2 coords = offsetToCoords(offset, ${r}, ${i});
        float value = getColorAsFloat(${e.texture2D}(A, coords));
        return value;
      }
      `},m=(e,t,n,r,i,o)=>{var a=t.length;let s="";for(let e=a-1;0<=e;--e)s+=`
        k = m[${e}] - ${o[e]};
        if (k < 0)  k = 0;
        if (k >= ${t[e]}) k = ${t[e]-1};
        offset += k * ${n[e]};
      `;return`
      float padA(int m[${a}]) {
        int offset = 0;
        int k = 0;
        ${s}
        vec2 coords = offsetToCoords(offset, ${r}, ${i});
        float value = getColorAsFloat(${e.texture2D}(A, coords));
        return value;
      }
      `}},2143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseMaxPoolAttributes=t.maxPool=t.parseGlobalAveragePoolAttributes=t.globalAveragePool=t.parseAveragePoolAttributes=t.averagePool=void 0;const s=n(246),v=n(2517),a=n(2039),i=(t.averagePool=(e,t,n)=>{c(t);const r={name:"AveragePool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:()=>i(t,r,!1,n)}),t)]},t.parseAveragePoolAttributes=e=>{var t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),r=0!==e.attributes.getInt("count_include_pad",0),i=e.attributes.getInts("kernel_shape"),o=e.attributes.getInts("strides",[]),e=e.attributes.getInts("pads",[]);if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return s.createAttributeWithCacheKey({autoPad:t,ceilMode:n,countIncludePad:r,kernelShape:i,strides:o,pads:e})},(e,t,n,r)=>{var[r,n]=u(e,r,n),i=v.ShapeUtil.size(r.kernelShape);let o="";r.countIncludePad?o+=`value /= float(${i});`:o+=`value /= float(${i} - pad);`;i=`
        ${f(e[0].dims,r,"value += _X(x);",o,"0.0")}
      `;return Object.assign(Object.assign({},t),{output:{dims:n,type:e[0].type,textureType:a.TextureType.unpacked},shaderSource:i})}),o=(t.globalAveragePool=(e,t,n)=>{c(t);const r={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:""+n.countIncludePad};return[e.run(Object.assign(Object.assign({},r),{get:()=>i(t,r,!0,n)}),t)]},t.parseGlobalAveragePoolAttributes=e=>{e=0!==e.attributes.getInt("count_include_pad",0);return s.createAttributeWithCacheKey({autoPad:"",ceilMode:0,countIncludePad:e,kernelShape:[],strides:[],pads:[]})},t.maxPool=(e,t,n)=>{c(t);const r={name:"MaxPool",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:()=>o(t,r,!1,n)}),t)]},t.parseMaxPoolAttributes=e=>{var t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),r=e.attributes.getInts("kernel_shape"),i=e.attributes.getInts("strides",[]),o=e.attributes.getInts("pads",[]),a=e.attributes.getInt("storage_order",0),e=e.attributes.getInts("dilations",[]);if(0!==a)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return s.createAttributeWithCacheKey({autoPad:t,ceilMode:n,countIncludePad:!1,kernelShape:r,strides:i,pads:o,storageOrder:a,dilations:e})},(e,t,n,r)=>{var[r,n]=u(e,r,n),r=`
      ${f(e[0].dims,r,"\n      value = max(_X(x), value);\n    ","","-1e5")}
    `;return Object.assign(Object.assign({},t),{output:{dims:n,type:e[0].type,textureType:a.TextureType.unpacked},shaderSource:r})}),u=(e,t,n)=>{var e=e[0].dims.slice(),r=Object.hasOwnProperty.call(t,"dilations"),i=t.kernelShape.slice(),o=t.strides.slice(),a=r?t.dilations.slice():[],s=t.pads.slice(),n=(v.PoolConvUtil.adjustPoolAttributes(n,e,i,o,a,s),v.PoolConvUtil.computePoolOutputShape(n,e,o,a,i,s,t.autoPad)),e=Object.assign({},t);return r?Object.assign(e,{kernelShape:i,strides:o,pads:s,dilations:a,cacheKey:t.cacheKey}):Object.assign(e,{kernelShape:i,strides:o,pads:s,cacheKey:t.cacheKey}),[e,n]},r={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},l={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[a.TextureType.unpacked]},c=(t.globalMaxPool=(e,t)=>(c(t),[e.run(Object.assign(Object.assign({},l),{get:()=>o(t,l,!0,r)}),t)]),e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")}),f=(r,i,o,a,s)=>{var u=r.length;if(i.kernelShape.length<=2){const v=i.kernelShape[i.kernelShape.length-1],d=i.strides[i.strides.length-1],p=i.pads[i.pads.length/2-1],h=i.pads[i.pads.length-1],g=r[u-1];let e,t="",n="";if(e=p+h!==0?`
          for (int i = 0; i < ${v}; i++) {
            x[${u} - 1] = indices[${u} - 1] * ${d} - ${p} + i;
            if (x[${u} - 1] < 0 || x[${u} - 1] >= ${g}) {
              pad++;
              continue;
            }
            ${o}
          }`:`
          for (int i = 0; i < ${v}; i++) {
            x[${u} - 1] = indices[${u} - 1] * ${d} - ${p} + i;
            ${o}
          }`,2===i.kernelShape.length){const o=i.kernelShape[i.kernelShape.length-2],a=i.strides[i.strides.length-2],s=i.pads[i.pads.length/2-2],m=i.pads[i.pads.length-2],y=r[u-2];t=s+m!==0?`
            for (int j = 0; j < ${o}; j++) {
              x[${u} - 2] = indices[${u} - 2] * ${a} - ${s} + j;
              if (x[${u} - 2] < 0 || x[${u} - 2] >= ${y}) {
                pad+= ${v};
                continue;
              }
          `:`
            for (int j = 0; j < ${o}; j++) {
              x[${u} - 2] = indices[${u} - 2] * ${a} - ${s} + j;
            `,n="\n          }\n        "}return`
        float process(int indices[${u}]) {
          int x[${u}];
          copyVec(indices, x);

          float value = ${s};
          int pad = 0;
          ${t}
          ${e}
          ${n}
          ${a}
          return value;
        }
      `}var e=v.ShapeUtil.size(i.kernelShape),t=v.ShapeUtil.computeStrides(i.kernelShape),n=t.length,l=i.pads.length,c=b(n),r=_(r,"inputDims"),f=_(i.pads,"pads"),t=_(t,"kernelStrides");return`
        ${c}
        float process(int indices[${u}]) {
          int x[${u}];
          copyVec(indices, x);
          int offset[${n}];
          int pads[${l}];
          int inputDims[${u}];
          int kernelStrides[${n}];
          int strides[${n}];
          ${f}
          ${r}
          ${_(i.strides,"strides")}
          ${t}

          float value = ${s};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${e}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${u} - ${n}; j < ${u}; j++) {
              x[j] = indices[j] * strides[j - ${u} + ${n}]
                + offset[j - ${u} + ${n}] - pads[j - 2];
              ${i.pads.reduce((e,t)=>e+t)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${o}
          }`:`
          }
          ${o}
        `}
          }
          ${a}

          return value;
        }
      `},_=(t,n)=>{let r="";for(let e=0;e<t.length;e++)r+=`
      ${n}[${e}] = ${t[e]};
    `;return r},b=e=>`
  void offsetToIndices(int offset, int[${e}] strides, out int[${e}] indices) {
    if (${e} == 0) {
      return;
    }
    for (int i = 0; i < ${e} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${e} - 1] = offset;
  }`},4939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceLogSumSquare=t.reduceLogSum=t.reduceProd=t.reduceMin=t.reduceMax=t.reduceMean=t.reduceSum=t.parseReduceAttributes=void 0;const r=n(246),i=n(782),g=n(2517),m=n(2039),o=(e,f,d,t,p)=>{var n=f;if(!n||1!==n.length)throw new Error("Reduce op requires 1 input.");if(-1===i.NUMBER_TYPES.indexOf(n[0].type))throw new Error("Invalid input type.");const h={name:t,inputNames:["A"],inputTypes:[m.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},h),{cacheHint:d.cacheKey,get:()=>{{var n=f,r=d,e=p,i=h,o=[],a=n[0].dims.length||1,s=[],u=g.ShapeUtil.normalizeAxes(r.axes,n[0].dims.length),l=e(n,u);let t=l[1];for(let e=0;e<n[0].dims.length;e++)0<=u.indexOf(e)||0===u.length?(r.keepDims&&o.push(1),t=`
          for(int j${e} = 0; j${e} < ${n[0].dims[e]}; j${e}++) {
            inputIdx[${e}] = j${e};
            ${t}
          }`):(s.push(`inputIdx[${e}] = outputIdx[${o.length}];`),o.push(n[0].dims[e]));var c=`
      float process(int outputIdx[${o.length||1}]) {
        float value;                 // final result
        int inputIdx[${a}];      // addressing input data
        ${s.join("\n")}
        ${l[0]}       // init ops for reduce max/min
        ${t}
        ${l[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},i),{output:{dims:o,type:n[0].type,textureType:m.TextureType.unpacked},shaderSource:c})}}}),f)]};t.parseReduceAttributes=e=>{var t=e.attributes.getInts("axes",[]),e=1===e.attributes.getInt("keepdims",1);return r.createAttributeWithCacheKey({axes:t,keepDims:e})};t.reduceSum=(e,t,n)=>o(e,t,n,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),t.reduceMean=(e,t,n)=>o(e,t,n,"ReduceMean",(t,n)=>{let r=1;for(let e=0;e<t[0].dims.length;e++)(0<=n.indexOf(e)||0===n.length)&&(r*=t[0].dims[e]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${r}.;`]}),t.reduceMax=(e,t,n)=>o(e,t,n,"ReduceMax",(t,n)=>{var r=[];for(let e=0;e<t[0].dims.length;e++)(0<=n.indexOf(e)||0===n.length)&&r.push(`inputIdx[${e}] = 0;`);return[r.join("\n")+`
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),t.reduceMin=(e,t,n)=>o(e,t,n,"ReduceMin",(t,n)=>{var r=[];for(let e=0;e<t[0].dims.length;e++)(0<=n.indexOf(e)||0===n.length)&&r.push(`inputIdx[${e}] = 0;`);return[r.join("\n")+`
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),t.reduceProd=(e,t,n)=>o(e,t,n,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),t.reduceLogSum=(e,t,n)=>o(e,t,n,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),t.reduceLogSumSquare=(e,t,n)=>o(e,t,n,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReshapeCheap=t.processDims3D=t.createPackedReshape3DProgramInfoLoader=void 0;const c=n(2517),f=n(5060),d=n(2039),p=n(2827);t.createPackedReshape3DProgramInfoLoader=(a,s,u)=>{e=u;const l={name:"Reshape (packed)",inputTypes:[d.TextureType.packed],inputNames:["A"],cacheHint:""+e};var e;return Object.assign(Object.assign({},l),{get:()=>{{var e=a,t=s,r=l,i=t.dims,o=u;let n="";for(let t=0;t<4;t++){let e="";switch(t){case 0:e="outputCoords = rc;";break;case 1:e="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:e="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:e="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}n+=`
        ${e}
        ${0<t?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${t}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${0<t?"}":""}
      `}return e=f.getGlsl(e.session.backend.glContext.version),i=`
      ${function(e){const n=c.ShapeUtil.computeStrides(e),r=["b","r","c"];return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${n.map((e,t)=>`int ${r[t]} = index / ${e}; ${t===n.length-1?`int ${r[t+1]} = index - ${r[t]} * `+e:`index -= ${r[t]} * `+e};`).join("")}
      return ivec3(b, r, c);
    }
  `}(i)}
      ${function(e){e=c.ShapeUtil.computeStrides(e);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${e[0]} + coords.z * ${e[1]} + coords.y;
  }
`}(o)}
      ${p.unpackFromChannel()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${o[2]};
        int cols = ${o[1]};

        ${n}
        ${e.output} = result;
      }
    `,Object.assign(Object.assign({},r),{output:{dims:o,type:t.type,textureType:d.TextureType.packed},shaderSource:i,hasMain:!0})}}})},t.processDims3D=function(t){if(0===t.length)return[1,1,1];let n=1;for(let e=0;e<t.length-2;++e)n*=t[e];return[n,1<t.length?t[t.length-2]:1,t[t.length-1]]},t.isReshapeCheap=function(e,t){return 0===e.length||0===t.length||(e.length<2||t.length<2?e[e.length-1]===t[t.length-1]:e[e.length-1]===t[t.length-1]&&e[e.length-2]===t[t.length-2])}},718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=void 0;const r=n(2517);t.reshape=(e,t)=>{var n=r.ShapeUtil.calculateReshapedDims(t[0].dims,t[1].integerData);return e.session.pack?[e.reshapePacked(t[0],n)]:[e.reshapeUnpacked(t[0],n)]}},2268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseResizeAttributesV11=t.parseResizeAttributesV10=t.resize=void 0;const d=n(5060),p=n(2039),h=n(9390),g=n(2827),a=n(9793),m={name:"Resize",inputNames:["A"],inputTypes:[p.TextureType.packed]},r=(t.resize=(e,t,n)=>(a.validateInputs(t,n),[e.run(Object.assign(Object.assign({},m),{cacheHint:n.cacheKey,get:()=>r(e,t,n)}),t)]),t.parseResizeAttributesV10=e=>a.parseUpsampleAttributes(e,10),t.parseResizeAttributesV11=e=>a.parseUpsampleAttributes(e,11),(e,t,n)=>{var e=d.getGlsl(e.session.backend.glContext.version),[r,i]=y(t,n);if(r.every(e=>1===e)&&"tf_crop_and_resize"!==n.coordinateTransformMode)return Object.assign(Object.assign({},m),{output:{dims:i,type:t[0].type,textureType:p.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${e.texture2D}(X, TexCoords);
                    ${e.output} = v;
                }`});var o=i.length;if(o<2)throw new Error("output dimension should be at least 2, but got "+o);var a=i[o-2],s=i[o-1],u=t[0].dims;if(o!==u.length)throw new Error(`output dimension should match input ${u.length}, but got `+o);var l=u[o-2],c=u[o-1],u=r[o-2],r=r[o-1];let f="";if("linear"!==n.mode)throw new Error(`resize (packed) does not support mode: '${n.mode}'`);switch(n.coordinateTransformMode){case"asymmetric":f="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":f="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"align_corners":f=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${s}.0 - 1.0, ${a}.0 - 1.0, ${s}.0 - 1.0,
                            ${a}.0 - 1.0);
                        vec4 original = vec4(${c}.0 - 1.0, ${l}.0 - 1.0, ${c}.0 - 1.0,
                            ${l}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${n.coordinateTransformMode}'`)}o=h.getCoordsDataType(o),u=`
            const vec2 inputWH = vec2(${l}.0, ${c}.0);
            const vec4 scaleWHWH = vec4(float(${u}), float(${r}), float(${u}), float(${r}));
            ${g.unpackFromChannel()}
            ${f}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${o} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${a-1};
                bool hasNextCol = rc.z < ${s-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${e.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},m),{output:{dims:i,type:t[0].type,textureType:p.TextureType.packed},hasMain:!0,shaderSource:u})}),y=(e,t)=>{var n=e[0].dims;let r,i=t.scales;if(0===i.length){const o=e[t.scalesInputIdx];if(o&&0!==o.size){if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");i=s(o,t.mode,t.isResize)}else{const o=e[t.sizesInputIdx];if(!o||0===o.size)throw new Error("Either scales or sizes MUST be provided as input.");r=Array.from(o.integerData),i=u(r,n,t.mode,t.isResize)}}else if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const o=r||n.map((e,t)=>Math.floor(e*i[t]));return[i,o]},s=(e,t,n)=>{e=Array.from(e.floatData);return a.scalesValidation(e,t,n),e},u=(n,r,e,t)=>{var i=r.length,o=new Array(i);for(let e=0,t=i;e<t;e++)if(0===r[e]){if(0!==n[e])throw new Error("Input dim is zero but required output dim is non-zero.");o[e]=1}else o[e]=n[e]/r[e];return a.scalesValidation(o,e,t),o}},8117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shape=void 0;const r=n(9162),i=(t.shape=(e,t)=>(i(t),[new r.Tensor([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]),e=>{if(!e||1!==e.length)throw new Error("Shape requires 1 input.")})},2278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceV10=t.parseSliceAttributes=t.slice=void 0;const r=n(246),i=n(782),l=n(2517),c=n(2039),f={name:"Slice",inputNames:["A"],inputTypes:[c.TextureType.unpacked]},o=(t.slice=(e,t,n)=>(a(t),[e.run(Object.assign(Object.assign({},f),{cacheHint:n.cacheKey,get:()=>o(e,t[0],n)}),t)]),t.parseSliceAttributes=e=>{var t=e.attributes.getInts("starts"),n=e.attributes.getInts("ends"),e=e.attributes.getInts("axes",[]);return r.createAttributeWithCacheKey({starts:t,ends:n,axes:e})},(e,n,t)=>{const r=0===t.axes.length?n.dims.slice(0).map((e,t)=>t):t.axes,i=l.ShapeUtil.normalizeAxes(r,n.dims.length),o=t.starts.map((e,t)=>e>n.dims[i[t]]-1?n.dims[i[t]]:l.ShapeUtil.normalizeAxis(e,n.dims[i[t]])),a=t.ends.map((e,t)=>e>n.dims[i[t]]-1?n.dims[i[t]]:l.ShapeUtil.normalizeAxis(e,n.dims[i[t]])),s=n.dims.slice(),u=[];for(let e=0;e<i.length;e++)s[i[e]]=a[e]-o[e],0<o[e]&&u.push(`outputIdx[${i[e]}] += ${o[e]};`);t=`
      float process(int outputIdx[${s.length}]) {
        ${u.join("\n      ")}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},f),{output:{dims:s,type:n.type,textureType:c.TextureType.unpacked},shaderSource:t})}),a=e=>{if(!e||1!==e.length)throw new Error("Slice requires 1 input.");if(-1===i.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")},s=(t.sliceV10=(e,t)=>{u(t);const n=s(e,t);return[e.run(Object.assign(Object.assign({},f),{cacheHint:n.cacheKey,get:()=>o(e,t[0],n)}),[t[0]])]},(e,t)=>{if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||4<=t.length&&!e.session.isInitializer(t[3].dataId)||5<=t.length&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(5<=t.length&&t[4].integerData.some(e=>1!==e))throw new Error("currently non-1 steps is not supported for Slice");var e=Array.from(t[1].integerData),n=Array.from(t[2].integerData),t=4<=t.length?Array.from(t[3].integerData):[];return{starts:e,ends:n,axes:t,cacheKey:t+`;${e};`+n}}),u=e=>{if(!e||e.length<3||5<e.length)throw new Error("Invalid input number.");if("int32"!==e[1].type||1!==e[1].dims.length)throw new Error("Invalid input type.");if("int32"!==e[2].type||1!==e[2].dims.length)throw new Error("Invalid input type.");if(4<=e.length&&("int32"!==e[3].type||1!==e[3].dims.length))throw new Error("Invalid input type.");if(5<=e.length&&("int32"!==e[4].type||1!==e[4].dims.length))throw new Error("Invalid input type.")}},5524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.softmaxV13=t.parseSoftmaxAttributesV13=t.parseSoftmaxAttributes=t.softmax=void 0;const p=n(246),h=n(2517),l=n(5060),c=n(2039),g=n(3738),f={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[c.TextureType.unpacked]},d={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[c.TextureType.unpacked,c.TextureType.unpacked]},m={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[c.TextureType.unpacked,c.TextureType.unpacked,c.TextureType.unpacked]},y=(t.softmax=(e,t,n)=>{T(t);var r=t[0].dims.slice(),i=h.ShapeUtil.normalizeAxis(n.axis,r.length),o=h.ShapeUtil.sizeToDimension(r,i),r=h.ShapeUtil.sizeFromDimension(r,i);return y(e,t,n,o,r)},t.parseSoftmaxAttributes=e=>p.createAttributeWithCacheKey({axis:e.attributes.getInt("axis",1)}),t.parseSoftmaxAttributesV13=e=>p.createAttributeWithCacheKey({axis:e.attributes.getInt("axis",-1)}),t.softmaxV13=(e,t,n)=>{T(t);const r=t[0].dims.slice(),i=h.ShapeUtil.normalizeAxis(n.axis,r.length),o=r.length,a=i!==o-1,s=[];let u,l=[],c=[];a&&((l=Array.from({length:o}).map((e,t)=>t))[i]=o-1,l[o-1]=i,l.map(e=>s.push(r[e])),u=p.createAttributeWithCacheKey({perm:l}),c=g.transpose(e,t,u));var f=a?h.ShapeUtil.sizeToDimension(s,o-1):h.ShapeUtil.sizeToDimension(r,o-1),d=a?h.ShapeUtil.sizeFromDimension(s,o-1):h.ShapeUtil.sizeFromDimension(r,o-1),t=y(e,a?c:t,n,f,d);return a?g.transpose(e,t,u):t},(e,t,n,r,i)=>{const o=v(e,t[0],r,i,[r]),a=e.run(Object.assign(Object.assign({},f),{cacheHint:n.cacheKey,get:()=>o}),t),s=_(e,t[0],r,i,o.output.dims,[r]),u=e.run(Object.assign(Object.assign({},d),{cacheHint:n.cacheKey,get:()=>s}),[t[0],a]),l=b(e,t[0],r,i,o.output.dims,s.output.dims);return[e.run(Object.assign(Object.assign({},m),{cacheHint:n.cacheKey,get:()=>l}),[t[0],a,u])]}),v=(e,t,n,r,i)=>{var[o,a]=e.calculateTextureWidthAndHeight(t.dims,c.TextureType.unpacked),s=i.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length)throw new Error("Dimensionality of the output should be 1");if(i[0]!==n)throw new Error("Shape of the output should be equal to logical row count");n=l.getGlsl(e.session.backend.glContext.version),e=`
      float process(int[${s}] indices) {
        int logical_row_start_offset = indices[0] * ${r};

        float max = getColorAsFloat(${n.texture2D}(A, offsetToCoords(logical_row_start_offset, ${o},
        ${a} )));
        for(int i=1; i<${r}; ++i)
        {
          float current = getColorAsFloat(${n.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${o}, ${a})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},f),{output:{dims:i,type:t.type,textureType:c.TextureType.unpacked},shaderSource:e})},_=(e,t,n,r,i,o)=>{var[a,s]=e.calculateTextureWidthAndHeight(t.dims,c.TextureType.unpacked),u=o.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length)throw new Error("Dimensionality of the output should be 1");if(o[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==i.length)throw new Error("Dimensionality of the intermediate results should be 1");if(i[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");i=`
      float process(int[${u}] indices) {
        int logical_row_start_offset = indices[0] * ${r};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${r}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${l.getGlsl(e.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${a}, ${s}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},d),{output:{dims:o,type:t.type,textureType:c.TextureType.unpacked},shaderSource:i})},b=(e,t,n,r,i,o)=>{var[e,a]=e.calculateTextureWidthAndHeight(t.dims,c.TextureType.unpacked),s=t.dims.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==i.length||1!==o.length)throw new Error("Dimensionality of the intermediate results should be 1");if(i[0]!==n||o[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");i=`
      float process(int[${s}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${e}, ${a});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${r};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},m),{output:{dims:t.dims,type:t.type,textureType:c.TextureType.unpacked},shaderSource:i})},T=e=>{if(!e||1!==e.length)throw new Error("Softmax requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type")}},5975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSplitAttributes=t.split=void 0;const r=n(246),s=n(2517),u=n(2039),l={name:"Split",inputNames:["A"],inputTypes:[u.TextureType.unpacked]},c=(t.split=(t,n,r)=>{d(n);const i=s.ShapeUtil.normalizeAxis(r.axis,n[0].dims.length),o=c(t,n,i,r),a=[];for(let e=0;e<o;++e)a.push(t.run(Object.assign(Object.assign({},l),{cacheHint:r.cacheKey+";"+e,get:()=>f(t,n[0],r,i,e)}),n));return a},t.parseSplitAttributes=e=>{var t=e.attributes.getInt("axis",0),n=e.attributes.getInts("split",[]),e=e.outputs.length;return r.createAttributeWithCacheKey({axis:t,split:n,numOutputs:e})},(e,t,n,r)=>{var[,t]=s.SplitUtil.splitShape(t[0].dims,n,r.split,r.numOutputs);return t.length}),f=(e,t,n,r,i)=>{var[o,a]=s.SplitUtil.splitShape(t.dims,r,n.split,n.numOutputs),a=a[i],o=o[i],r=`
      float process(int indices[${o.length}]) {
        indices[${r}] += ${a};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},l),{cacheHint:n.cacheKey+":"+i,output:{dims:o,type:t.type,textureType:u.TextureType.unpacked},shaderSource:r})},d=e=>{if(!e||1!==e.length)throw new Error("Split requires one input.");if("int8"!==e[0].type&&"uint8"!==e[0].type&&"int16"!==e[0].type&&"uint16"!==e[0].type&&"int32"!==e[0].type&&"uint32"!==e[0].type&&"float32"!==e[0].type&&"float64"!==e[0].type&&"bool"!==e[0].type)throw new Error("Invalid input type.")}},3933:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseSqueezeAttributes=n.squeezeV13=n.squeeze=void 0;const r=t(2517),i=(n.squeeze=(e,t,n)=>{i(t);n=r.ShapeUtil.squeezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],n)]},n.squeezeV13=(e,t)=>(o(t),n.squeeze(e,[t[0]],Array.from(t[1].integerData))),n.parseSqueezeAttributes=e=>e.attributes.getInts("axes"),e=>{if(!e||1!==e.length)throw new Error("Squeeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")}),o=e=>{if(!e||2!==e.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},6558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sum=void 0;const a=n(5060),s=n(2039),r=(t.sum=(e,t)=>{i(t);const n={name:"Sum",inputNames:t.map((e,t)=>"X"+t),inputTypes:new Array(t.length).fill(s.TextureType.unpacked)};return[e.run(Object.assign(Object.assign({},n),{get:()=>r(e,t,n)}),t)]},(e,t,n)=>{const r=a.getGlsl(e.session.backend.glContext.version),i=t[0].dims.slice(),o=`
      void main() {
        vec4 result = ${t.map((e,t)=>r.texture2D+`(X${t},TexCoords)`).join(" + ")};
        ${r.output} = result;
      }
    `;return Object.assign(Object.assign({},n),{output:{dims:i,type:t[0].type,textureType:s.TextureType.unpacked},hasMain:!0,shaderSource:o})}),i=n=>{if(!n||0===n.length)throw new Error("Sum requires inputs.");var r=n[0].dims.length;for(let t=1;t<n.length;t++){if(r!==n[t].dims.length)throw new Error("Input shapes are mismatched.");for(let e=0;e<r;e++)if(n[0].dims[e]!==n[t].dims[e])throw new Error("Input shapes are not matched.")}if("float32"!==n[0].type&&"float64"!==n[0].type)throw new Error("Invalid input type.");for(let e=1;e<n.length;e++)if(n[0].type!==n[e].type)throw new Error("Input types are not matched.")}},5723:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tile=void 0;const r=n(782),s=n(2039),i=(t.tile=(e,t)=>{o(t);const n={name:"Tile",inputNames:["A"],inputTypes:[s.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},n),{get:()=>i(e,t,n)}),t)]},(e,t,n)=>{var r=t[0].dims.slice(),i=new Array(r.length),o=[];for(let e=0;e<r.length;e++)i[e]=r[e]*t[1].numberData[e],o.push(`inputIdx[${e}] = int(mod(float(outputIdx[${e}]), ${r[e]}.));`);var a=i.length,a=`
      float process(int outputIdx[${a}]) {
        int inputIdx[${a}];
        ${o.join("\n")}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},n),{output:{dims:i,type:t[0].type,textureType:s.TextureType.unpacked},shaderSource:a})}),o=e=>{if(!e||2!==e.length)throw new Error("Tile requires 2 input.");if(1!==e[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(e[1].dims[0]!==e[0].dims.length)throw new Error("Invalid input shape.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invalid repeat type.")}},3738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=void 0;const r=n(246),i=n(2517),o=n(2039),a={name:"Transpose",inputNames:["A"],inputTypes:[o.TextureType.unpacked]},s=(t.transpose=(e,t,n)=>(f(t),[e.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:()=>s(e,t[0],n.perm)}),t)]),t.parseTransposeAttributes=e=>r.createAttributeWithCacheKey({perm:e.attributes.getInts("perm",[])}),(e,t,n)=>{var r=t.dims,i=(n=u(r,n),l(r,n)),r=r.length,n=`
      ${c("perm",n,r)}
      float process(int indices[${r}]) {
        int a[${r}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},a),{output:{dims:i,type:t.type,textureType:o.TextureType.unpacked},shaderSource:n})}),u=(e,t)=>t=t&&t.length!==e.length?[...e.keys()].reverse():t,l=(e,t)=>(t=u(e,t),i.ShapeUtil.sortBasedOnPerm(e,t)),c=(e,t,n)=>{var r=[];r.push(`void ${e}(out int a[${n}], int src[${n}]) {`);for(let e=0;e<n;++e)r.push(`	a[${t[e]}]=src[${e}];`);return r.push("\t}"),r.join("\n")},f=e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("input should be float tensor")}},8710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAsUint8=void 0;const i=n(5060),o=n(2039);t.encodeAsUint8=(e,t)=>{var n=t.shape,r=i.getGlsl(e.session.backend.glContext.version),r=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${r.texture2D}(X,TexCoords).r;
      ${r.output} = encodeAsUint8(value);
    }`,n={name:"Uint8Encode",inputTypes:[o.TextureType.unpacked],inputNames:["X"],output:{dims:n,type:t.tensor.type,textureType:o.TextureType.downloadUint8AsFloat},shaderSource:r,hasMain:!0};return e.executeProgram(n,[t.tensor])}},4909:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.tanh=r.tan=r.sqrt=r.sin=r.sigmoid=r.relu=r.not=r.neg=r.log=r.parseLeakyReluAttributes=r.leakyRelu=r.identity=r.floor=r.exp=r.parseEluAttributes=r.elu=r.cos=r.ceil=r.clipV11=r.parseClipAttributes=r.clip=r.atan=r.asin=r.acos=r.abs=r.glslTanh=r.glslTan=r.glslSqrt=r.glslSigmoid=r.glslRelu=r.glslSin=r.glslNot=r.glslNeg=r.glslLog=r.glslLeakyRelu=r.glslIdentity=r.glslClip=r.glslFloor=r.glslExp=r.glslElu=r.glslCos=r.glslCeil=r.glslAtan=r.glslAsin=r.glslAcos=r.glslAbs=void 0;const n=t(246),i=t(2517),o=t(8520),l=t(5060),c=t(2039);function a(){return P("abs")}function s(){return P("acos")}function u(){return P("asin")}function f(){return P("atan")}function d(){return P("ceil")}function p(){return P("cos")}function h(e){return{body:`
  const float alpha = float(${e});

  float elu_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 elu_(vec4 v) {
    return vec4(elu_(v.x), elu_(v.y), elu_(v.z), elu_(v.w));
  }
  `,name:"elu",type:o.FunctionType.ValueBased}}function g(){return P("exp")}function m(){return P("floor")}function y(e,t){return{body:`
  const float min = float(${e});
  const float max = float(${t});

  float clip_(float a) {
    return clamp(a, min, max);
  }
  vec4 clip_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:"clip",type:o.FunctionType.ValueBased}}function v(){var e="indentity";return{body:`
  float ${e}_(float a) {
    return a;
  }
  vec4 ${e}_(vec4 v) {
    return v;
  }
  `,name:e,type:o.FunctionType.ValueBased}}function _(e){var t="leakyRelu";return{body:`
  const float alpha = float(${e});

  float ${t}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${t}_(vec4 v) {
    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));
  }
  `,name:t,type:o.FunctionType.ValueBased}}function b(){return P("log")}function T(){return{body:"\n  float neg_(float a) {\n    return -a;\n  }\n  vec4 neg_(vec4 v) {\n    return -v;\n  }\n  ",name:"neg",type:o.FunctionType.ValueBased}}function w(){return{body:"\n  float not_(float a) {\n    return float( ! bool(a) );\n  }\n  bool not_(bool a) {\n    return !a;\n  }\n  vec4 not_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 not_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  ",name:"not",type:o.FunctionType.ValueBased}}function E(){return P("sin")}function x(){return{body:"\n  float relu_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 relu_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  ",name:"relu",type:o.FunctionType.ValueBased}}function S(){return{body:"\n  float sigmoid_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 sigmoid_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  ",name:"sigmoid",type:o.FunctionType.ValueBased}}function O(){return P("sqrt")}function A(){return P("tan")}function I(){return{body:"\n  float tanh_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 tanh_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  ",name:"tanh",type:o.FunctionType.ValueBased}}function P(e){return{body:`
  float ${e}_(float a) {
    return ${e}(a);
  }
  vec4 ${e}_(vec4 v) {
    return ${e}(v);
  }
  `,name:e,type:o.FunctionType.ValueBased}}r.glslAbs=a,r.glslAcos=s,r.glslAsin=u,r.glslAtan=f,r.glslCeil=d,r.glslCos=p,r.glslElu=h,r.glslExp=g,r.glslFloor=m,r.glslClip=y,r.glslIdentity=v,r.glslLeakyRelu=_,r.glslLog=b,r.glslNeg=T,r.glslNot=w,r.glslSin=E,r.glslRelu=x,r.glslSigmoid=S,r.glslSqrt=O,r.glslTan=A,r.glslTanh=I;const D=(o,a,s,e)=>{const t=o.session.pack?c.TextureType.packed:c.TextureType.unpacked,u={name:s.name,inputTypes:[t],inputNames:["A"],cacheHint:e};return Object.assign(Object.assign({},u),{get:()=>{return e=o,t=u,n=a,r=s,i=e.session.pack?c.TextureType.packed:c.TextureType.unpacked,e=l.getGlsl(e.session.backend.glContext.version),Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:i},shaderSource:`
     ${r.body}
     void main() {
       vec4 v = ${e.texture2D}(A, TexCoords);
       v = ${r.name}_(v);
       ${e.output} = v;
     }
     `,hasMain:!0});var e,t,n,r,i}})},R=(r.abs=(e,t)=>[e.run(D(e,t[0],a()),t)],r.acos=(e,t)=>[e.run(D(e,t[0],s()),t)],r.asin=(e,t)=>[e.run(D(e,t[0],u()),t)],r.atan=(e,t)=>[e.run(D(e,t[0],f()),t)],r.clip=(e,t,n)=>[e.run(D(e,t[0],y(n.min,n.max),n.cacheKey),t)],r.parseClipAttributes=e=>n.createAttributeWithCacheKey({min:e.attributes.getFloat("min",i.MIN_CLIP),max:e.attributes.getFloat("max",i.MAX_CLIP)}),r.clipV11=(e,t)=>{var n=R(e,t);return r.clip(e,[t[0]],n)},(e,t)=>{if(!(3<=t.length)||e.session.isInitializer(t[1].dataId)&&e.session.isInitializer(t[2].dataId))return e=3<=t.length?t[1].numberData[0]:i.MIN_CLIP,t=3<=t.length?t[2].numberData[0]:i.MAX_CLIP,n.createAttributeWithCacheKey({min:e,max:t});throw new Error("dynamic clip attributes are not allowed")});r.ceil=(e,t)=>[e.run(D(e,t[0],d()),t)],r.cos=(e,t)=>[e.run(D(e,t[0],p()),t)],r.elu=(e,t,n)=>[e.run(D(e,t[0],h(n.alpha),n.cacheKey),t)],r.parseEluAttributes=e=>n.createAttributeWithCacheKey({alpha:e.attributes.getFloat("alpha",1)}),r.exp=(e,t)=>[e.run(D(e,t[0],g()),t)],r.floor=(e,t)=>[e.run(D(e,t[0],m()),t)],r.identity=(e,t)=>[e.run(D(e,t[0],v()),t)],r.leakyRelu=(e,t,n)=>[e.run(D(e,t[0],_(n.alpha),n.cacheKey),t)],r.parseLeakyReluAttributes=e=>n.createAttributeWithCacheKey({alpha:e.attributes.getFloat("alpha",.01)}),r.log=(e,t)=>[e.run(D(e,t[0],b()),t)],r.neg=(e,t)=>[e.run(D(e,t[0],T()),t)],r.not=(e,t)=>[e.run(D(e,t[0],w()),t)],r.relu=(e,t)=>[e.run(D(e,t[0],x()),t)],r.sigmoid=(e,t)=>[e.run(D(e,t[0],S()),t)],r.sin=(e,t)=>[e.run(D(e,t[0],E()),t)],r.sqrt=(e,t)=>[e.run(D(e,t[0],O()),t)],r.tan=(e,t)=>[e.run(D(e,t[0],A()),t)],r.tanh=(e,t)=>[e.run(D(e,t[0],I()),t)]},5611:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createUnpackProgramInfoLoader=n.createUnpackProgramInfo=void 0;const s=t(5060),u=t(2039),l=t(9390),c=t(2827),f={name:"unpack",inputNames:["A"],inputTypes:[u.TextureType.packed]};n.createUnpackProgramInfo=(e,t)=>{var n=t.dims.length,r=c.getChannels("rc",n),i=r.slice(-2),o=l.getCoordsDataType(n),a=c.unpackFromChannel(),r=0===t.dims.length?"":function(t,n){if(1===t)return"rc";let r="";for(let e=0;e<t;e++)r+=n[e],e<t-1&&(r+=",");return r}(n,r),n=n<=1?"rc":`vec2(${i.join(",")})`,i=`
    ${a}
    void main() {
      ${o} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${r});

       ${s.getGlsl(e.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${n}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},f),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:u.TextureType.unpacked},shaderSource:i})},n.createUnpackProgramInfoLoader=(e,t)=>Object.assign(Object.assign({},f),{get:()=>n.createUnpackProgramInfo(e,t)})},8428:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseUnsqueezeAttributes=n.unsqueezeV13=n.unsqueeze=void 0;const r=t(2517),i=(n.unsqueeze=(e,t,n)=>{i(t);n=r.ShapeUtil.unsqueezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],n)]},n.unsqueezeV13=(e,t)=>(o(t),n.unsqueeze(e,[t[0]],Array.from(t[1].integerData))),n.parseUnsqueezeAttributes=e=>e.attributes.getInts("axes"),e=>{if(!e||1!==e.length)throw new Error("Unsqueeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")}),o=e=>{if(!e||2!==e.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},9793:(e,g,t)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.scalesValidation=g.validateInputs=g.parseUpsampleAttributes=g.parseUpsampleAttributesV9=g.parseUpsampleAttributesV7=g.upsample=void 0;const m=t(246),d=t(5060),p=t(2039),h={name:"Upsample",inputNames:["X"],inputTypes:[p.TextureType.unpacked]},r=(g.upsample=(e,t,n)=>(g.validateInputs(t,n),[e.run(Object.assign(Object.assign({},h),{cacheHint:n.cacheKey,get:()=>r(e,t,n)}),t)]),g.parseUpsampleAttributesV7=e=>g.parseUpsampleAttributes(e,7),g.parseUpsampleAttributesV9=e=>g.parseUpsampleAttributes(e,9),g.parseUpsampleAttributes=(e,t)=>{var n=10<=t,r=e.attributes.getString("mode","nearest");if("nearest"!==r&&"linear"!==r&&(t<11||"cubic"!==r))throw new Error("unrecognized mode: "+r);let i=[];t<9&&(i=e.attributes.getFloats("scales"),g.scalesValidation(i,r,n));var o=e.attributes.getFloat("extrapolation_value",0),a=10<t?e.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(a))throw new Error(`coordinate_transform_mode '${a}' is not supported`);var s="tf_crop_and_resize"===a,u=s,l="nearest"===r&&11<=t?e.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(l))throw new Error(`nearest_mode '${l}' is not supported`);var c=e.attributes.getFloat("cubic_coeff_a",-.75),e=0!==e.attributes.getInt("exclude_outside",0);if(e&&"cubic"!==r)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");var f=t<11||"nearest"===r&&"asymmetric"===a&&"floor"===l;let d=0,p=0,h=0;return 10<t?(d=1,p=2,h=3):9===t&&(p=1),m.createAttributeWithCacheKey({opset:t,isResize:n,mode:r,scales:i,extrapolationValue:o,coordinateTransformMode:a,useExtrapolation:u,needRoiInput:s,nearestMode:l,cubicCoefficientA:c,excludeOutside:e,useNearest2xOptimization:f,roiInputIdx:d,scalesInputIdx:p,sizesInputIdx:h})},(e,t,n)=>{var r=d.getGlsl(e.session.backend.glContext.version),[i,o]=e.calculateTextureWidthAndHeight(t[0].dims,p.TextureType.unpacked),a=t[0].dims.map((e,t)=>Math.floor(e*n.scales[t])),[e,s]=e.calculateTextureWidthAndHeight(a,p.TextureType.unpacked),u=a.length,l=new Array(u),c=new Array(u);let f=`
      int output_pitches[${u}];
      int input_pitches[${u}];
      `;for(let e=u-1;0<=e;e--)l[e]=e===u-1?1:l[e+1]*a[e+1],c[e]=e===u-1?1:c[e+1]*t[0].dims[e+1],f+=`
        output_pitches[${e}] = ${l[e]};
        input_pitches[${e}] = ${c[e]};
        `;i=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${i}, ${o});
        float value = getColorAsFloat(${r.texture2D}(X, coords));
        return value;
      }
      `,o="nearest"===n.mode?`
    ${i}
    float process(int indices[${u}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${e}, ${s});

      ${f}

      int d, m;
      for (int dim = 0; dim < ${u}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:4===u?`
    ${i}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${e}, ${s});

      ${f}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${t[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${i}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${e}, ${s});

      ${f}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${t[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},h),{output:{dims:a,type:t[0].type,textureType:p.TextureType.unpacked},shaderSource:o,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map(e=>Math.ceil(e))}]})});g.validateInputs=(e,t)=>{if(!e||t.opset<9&&1!==e.length||9<=t.opset&&t.opset<11&&2!==e.length||11<=t.opset&&3!==e.length&&4!==e.length)throw new Error("invalid inputs.");if(0<t.scales.length&&e[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if("string"===e[0].type)throw new Error("Invalid input tensor types.")},g.scalesValidation=(e,t,n)=>{if(n){for(const t of e)if(t<=0)throw new Error("Scale value should be greater than 0.")}else for(const t of e)if(t<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==t&&"cubic"!==t||2===e.length||4===e.length&&1===e[0]&&1===e[1]))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${n?"Resize":"Upsample"} opeartor.`)}},1958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const r=n(2174),a=n(6231),o=n(8879),i=n(5060);t.ProgramManager=class{constructor(e,t,n){this.profiler=e,this.glContext=t,this.textureLayoutStrategy=n,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(r,i,o){var e;this.profiler.event("op","ProgramManager.run "+(null!=(e=r.programInfo.name)?e:"unknown kernel"),()=>{var e,t=this.glContext.gl,n=r.program;t.useProgram(n);try{this.bindOutput(o),this.attributesBound||this.bindAttributes(r.attribLocations),this.bindUniforms(r.uniformLocations,null!=(e=r.programInfo.variables)?e:[],i)}catch(e){throw a.Logger.error("ProgramManager",r.programInfo.shaderSource),e}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(e=>this.glContext.deleteProgram(e.program))}build(n,r,i){return this.profiler.event("backend","ProgramManager.build",()=>{var e=new o.GlslPreprocessor(this.glContext,n,r,i),t=e.preprocess(),t=this.compile(t);return{programInfo:n,program:t,uniformLocations:this.getUniformLocations(t,e.context.programInfo.inputNames,e.context.programInfo.variables),attribLocations:this.getAttribLocations(t)}})}compile(e){if(!this.vertexShader){a.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const e=i.getVertexShaderSource(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER)}r.env.debug&&a.Logger.verbose("ProrgramManager",`FragShader:
${e}
`);var e=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),t=this.glContext.createProgram(this.vertexShader,e);return this.glContext.deleteShader(e),t}bindOutput(e){var t=e.width,n=e.height;a.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${t}/${n}, shape=${e.shape}, type=`+e.tensor.type),this.glContext.attachFramebuffer(e.texture,t,n)}bindAttributes(e){var t=e.position,e=e.textureCoord;this.glContext.setVertexAttributes(t,e),this.attributesBound=!0}bindUniforms(e,t,n){var r,i=this.glContext.gl;let o=0;for(const{name:a,type:s,location:u,arrayLength:l}of e){const e=null==(r=t.find(e=>e.name===a))?void 0:r.data;if("sampler2D"!==s&&!e)throw new Error(`variable '${a}' does not have data defined in program info`);switch(s){case"sampler2D":this.bindTexture(n[o],u,o),o++;break;case"float":l?i.uniform1fv(u,e):i.uniform1f(u,e);break;case"int":l?i.uniform1iv(u,e):i.uniform1i(u,e);break;default:throw new Error("Uniform not implemented: "+s)}}}bindTexture(e,t,n){this.glContext.bindTextureToUniform(e.texture,n,t)}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}getUniformLocations(e,t,n){var r=[];if(t)for(const n of t)r.push({name:n,type:"sampler2D",location:this.getUniformLocation(e,n)});if(n)for(const t of n)r.push(Object.assign(Object.assign({},t),{location:this.getUniformLocation(e,t.name)}));return r}getUniformLocation(e,t){e=this.glContext.gl.getUniformLocation(e,t);if(null===e)throw new Error(`Uniform ${t} not found.`);return e}getAttribLocation(e,t){return this.glContext.gl.getAttribLocation(e,t)}}},6416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSessionHandler=void 0;const r=n(6231),i=n(1047),o=n(8316),a=n(1640),s=n(1958),u=n(7859),l=n(5702);t.WebGLSessionHandler=class{constructor(e,t){this.backend=e,this.context=t,this.layoutStrategy=new u.PreferLogicalStrategy(e.glContext.maxTextureSize),this.programManager=new s.ProgramManager(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new l.TextureManager(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===e.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new o.WebGLInferenceHandler(this)}onGraphInitialized(e){e=e.getValues().filter(e=>-1===e.from&&e.tensor).map(e=>e.tensor.dataId);this.initializers=new Set(e)}isInitializer(e){return!!this.initializers&&this.initializers.has(e)}addInitializer(e){this.initializers.add(e)}getTextureData(e,t){return(t?this.packedTextureDataCache:this.unpackedTextureDataCache).get(e)}setTextureData(e,t,n=!1){r.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.unpackedTextureDataCache=new Map}resolve(e,t,n){t=i.resolveOperator(e,t,a.WEBGL_OP_RESOLVE_RULES);return{impl:t.opImpl,context:t.opInit?t.opInit(e,n):e}}}},7769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataEncoder=t.RGBAFloatDataEncoder=t.RedFloat32DataEncoder=void 0;const i=n(6231);t.RedFloat32DataEncoder=class{constructor(e,t=1){if(1===t)this.internalFormat=e.R32F,this.format=e.RED;else{if(4!==t)throw new Error("Invalid number of channels: "+t);this.internalFormat=e.RGBA32F,this.format=e.RGBA}this.textureType=e.FLOAT,this.channelSize=t}encode(e,t){let n,r;return e.constructor!==Float32Array&&(i.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),r=new Float32Array(e)),t*this.channelSize>e.length?(i.Logger.warning("Encoder","Source data too small. Allocating larger array"),r=e,n=this.allocate(t*this.channelSize),r.forEach((e,t)=>n[t]=e)):(r=e,n=r),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return(1===this.channelSize?e.filter((e,t)=>t%4==0):e).subarray(0,t)}},t.RGBAFloatDataEncoder=class{constructor(e,t=1,n){if(1!==t&&4!==t)throw new Error("Invalid number of channels: "+t);this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=t,this.textureType=n||e.FLOAT}encode(e,t){let n=e;return 1===this.channelSize&&(i.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(t),e.forEach((e,t)=>n[4*t]=e)),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return(1===this.channelSize?e.filter((e,t)=>t%4==0):e).subarray(0,t)}},t.Uint8DataEncoder=class{constructor(e,t=1){if(this.channelSize=4,1===t)this.internalFormat=e.ALPHA,this.format=e.ALPHA;else{if(4!==t)throw new Error("Invalid number of channels: "+t);this.internalFormat=e.RGBA,this.format=e.RGBA}this.textureType=e.UNSIGNED_BYTE,this.channelSize=t}encode(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}allocate(e){return new Uint8Array(e*this.channelSize)}decode(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error("Invalid array type: "+e.constructor)}}},7859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBatchDim=t.sizeToSquarishShape=t.getRowsCols=t.sizeFromShape=t.isInt=t.parseAxisParam=t.squeezeShape=t.PreferLogicalStrategy=t.AlwaysKeepOriginalSizeStrategy=void 0;const o=n(6231),r=n(2517);function a(t,e){var n=[],r=[],i=null!=e&&Array.isArray(e)&&0===e.length,o=null==e||i?null:s(e,t).sort();let a=0;for(let e=0;e<t.length;++e){if(null!=o){if(o[a]===e&&1!==t[e])throw new Error(`Can't squeeze axis ${e} since its dim '${t[e]}' is not 1`);(null==o[a]||o[a]>e)&&1===t[e]&&(n.push(t[e]),r.push(e)),o[a]<=e&&a++}1!==t[e]&&(n.push(t[e]),r.push(e))}return{newShape:n,keptDims:r}}function s(e,t){const n=t.length;return e=null==e?t.map((e,t)=>t):[].concat(e),r.assert(e.every(e=>e>=-n&&e<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis `+e),r.assert(e.every(i),()=>"All values in axis param must be integers but got axis "+e),e.map(e=>e<0?n+e:e)}function i(e){return e%1==0}function u(t){if(0===t.length)return 1;let n=t[0];for(let e=1;e<t.length;e++)n*=t[e];return n}function l(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}t.AlwaysKeepOriginalSizeStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){if(0===e.length)return[1,1];var n=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const r=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((e,t)=>e*t),i=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((e,t)=>e*t);if(!(r>n||i>n))return[r,i];o.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:`+t.breakAxis)}const r=e.reduce((e,t)=>e*t);let i=Math.floor(Math.sqrt(r));for(;i<n&&i<r&&r%i!=0;i++);if(i>=n||r%i!=0)throw new Error("The given dimensions are outside this GPU's boundaries: "+e);return[i,r/i]}},t.PreferLogicalStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){e=this.computeTexture(e,t);return t&&t.isPacked&&(e[0]/=2,e[1]/=2),t&&t.reverseWH?[e[1],e[0]]:e}computeTexture(e,t){const n=t&&t.isPacked;if(0===e.length)return n?[2,2]:[1,1];let r=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const n=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((e,t)=>e*t),a=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((e,t)=>e*t);if(!(n>r||a>r))return[n,a];o.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:`+t.breakAxis)}let i=e.slice(0);if(2!==(i=n&&(r*=2,1===(i=i.map((e,t)=>!(t>=i.length-2)||i[t]%2==0?i[t]:i[t]+1)).length)?[2,i[0]]:i).length){const e=a(i);i=e.newShape}t=u(i);return i.length<=1&&t<=r?[1,t]:2===i.length&&i[0]<=r&&i[1]<=r?i:3===i.length&&i[0]*i[1]<=r&&i[2]<=r?[i[0]*i[1],i[2]]:3===i.length&&i[0]<=r&&i[1]*i[2]<=r?[i[0],i[1]*i[2]]:4===i.length&&i[0]*i[1]*i[2]<=r&&i[3]<=r?[i[0]*i[1]*i[2],i[3]]:4===i.length&&i[0]<=r&&i[1]*i[2]*i[3]<=r?[i[0],i[1]*i[2]*i[3]]:n?l(t/4).map(e=>2*e):l(t)}},t.squeezeShape=a,t.parseAxisParam=s,t.isInt=i,t.sizeFromShape=u,t.getRowsCols=function(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[1<e.length?e[e.length-2]:1,e[e.length-1]]},t.sizeToSquarishShape=l,t.getBatchDim=function(e,t=2){return u(e.slice(0,e.length-t))}},4057:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.createTextureLayoutFromShape=s.calculateTextureWidthAndHeight=s.createTextureLayoutFromTextureType=void 0;const l=t(2517),u=t(2039);s.createTextureLayoutFromTextureType=(e,n,t)=>{var r=t===u.TextureType.unpacked||t===u.TextureType.unpackedReversed?1:4,i=t===u.TextureType.packed,o=t===u.TextureType.unpackedReversed||t===u.TextureType.packed,a=t===u.TextureType.packedLastDimension?n.length-1:void 0,t=t===u.TextureType.packedLastDimension?n.map((e,t)=>t===n.length-1?4*e:e):void 0;return s.createTextureLayoutFromShape(e,n,r,t,{isPacked:i,reverseWH:o,breakAxis:a})},s.calculateTextureWidthAndHeight=(e,t,n)=>{e=s.createTextureLayoutFromTextureType(e,t,n);return[e.width,e.height]},s.createTextureLayoutFromShape=(e,t,n=1,r,i)=>{var o=!(!i||!i.isPacked),[e,a]=e.computeTextureWH(o&&r||t,i),s=t.length;let u=t.slice(0);if(0===s&&(u=[1]),1===n)r=t;else if(o){if(4!==n)throw new Error("a packed texture must be 4-channel");r=t,0<s&&(u[s-1]=Math.ceil(u[s-1]/2)),1<s&&(u[s-2]=Math.ceil(u[s-2]/2))}else if(!r)throw new Error("Unpacked shape is needed when using channels > 1");return{width:e,height:a,channels:n,isPacked:o,shape:u,strides:l.ShapeUtil.computeStrides(u),unpackedShape:r,reversedWH:i&&i.reverseWH}}},5702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureManager=void 0;const l=n(6231);t.TextureManager=class{constructor(e,t,n,r){this.glContext=e,this.layoutStrategy=t,this.profiler=n,this.config=r,this.pendingRead=new Map,r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(e,t,n,r){var i=this.toEncoderType(e),i=this.glContext.getEncoder(i,t.channels||1,r);if(t.isPacked&&1===r)throw new Error("not implemented");var o=t.width,a=t.height;let s,u;if(this.config.reuseTextures){s=`${o}x${a}_${i.format}_${i.internalFormat}_`+i.textureType,(u=this.inUseTextures.get(s))||(u=[],this.inUseTextures.set(s,u));const t=this.idleTextures.get(s);if(t&&0<t.length){const l=t.pop();return u.push(l),1===r&&this.glContext.updateTexture(l,o,a,i,this.toTextureData(e,n)),l}}l.Logger.verbose("TextureManager",`Creating new texture of size ${t.width}x`+t.height);r=this.glContext.allocateTexture(o,a,i,this.toTextureData(e,n));return this.config.reuseTextures&&(u.push(r),this.textureLookup.set(r,s)),r}readTexture(t,n,r){return r=r||1,this.profiler.event("backend","TextureManager.readTexture",()=>{var e=t.shape.reduce((e,t)=>e*t)*r,e=this.glContext.readTexture(t.texture,t.width,t.height,e,this.toEncoderType(n),r);return this.toTensorData(n,e)})}async readTextureAsync(i,o,a){const s=i.tensor.dataId;if(a=a||1,this.pendingRead.has(s)){const i=this.pendingRead.get(s);return new Promise(e=>null==i?void 0:i.push(e))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(s,[]);var e=i.shape.reduce((e,t)=>e*t)*a;await this.glContext.createAndWaitForFence();const t=this.glContext.readTexture(i.texture,i.width,i.height,e,this.toEncoderType(o),a),n=this.toTensorData(o,t),r=this.pendingRead.get(s);return this.pendingRead.delete(s),null!=r&&r.forEach(e=>e(n)),n})}readUint8TextureAsFloat(n){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{var e=n.shape.reduce((e,t)=>e*t),t=this.glContext.readTexture(n.texture,n.width,n.height,4*e,"byte",4);return new Float32Array(t.buffer,t.byteOffset,e)})}releaseTexture(t,n){let r;if(this.config.reuseTextures&&(r=this.textureLookup.get(t.texture))){n&&this.textureLookup.delete(r);const l=this.inUseTextures.get(r);if(l){const n=l.indexOf(t.texture);if(-1!==n){l.splice(n,1);let e=this.idleTextures.get(r);e||(e=[],this.idleTextures.set(r,e)),e.push(t.texture)}}}r&&!n||(l.Logger.verbose("TextureManager",`Deleting texture of size ${t.width}x`+t.height),this.glContext.deleteTexture(t.texture))}toTensorData(e,t){switch(e){case"int16":return t instanceof Int16Array?t:Int16Array.from(t);case"int32":return t instanceof Int32Array?t:Int32Array.from(t);case"int8":return t instanceof Int8Array?t:Int8Array.from(t);case"uint16":return t instanceof Uint16Array?t:Uint16Array.from(t);case"uint32":return t instanceof Uint32Array?t:Uint32Array.from(t);case"uint8":case"bool":return t instanceof Uint8Array?t:Uint8Array.from(t);case"float32":return t instanceof Float32Array?t:Float32Array.from(t);case"float64":return t instanceof Float64Array?t:Float64Array.from(t);default:throw new Error(`TensorData type ${e} is not supported`)}}toTextureData(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t)}toEncoderType(e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureType=void 0,(t=t.TextureType||(t.TextureType={}))[t.unpacked=0]="unpacked",t[t.unpackedReversed=1]="unpackedReversed",t[t.packed=2]="packed",t[t.downloadUint8AsFloat=3]="downloadUint8AsFloat",t[t.packedLastDimension=4]="packedLastDimension"},9390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlChannels=t.getCoordsDataType=t.getSqueezedParams=t.squeezeInputShape=t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=t.generateShaderFuncNameFromInputSamplerName=t.repeatedTry=t.getPackedShape=void 0;const r=n(2517);t.getPackedShape=function(e){var t=e.length;return e.slice(0,t-1).concat(e[t-1]/4)},t.repeatedTry=async function(o,a=e=>0,s){return new Promise((t,n)=>{let r=0;const i=()=>{var e;o()?t():(r++,e=a(r),null!=s&&r>=s?n():setTimeout(i,e))};i()})},t.generateShaderFuncNameFromInputSamplerName=function(e){return r.assert(void 0!==e&&0!==e.length,()=>"empty string found for sampler name"),"get"+e.charAt(0).toUpperCase()+e.slice(1)},t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(e){return r.assert(void 0!==e&&0!==e.length,()=>"empty string found for sampler name"),"get"+e.charAt(0).toUpperCase()+e.slice(1)+"AtOutCoords"},t.squeezeInputShape=function(e,t){JSON.parse(JSON.stringify(e));return t},t.getSqueezedParams=function(t,e){return e.map(e=>t[e]).join(", ")},t.getCoordsDataType=function(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)},t.getGlChannels=function(e=6){return["x","y","z","w","u","v"].slice(0,e)}},7305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNewWebGLContext=t.createWebGLContext=void 0;const i=n(6231),o=n(1713),a={};function s(e){var t=function(){if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas)throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}var e=document.createElement("canvas");return e.width=1,e.height=1,e}();let n;var r={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!e||"webgl2"===e)&&(n=t.getContext("webgl2",r)))try{return new o.WebGLContext(n,2)}catch(e){i.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl2'. Error: "+e)}if((!e||"webgl"===e)&&(n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r)))try{return new o.WebGLContext(n,1)}catch(e){i.Logger.warning("GlContextFactory","failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: "+e)}throw new Error("WebGL is not supported")}t.createWebGLContext=function e(t){let n;t&&"webgl2"!==t||!("webgl2"in a)?(!t||"webgl"===t)&&"webgl"in a&&(n=a.webgl):n=a.webgl2,n=n||s(t),t=t||1===n.version?"webgl":"webgl2";var r=n.gl;return a[t]=n,r.isContextLost()?(delete a[t],e(t)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n)},t.createNewWebGLContext=s},1713:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=t.linearSearchLastTrue=void 0;const a=n(2174),s=o(n(7769)),u=n(9390);function l(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}t.linearSearchLastTrue=l,t.WebGLContext=class{constructor(e,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=e,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(e,t,n,r){var i=this.gl,o=i.createTexture(),r=(i.bindTexture(i.TEXTURE_2D,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),r?n.encode(r,e*t):null);return i.texImage2D(i.TEXTURE_2D,0,n.internalFormat,e,t,0,n.format,n.textureType,r),this.checkError(),o}updateTexture(e,t,n,r,i){var o=this.gl,e=(o.bindTexture(o.TEXTURE_2D,e),r.encode(i,t*n));o.texSubImage2D(o.TEXTURE_2D,0,0,0,t,n,r.format,r.textureType,e),this.checkError()}attachFramebuffer(e,t,n){var r=this.gl;r.bindTexture(r.TEXTURE_2D,e),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.checkError(),r.viewport(0,0,t,n),r.scissor(0,0,t,n)}readTexture(e,t,n,r,i,o){var a=this.gl,i=(o=o||1,this.frameBufferBound||this.attachFramebuffer(e,t,n),this.getEncoder(i,o)),o=i.allocate(t*n);return a.bindTexture(a.TEXTURE_2D,e),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e,0),a.readPixels(0,0,t,n,a.RGBA,i.textureType,o),this.checkError(),i.decode(o,r)}isFramebufferReady(){return!0}getActiveTexture(){var e=this.gl;return"TEXTURE"+(e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(e,t){var n=this.gl;n.vertexAttribPointer(e,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(e),-1!==t&&(n.vertexAttribPointer(t,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(t)),this.checkError()}createProgram(e,t){var n=this.gl,r=n.createProgram();return n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),r}compileShader(e,t){var n=this.gl,r=n.createShader(t);if(!r)throw new Error("createShader() returned null with type "+t);if(n.shaderSource(r,e),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error(`Failed to compile shader: ${n.getShaderInfoLog(r)}
Shader source:
`+e);return r}deleteShader(e){this.gl.deleteShader(e)}bindTextureToUniform(e,t,n){var r=this.gl;r.activeTexture(r.TEXTURE0+t),this.checkError(),r.bindTexture(r.TEXTURE_2D,e),this.checkError(),r.uniform1i(n,t),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(a.env.debug){var t=this.gl,n=t.getError();let e="";switch(n){case t.NO_ERROR:return;case t.INVALID_ENUM:e="INVALID_ENUM";break;case t.INVALID_VALUE:e="INVALID_VALUE";break;case t.INVALID_OPERATION:e="INVALID_OPERATION";break;case t.INVALID_FRAMEBUFFER_OPERATION:e="INVALID_FRAMEBUFFER_OPERATION";break;case t.OUT_OF_MEMORY:e="OUT_OF_MEMORY";break;case t.CONTEXT_LOST_WEBGL:e="CONTEXT_LOST_WEBGL";break;default:e="Unknown WebGL Error: "+n.toString(16)}throw new Error(e)}}deleteTexture(e){this.gl.deleteTexture(e)}deleteProgram(e){this.gl.deleteProgram(e)}getEncoder(e,t,n=0){if(2===this.version)return new s.RedFloat32DataEncoder(this.gl,t);switch(e){case"float":return 1===n||this.isRenderFloat32Supported?new s.RGBAFloatDataEncoder(this.gl,t):new s.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new s.Uint8DataEncoder(this.gl,t);default:throw new Error("Invalid dataType: "+e)}}clearActiveTextures(){var t=this.gl;for(let e=0;e<this.maxTextureImageUnits;++e)t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,null)}dispose(){var e;this.disposed||((e=this.gl).bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0)}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){var e,t=this.gl,n=t.createBuffer();if(n)return e=this.createDefaultGeometry(),t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),this.checkError(),n;throw new Error("createBuffer() returned null")}createFramebuffer(){var e=this.gl.createFramebuffer();if(e)return e;throw new Error("createFramebuffer returned null")}queryVitalParameters(){var e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){var e=this.gl,t=e.createTexture(),n=(e.bindTexture(e.TEXTURE_2D,t),2===this.version?e.RGBA32F:e.RGBA),n=(e.texImage2D(e.TEXTURE_2D,0,n,1,1,0,e.RGBA,e.FLOAT,null),e.createFramebuffer()),r=(e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE);return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(n),r}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){var e=this.gl;let t,n,r,i,o;try{t=e.createTexture(),n=e.createFramebuffer(),e.bindTexture(e.TEXTURE_2D,t);var a=2===this.version?e.RGBA32F:e.RGBA;return e.texImage2D(e.TEXTURE_2D,0,a,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.enable(e.BLEND),!!(r=e.createShader(e.VERTEX_SHADER))&&(e.shaderSource(r,"void main(){}"),e.compileShader(r),!!(i=e.createShader(e.FRAGMENT_SHADER)))&&(e.shaderSource(i,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),e.compileShader(i),!!(o=e.createProgram()))&&(e.attachShader(o,r),e.attachShader(o,i),e.linkProgram(o),e.useProgram(o),e.drawArrays(e.POINTS,0,1),e.getError()===e.NO_ERROR)}finally{e.disable(e.BLEND),o&&e.deleteProgram(o),r&&e.deleteShader(r),i&&e.deleteShader(i),n&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(n)),t&&(e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(t))}}beginTimer(){var e,t,n;if(2===this.version&&this.disjointTimerQueryWebgl2Extension)return e=this.gl,t=this.disjointTimerQueryWebgl2Extension,n=e.createQuery(),e.beginQuery(t.TIME_ELAPSED_EXT,n),n;throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");var e=this.gl,t=this.disjointTimerQueryWebgl2Extension;e.endQuery(t.TIME_ELAPSED_EXT)}isTimerResultAvailable(e){var t,n,r=!1,i=!1;if(2===this.version&&this.disjointTimerQueryWebgl2Extension)return t=this.gl,n=this.disjointTimerQueryWebgl2Extension,r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE),i=t.getParameter(n.GPU_DISJOINT_EXT),r&&!i;throw new Error("WebGL1 profiling currently not supported")}getTimerResult(e){if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");var t=this.gl,n=t.getQueryParameter(e,t.QUERY_RESULT);return t.deleteQuery(e),n/1e6}async waitForQueryAndGetTime(e){return await u.repeatedTry(()=>this.isTimerResultAvailable(e)),this.getTimerResult(e)}async createAndWaitForFence(){var e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){const t=e,n=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),e=null===n?()=>!0:()=>{var e=t.clientWaitSync(n,0,0);return e===t.ALREADY_SIGNALED||e===t.CONDITION_SATISFIED},{query:n,isFencePassed:e}}async pollFence(t){return new Promise(e=>{this.addItemToPoll(()=>t.isFencePassed(),()=>e())})}pollItems(){const t=l(this.itemsToPoll.map(e=>e.isDoneFn));for(let e=0;e<=t;++e){const t=this.itemsToPoll[e]["resolveFn"];t()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}async addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),1<this.itemsToPoll.length||await u.repeatedTry(()=>(this.pollItems(),0===this.itemsToPoll.length))}}},1036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionPlan=void 0;const f=n(6231);class r{constructor(e,t){this.op=e,this.node=t}}t.ExecutionPlan=class{constructor(e,t,n){this.graph=e,this.profiler=n,this.initialize(t)}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",()=>{const n=this.graph.getNodes();if(n.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map((e,t)=>new r(e,n[t])),this.reset(),this._starter=[],this._ops.forEach((e,t)=>{let n=!0;for(const t of e.node.inputs)if(!this._values[t]&&-1===this.graph.getInputIndices().indexOf(t)){n=!1;break}n&&this._starter.push(t)})})}reset(){this._values=this.graph.getValues().map(e=>e.tensor)}async execute(l,c){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const t=l.createInferenceHandler(),n=this.graph.getInputIndices();if(c.length!==n.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${c.length} expected: `+n.length);c.forEach((e,t)=>{t=n[t];this._values[t]=e});const e=this._starter.slice(0),r=this.graph.getValues(),i=this.graph.getNodes();let o=0;for(;o<e.length;){const l=e[o++],c=this._ops[l],n=c.node.inputs.map(e=>this._values[e]);if(-1!==n.indexOf(void 0))throw new Error("unresolved input detected: op: "+c.node);const s=n;f.Logger.verbose("ExecPlan",`Runing op:${c.node.name} (${s.map((e,t)=>`'${c.node.inputs[t]}': ${e.type}[${e.dims.join(",")}]`).join(", ")})`);var a=await this.profiler.event("node",c.node.name,async()=>c.op.impl(t,s,c.op.context));if(a.length!==c.node.outputs.length)throw new Error("the size of output does not match model definition.");a.forEach((e,t)=>{t=c.node.outputs[t];if(this._values[t])throw new Error(`output [${t}] already has value: op:`+c.node.name);this._values[t]=e});const u=new Set;a.forEach((t,e)=>{e=c.node.outputs[e];for(const t of r[e].to){const c=i[t];let e=!0;for(const t of c.inputs)if(!this._values[t]){e=!1;break}e&&u.add(t)}}),e.push(...u)}const s=[];for(let e=0;e<this.graph.getOutputIndices().length;e++){const c=this.graph.getOutputIndices()[e],t=this._values[c];if(void 0===t)throw new Error(`required output [${c}] does not have value`);0===c?await t.getData():t.data,s.push(t)}return f.Logger.verbose("ExecPlan","disposing of inferenceHandler"),t.dispose(),s})}}},7070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;const r=n(1446),i=n(7778),o=n(9395),f=n(9162),d=n(2517);var p=o.onnxruntime.experimental.fbs;t.Graph={from:(e,t)=>new a(e,t)};class h{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=d.ProtoUtil.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}}class g{constructor(e,t){e instanceof r.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new i.Attribute(e.attribute)):e instanceof p.Node&&(this.name=null!=t?t:e.name(),this.opType=e.opType(),this.attributes=new i.Attribute(d.ProtoUtil.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class a{constructor(e,t){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(t),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof r.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else{if(!(e instanceof p.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(e)}}buildGraphFromOnnxFormat(n){const r=new Map,t=(this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[],new Map);if(!n.input)throw new Error("missing information in graph: input");const i=[];for(const t of n.input){if(r.has(t.name))throw new Error("duplicated input name: "+t.name);const n=this._allData.push(new h(t))-1;r.set(t.name,n),i.push(t.name)}if(!n.initializer)throw new Error("missing information in graph: initializer");for(const t of n.initializer){let e=r.get(t.name);if(void 0===e){const i=new h;i.type={shape:{dims:d.ProtoUtil.tensorDimsFromProto(t.dims)},tensorType:d.ProtoUtil.tensorDataTypeFromProto(t.dataType)},e=this._allData.push(i)-1,r.set(t.name,e)}this._allData[e]._from=-1,this._allData[e].tensor=f.Tensor.fromProto(t)}for(let e=0;e<this._allData.length;e++)this._allData[e].tensor||(this._allInputIndices.push(e),this._allInputNames.push(i[e]));if(!n.output)throw new Error("missing information in graph: output");for(const t of n.output){if(r.has(t.name))throw new Error("duplicated output name: "+t.name);const n=this._allData.push(new h(t))-1;r.set(t.name,n),this._allOutputIndices.push(n),this._allOutputNames.push(t.name)}if(!n.node)throw new Error("missing information in graph: node");for(const r of n.node){if(!r.name)for(let e=0;;e++){const i=`unnamed_${r.opType}_`+e;if(!t.has(i)){r.name=i;break}}if(t.has(r.name))throw new Error("duplicated node name: "+r.name);const n=this._nodes.push(new g(r))-1;t.set(r.name,n)}for(let t=0;t<this._nodes.length;t++){const i=this._nodes[t],a=n.node[t];if(!a.output)throw new Error("missing output for node: "+a.name);for(const n of a.output){let e=r.get(n);if(void 0===e&&(e=this._allData.push(new h)-1,r.set(n,e)),i.outputs.push(e),void 0!==this._allData[e]._from)throw new Error("multiple nodes output to one data value: "+e);if(this._allData[e]._from=t,"Constant"===a.opType){if(!a.attribute||1!==a.attribute.length||!a.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!a.output||1!==a.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");i.outputs.pop(),i.executeNode=!1,this._allData[e]._from=-1,this._allData[e].tensor=f.Tensor.fromProto(a.attribute[0].t)}}}for(let e=0;e<this._nodes.length;e++){const i=this._nodes[e],s=n.node[e];if(!s.input)throw new Error("missing input for node: "+s.name);for(const n of s.input){var o=r.get(n);if(void 0===o)throw new Error(`unrecognized input '${n}' for node: `+s.name);i.inputs.push(o),this._allData[o]._to.push(e)}}return!0}buildGraphFromOrtFormat(r){var n,i;const o=new Map,a=(this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[],new Map),t=[];for(let e=0;e<r.inputsLength();e++){const f=r.inputs(e);if(o.has(f))throw new Error("duplicated input name: "+f);for(let e=0;e<r.nodeArgsLength();e++)if((null==(n=r.nodeArgs(e))?void 0:n.name())===f){const n=new h;if((null==(i=null==(s=r.nodeArgs(e))?void 0:s.type())?void 0:i.valueType())!==p.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const g=r.nodeArgs(e).type().value(new p.TensorTypeAndShape),u=d.ProtoUtil.tensorDataTypeFromProto(g.elemType()),l=g.shape(),c=[];for(let e=0;e<l.dimLength();e++)c.push(d.LongUtil.longToNumber(l.dim(e).value().dimValue()));n.type={shape:{dims:c},tensorType:u};var s=this._allData.push(n)-1;o.set(f,s),t.push(f)}}for(let t=0;t<r.initializersLength();t++){const s=r.initializers(t);let e=o.get(s.name());if(void 0===e){const r=new h,n=d.ProtoUtil.tensorDimsFromORTFormat(s),a=d.ProtoUtil.tensorDataTypeFromProto(s.dataType());r.type={shape:{dims:n},tensorType:a},e=this._allData.push(r)-1,o.set(s.name(),e)}this._allData[e]._from=-1,this._allData[e].tensor=f.Tensor.fromOrtTensor(s)}for(let e=0;e<this._allData.length;e++)this._allData[e].tensor||(this._allInputIndices.push(e),this._allInputNames.push(t[e]));for(let e=0;e<r.outputsLength();e++){const s=r.outputs(e);if(o.has(s))throw new Error("duplicated output name: "+s);const i=this._allData.push(new h)-1;o.set(s,i),this._allOutputIndices.push(i),this._allOutputNames.push(s)}if(!r.nodes)throw new Error("missing information in graph: node");for(let e=0;e<r.nodesLength();e++){const s=r.nodes(e);let t=s.name();if(!t)for(let e=0;t=`unnamed_${s.opType()}_`+e,a.has(t);e++);if(a.has(t))throw new Error("duplicated node name: "+t);const o=this._nodes.push(new g(s,t))-1;a.set(t,o)}for(let n=0;n<this._nodes.length;n++){const s=this._nodes[n],i=r.nodes(n);if(null==i)throw new Error("No node exists at index "+n);if(0===(null==i?void 0:i.outputsLength()))throw new Error("missing output for node: "+i.name);for(let t=0;t<(null==i?void 0:i.outputsLength());t++){const a=null==i?void 0:i.outputs(t);let e=o.get(a);if(void 0===e&&(e=this._allData.push(new h)-1,o.set(a,e)),s.outputs.push(e),void 0!==this._allData[e]._from)throw new Error("multiple nodes output to one data value: "+e);if(this._allData[e]._from=n,"Constant"===i.opType()){if(1!==i.attributesLength()||!i.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==i.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");s.outputs.pop(),s.executeNode=!1,this._allData[e]._from=-1,this._allData[e].tensor=f.Tensor.fromOrtTensor(i.attributes(0).t())}}}for(let t=0;t<this._nodes.length;t++){const s=this._nodes[t],i=r.nodes(t);if(0===i.inputsLength())throw new Error("missing input for node: "+i.name);for(let e=0;e<i.inputsLength();e++){const a=i.inputs(e),f=o.get(a);if(void 0===f)throw new Error(`unrecognized input '${a}' for node: `+i.name());s.inputs.push(f),this._allData[f]._to.push(t)}}}checkIsAcyclic(){const t=new Set,n=(this._allInputIndices.forEach(e=>{this._allData[e]._to.forEach(e=>{t.add(e)})}),Array.from(t)),r=new Array(this._nodes.length).fill("white");for(;0<n.length;){const t=n.pop();"gray"===r[t]?r[t]="black":(n.push(t),r[t]="gray",this._nodes[t].outputs.forEach(e=>{e=this._allData[e];if(void 0!==e.tensor)throw new Error("node outputs should not be initialized");if(e._from!==t)throw new Error("from property of the Value object doesn't match index of Node being processed");e._to.forEach(e=>{if("gray"===r[e])throw new Error("model graph is cyclic");"white"===r[e]&&n.push(e)})}))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let r=0;for(let n=0;n<this._nodes.length;n++)this._nodes[n].executeNode?0<r&&(this._nodes[n].inputs.forEach(e=>{var t=this._allData[e]._to.indexOf(n+r);-1!==t&&(this._allData[e]._to[t]=n)}),this._nodes[n].outputs.forEach(e=>{this._allData[e]._from&&this._allData[e]._from===n+r&&(this._allData[e]._from=n)})):(r++,this._nodes[n].outputs.forEach(e=>{this._allData[e]._from=-2}),this._nodes.splice(n,1),n--);for(let n=r=0;n<this._allData.length;n++)if(-2!==this._allData[n].from||-1!==this._allOutputIndices.indexOf(n+r)){if(0<r){let t=-1;void 0!==this._allData[n].from&&-1!==this._allData[n].from?-1!==(t=this._nodes[this._allData[n].from].outputs.indexOf(n+r))&&(this._nodes[this._allData[n].from].outputs[t]=n):-1!==(t=this._allInputIndices.indexOf(n+r))&&(this._allInputIndices[t]=n),this._allData[n].to.forEach(e=>{-1!==(t=this._nodes[e].inputs.indexOf(n+r))&&(this._nodes[e].inputs[t]=n)}),0===this._allData[n].to.length&&-1!==(t=this._allOutputIndices.indexOf(n+r))&&(this._allOutputIndices[t]=n)}}else r++,this._allData.splice(n,1),n--}deleteNode(e){const t=this._nodes[e];if(1<t.outputs.length)for(let e=1;e<t.outputs.length;e++)if(0<this._allData[t.outputs[e]].to.length)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");t.executeNode=!1;var n=t.inputs[0],r=t.outputs[0],i=this._allData[r].to,e=this._allData[n].to.indexOf(e);if(-1===e)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[n].to.splice(e,1),this._allData[r]._to=[];e=this._allOutputIndices.indexOf(r);if(-1!==e&&(this._allOutputIndices[e]=n),i&&0<i.length)for(const e of i){const t=this._nodes[e].inputs.indexOf(r);if(-1===t)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[e].inputs[t]=n,this._allData[n].to.push(e)}}removeAllDropoutNodes(){let e=0;for(const t of this._nodes){if("Dropout"===t.opType){if(1!==t.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==t.outputs.length&&2!==t.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===t.outputs.length&&0!==this._allData[t.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(const t of this._nodes)"Identity"===t.opType&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const n of this._nodes)if("Conv"===n.opType){var e=this._allData[n.outputs[0]]._to;if(1===e.length&&this.isActivation(this._nodes[e[0]])){var t=this._nodes[e[0]];if("Clip"===t.opType)if(1===t.inputs.length)try{n.attributes.set("activation_params","floats",[t.attributes.getFloat("min"),t.attributes.getFloat("max")])}catch(e){n.attributes.set("activation_params","floats",[d.MIN_CLIP,d.MAX_CLIP])}else{if(!(3<=t.inputs.length&&void 0!==this._allData[t.inputs[1]].tensor&&void 0!==this._allData[t.inputs[2]].tensor))continue;n.attributes.set("activation_params","floats",[this._allData[t.inputs[1]].tensor.floatData[0],this._allData[t.inputs[2]].tensor.floatData[0]])}n.attributes.set("activation","string",t.opType),this.deleteNode(e[0])}}}}},6231:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.now=r.Profiler=r.Logger=void 0;const o={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},a={none:new class{log(e,t,n){}},console:new class{log(e,t,n){console.log(this.color(e)+" "+(n?"[35m"+n+"[0m ":"")+t)}color(e){switch(e){case"verbose":return"[34;40mv[0m";case"info":return"[32mi[0m";case"warning":return"[30;43mw[0m";case"error":return"[31;40me[0m";case"fatal":return"[101mf[0m";default:throw new Error("unsupported severity: "+e)}}}},n={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let s={"":n};function u(e,t,n,r){if(void 0===t)return{verbose:u.verbose.bind(null,i=e),info:u.info.bind(null,i),warning:u.warning.bind(null,i),error:u.error.bind(null,i),fatal:u.fatal.bind(null,i)};if(void 0===n)l(e,t);else if("number"==typeof n&&void 0===r)l(e,t);else{if(!("string"==typeof n&&void 0===r||"string"==typeof n&&"number"==typeof r))throw new TypeError("input is valid");l(e,n,0,t)}var i}function l(e,t,n,r){var i=s[r||""]||s[""];o[e]<o[i.minimalSeverity]||(i.logDateTime&&(t=(new Date).toISOString()+"|"+t),i.logSourceLocation,a[i.provider].log(e,t,r))}function i(e){s={},c("",e||{})}function c(e,t){if("*"===e)i(t);else{const i=s[e]||n;s[e]={provider:t.provider||i.provider,minimalSeverity:t.minimalSeverity||i.minimalSeverity,logDateTime:(void 0===t.logDateTime?i:t).logDateTime,logSourceLocation:(void 0===t.logSourceLocation?i:t).logSourceLocation}}}var f;(f=u=u||{}).verbose=function(e,t){f("verbose",e,t)},f.info=function(e,t){f("info",e,t)},f.warning=function(e,t){f("warning",e,t)},f.error=function(e,t){f("error",e,t)},f.fatal=function(e,t){f("fatal",e,t)},f.reset=i,f.set=c,f.setWithEnv=function(e){var t={};e.logLevel&&(t.minimalSeverity=e.logLevel),c("",t)},r.Logger=u;class d{constructor(e,t,n,r,i,o){this.category=e,this.name=t,this.startTime=n,this.endCallback=r,this.timer=i,this.ctx=o}end(){return this.endCallback(this)}async checkTimer(){if(void 0===this.ctx||void 0===this.timer)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class p{constructor(e,t,n,r){this.category=e,this.name=t,this.startTime=n,this.endTime=r}}r.Profiler=class{constructor(e,t,n){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===e?1e4:e,this._flushBatchSize=void 0===t?10:t,this._flushIntervalInMilliseconds=void 0===n?5e3:n}static create(e){return void 0===e?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=r.now(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(n,e,t,r){const i=this._started?this.begin(n,e,r):void 0;let o=!1;const a=t();if(a&&"function"==typeof a.then)return o=!0,new Promise((t,n)=>{a.then(async e=>{i&&await i.end(),t(e)},async e=>{i&&await i.end(),n(e)})});if(!o&&i){const n=i.end();if(n&&"function"==typeof n.then)return new Promise((e,t)=>{n.then(()=>{e(a)},e=>{t(e)})})}return a}begin(e,t,n){if(!this._started)throw new Error("profiler is not started yet");if(void 0===n){const n=r.now();return this.flush(n),new d(e,t,n,e=>this.endSync(e))}{const r=n.beginTimer();return new d(e,t,0,async e=>this.end(e),r,n)}}async end(e){var t=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new p(e.category,e.name,e.startTime,t)),this.flush(t))}endSync(e){var t=r.now();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new p(e.category,e.name,e.startTime,t)),this.flush(t))}logOneEvent(e){r.Logger.verbose("Profiler."+e.category,`${(e.endTime-e.startTime).toFixed(2)}ms on event '${e.name}' at `+e.endTime.toFixed(2))}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(const e=this._flushPointer;this._flushPointer<e+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=r.now()}}get started(){return this._started}},r.now="undefined"!=typeof performance&&performance.now?()=>performance.now():Date.now},2644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const r=n(4819),i=n(1446),o=n(7070),a=n(9395),s=n(2517);var u=a.onnxruntime.experimental.fbs;t.Model=class{constructor(){}load(e,t,n){if(!n)try{return void this.loadFromOnnxFormat(e,t)}catch(e){if(void 0!==n)throw e}this.loadFromOrtFormat(e,t)}loadFromOnnxFormat(e,t){e=i.onnx.ModelProto.decode(e);if(s.LongUtil.longToNumber(e.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=e.opsetImport.map(e=>({domain:e.domain,version:s.LongUtil.longToNumber(e.version)})),this._graph=o.Graph.from(e.graph,t)}loadFromOrtFormat(e,t){var e=new r.flatbuffers.ByteBuffer(e),n=u.InferenceSession.getRootAsInferenceSession(e).model();if(s.LongUtil.longToNumber(n.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let e=0;e<n.opsetImportLength();e++){const t=n.opsetImport(e);this._opsets.push({domain:null==t?void 0:t.domain(),version:s.LongUtil.longToNumber(t.version())})}this._graph=o.Graph.from(n.graph(),t)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_TYPES=t.INT_TYPES=t.NUMBER_TYPES=void 0,t.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],t.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],t.FLOAT_TYPES=["float32","float64"]},1047:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveOperator=void 0,t.resolveOperator=function(e,t,n){for(const s of n){const n=s[0],u=s[1],l=s[2],c=s[3],f=s[4];if(e.opType===n)for(const e of t)if((e.domain===u||"ai.onnx"===e.domain&&""===u)&&(r=e.version,i=l,o=void 0,a=void 0,i.endsWith("+")?(a=Number.parseInt(i.substring(0,i.length-1),10),!isNaN(a)&&a<=r):2===i.split("-").length?(a=i.split("-"),o=Number.parseInt(a[0],10),a=Number.parseInt(a[1],10),!isNaN(o)&&!isNaN(a)&&o<=r&&r<=a):Number.parseInt(i,10)===r))return{opImpl:c,opInit:f}}var r,i,o,a;throw new TypeError(`cannot resolve operator '${e.opType}' with opsets: `+t.map(e=>`${e.domain||"ai.onnx"} v`+e.version).join(", "))}},9395:(F,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onnxruntime=void 0;const n=t(4819);var t=e.onnxruntime||(e.onnxruntime={}),k=((t=(t=(t=t.experimental||(t.experimental={})).fbs||(t.fbs={})).AttributeType||(t.AttributeType={}))[t.UNDEFINED=0]="UNDEFINED",t[t.FLOAT=1]="FLOAT",t[t.INT=2]="INT",t[t.STRING=3]="STRING",t[t.TENSOR=4]="TENSOR",t[t.GRAPH=5]="GRAPH",t[t.FLOATS=6]="FLOATS",t[t.INTS=7]="INTS",t[t.STRINGS=8]="STRINGS",t[t.TENSORS=9]="TENSORS",t[t.GRAPHS=10]="GRAPHS",t[t.SPARSE_TENSOR=11]="SPARSE_TENSOR",t[t.SPARSE_TENSORS=12]="SPARSE_TENSORS",(t=(t=(t=(t=e.onnxruntime||(e.onnxruntime={})).experimental||(t.experimental={})).fbs||(t.fbs={})).DimensionValueType||(t.DimensionValueType={}))[t.UNKNOWN=0]="UNKNOWN",t[t.VALUE=1]="VALUE",t[t.PARAM=2]="PARAM",(t=(t=(t=(t=e.onnxruntime||(e.onnxruntime={})).experimental||(t.experimental={})).fbs||(t.fbs={})).TensorDataType||(t.TensorDataType={}))[t.UNDEFINED=0]="UNDEFINED",t[t.FLOAT=1]="FLOAT",t[t.UINT8=2]="UINT8",t[t.INT8=3]="INT8",t[t.UINT16=4]="UINT16",t[t.INT16=5]="INT16",t[t.INT32=6]="INT32",t[t.INT64=7]="INT64",t[t.STRING=8]="STRING",t[t.BOOL=9]="BOOL",t[t.FLOAT16=10]="FLOAT16",t[t.DOUBLE=11]="DOUBLE",t[t.UINT32=12]="UINT32",t[t.UINT64=13]="UINT64",t[t.COMPLEX64=14]="COMPLEX64",t[t.COMPLEX128=15]="COMPLEX128",t[t.BFLOAT16=16]="BFLOAT16",(t=(t=(t=(t=e.onnxruntime||(e.onnxruntime={})).experimental||(t.experimental={})).fbs||(t.fbs={})).NodeType||(t.NodeType={}))[t.Primitive=0]="Primitive",t[t.Fused=1]="Fused",(t=(t=(t=(t=e.onnxruntime||(e.onnxruntime={})).experimental||(t.experimental={})).fbs||(t.fbs={})).TypeInfoValue||(t.TypeInfoValue={}))[t.NONE=0]="NONE",t[t.tensor_type=1]="tensor_type",t[t.sequence_type=2]="sequence_type",t[t.map_type=3]="map_type",e.onnxruntime||(e.onnxruntime={})),t=k.experimental||(k.experimental={});{class m{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsShape(e,t){return(t||new m).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsShape(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new m).__init(e.readInt32(e.position())+e.position(),e)}dim(e,t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new k.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}dimLength(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}static startShape(e){e.startObject(1)}static addDim(e,t){e.addFieldOffset(0,t,0)}static createDimVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startDimVector(e,t){e.startVector(4,t,4)}static endShape(e){return e.endObject()}static createShape(e,t){return m.startShape(e),m.addDim(e,t),m.endShape(e)}}(t.fbs||(t.fbs={})).Shape=m}var U=e.onnxruntime||(e.onnxruntime={}),t=U.experimental||(U.experimental={});{class y{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimension(e,t){return(t||new y).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimension(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new y).__init(e.readInt32(e.position())+e.position(),e)}value(e){var t=this.bb.__offset(this.bb_pos,4);return t?(e||new U.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}denotation(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimension(e){e.startObject(2)}static addValue(e,t){e.addFieldOffset(0,t,0)}static addDenotation(e,t){e.addFieldOffset(1,t,0)}static endDimension(e){return e.endObject()}static createDimension(e,t,n){return y.startDimension(e),y.addValue(e,t),y.addDenotation(e,n),y.endDimension(e)}}(t.fbs||(t.fbs={})).Dimension=y}var r=e.onnxruntime||(e.onnxruntime={}),t=r.experimental||(r.experimental={});{class v{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimensionValue(e,t){return(t||new v).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimensionValue(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new v).__init(e.readInt32(e.position())+e.position(),e)}dimType(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):r.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}dimParam(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimensionValue(e){e.startObject(3)}static addDimType(e,t){e.addFieldInt8(0,t,r.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static addDimParam(e,t){e.addFieldOffset(2,t,0)}static endDimensionValue(e){return e.endObject()}static createDimensionValue(e,t,n,r){return v.startDimensionValue(e),v.addDimType(e,t),v.addDimValue(e,n),v.addDimParam(e,r),v.endDimensionValue(e)}}(t.fbs||(t.fbs={})).DimensionValue=v}var i=e.onnxruntime||(e.onnxruntime={}),t=i.experimental||(i.experimental={});{class _{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorTypeAndShape(e,t){return(t||new _).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorTypeAndShape(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new _).__init(e.readInt32(e.position())+e.position(),e)}elemType(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):i.experimental.fbs.TensorDataType.UNDEFINED}shape(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new i.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startTensorTypeAndShape(e){e.startObject(2)}static addElemType(e,t){e.addFieldInt32(0,t,i.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(e,t){e.addFieldOffset(1,t,0)}static endTensorTypeAndShape(e){return e.endObject()}static createTensorTypeAndShape(e,t,n){return _.startTensorTypeAndShape(e),_.addElemType(e,t),_.addShape(e,n),_.endTensorTypeAndShape(e)}}(t.fbs||(t.fbs={})).TensorTypeAndShape=_}var o=e.onnxruntime||(e.onnxruntime={}),t=o.experimental||(o.experimental={});{class b{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMapType(e,t){return(t||new b).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMapType(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new b).__init(e.readInt32(e.position())+e.position(),e)}keyType(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):o.experimental.fbs.TensorDataType.UNDEFINED}valueType(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new o.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startMapType(e){e.startObject(2)}static addKeyType(e,t){e.addFieldInt32(0,t,o.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(e,t){e.addFieldOffset(1,t,0)}static endMapType(e){return e.endObject()}static createMapType(e,t,n){return b.startMapType(e),b.addKeyType(e,t),b.addValueType(e,n),b.endMapType(e)}}(t.fbs||(t.fbs={})).MapType=b}var j=e.onnxruntime||(e.onnxruntime={}),t=j.experimental||(j.experimental={});{class T{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSequenceType(e,t){return(t||new T).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSequenceType(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new T).__init(e.readInt32(e.position())+e.position(),e)}elemType(e){var t=this.bb.__offset(this.bb_pos,4);return t?(e||new j.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startSequenceType(e){e.startObject(1)}static addElemType(e,t){e.addFieldOffset(0,t,0)}static endSequenceType(e){return e.endObject()}static createSequenceType(e,t){return T.startSequenceType(e),T.addElemType(e,t),T.endSequenceType(e)}}(t.fbs||(t.fbs={})).SequenceType=T}((t=(t=e.onnxruntime||(e.onnxruntime={})).experimental||(t.experimental={})).fbs||(t.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(e,t,n,r){return e.prep(4,12),e.writeInt32(r),e.writeInt32(n),e.writeInt32(t),e.offset()}};var a=e.onnxruntime||(e.onnxruntime={}),t=a.experimental||(a.experimental={});{class w{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNodeEdge(e,t){return(t||new w).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNodeEdge(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new w).__init(e.readInt32(e.position())+e.position(),e)}nodeIndex(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0}inputEdges(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new a.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+n)+12*e,this.bb):null}inputEdgesLength(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}outputEdges(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new a.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+n)+12*e,this.bb):null}outputEdgesLength(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNodeEdge(e){e.startObject(3)}static addNodeIndex(e,t){e.addFieldInt32(0,t,0)}static addInputEdges(e,t){e.addFieldOffset(1,t,0)}static startInputEdgesVector(e,t){e.startVector(12,t,4)}static addOutputEdges(e,t){e.addFieldOffset(2,t,0)}static startOutputEdgesVector(e,t){e.startVector(12,t,4)}static endNodeEdge(e){return e.endObject()}static createNodeEdge(e,t,n,r){return w.startNodeEdge(e),w.addNodeIndex(e,t),w.addInputEdges(e,n),w.addOutputEdges(e,r),w.endNodeEdge(e)}}(t.fbs||(t.fbs={})).NodeEdge=w}var s=e.onnxruntime||(e.onnxruntime={}),t=s.experimental||(s.experimental={});{class E{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNode(e,t){return(t||new E).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNode(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new E).__init(e.readInt32(e.position())+e.position(),e)}name(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}sinceVersion(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0}index(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint32(this.bb_pos+e):0}opType(e){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}type(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):s.experimental.fbs.NodeType.Primitive}executionProviderType(e){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null}inputs(e,t){var n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){var n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}attributes(e,t){var n=this.bb.__offset(this.bb_pos,24);return n?(t||new s.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}attributesLength(){var e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCounts(e){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}inputArgCountsLength(){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCountsArray(){var e=this.bb.__offset(this.bb_pos,26);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}implicitInputs(e,t){var n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}implicitInputsLength(){var e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNode(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDomain(e,t){e.addFieldOffset(2,t,0)}static addSinceVersion(e,t){e.addFieldInt32(3,t,0)}static addIndex(e,t){e.addFieldInt32(4,t,0)}static addOpType(e,t){e.addFieldOffset(5,t,0)}static addType(e,t){e.addFieldInt32(6,t,s.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(e,t){e.addFieldOffset(7,t,0)}static addInputs(e,t){e.addFieldOffset(8,t,0)}static createInputsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(9,t,0)}static createOutputsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addAttributes(e,t){e.addFieldOffset(10,t,0)}static createAttributesVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startAttributesVector(e,t){e.startVector(4,t,4)}static addInputArgCounts(e,t){e.addFieldOffset(11,t,0)}static createInputArgCountsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addInt32(n[e]);return t.endVector()}static startInputArgCountsVector(e,t){e.startVector(4,t,4)}static addImplicitInputs(e,t){e.addFieldOffset(12,t,0)}static createImplicitInputsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startImplicitInputsVector(e,t){e.startVector(4,t,4)}static endNode(e){return e.endObject()}static createNode(e,t,n,r,i,o,a,s,u,l,c,f,d,p){return E.startNode(e),E.addName(e,t),E.addDocString(e,n),E.addDomain(e,r),E.addSinceVersion(e,i),E.addIndex(e,o),E.addOpType(e,a),E.addType(e,s),E.addExecutionProviderType(e,u),E.addInputs(e,l),E.addOutputs(e,c),E.addAttributes(e,f),E.addInputArgCounts(e,d),E.addImplicitInputs(e,p),E.endNode(e)}}(t.fbs||(t.fbs={})).Node=E}var B=e.onnxruntime||(e.onnxruntime={}),t=B.experimental||(B.experimental={});{class x{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsValueInfo(e,t){return(t||new x).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsValueInfo(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new x).__init(e.readInt32(e.position())+e.position(),e)}name(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(e){var t=this.bb.__offset(this.bb_pos,8);return t?(e||new B.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startValueInfo(e){e.startObject(3)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(e,t){e.addFieldOffset(2,t,0)}static endValueInfo(e){return e.endObject()}static createValueInfo(e,t,n,r){return x.startValueInfo(e),x.addName(e,t),x.addDocString(e,n),x.addType(e,r),x.endValueInfo(e)}}(t.fbs||(t.fbs={})).ValueInfo=x}var u=e.onnxruntime||(e.onnxruntime={}),t=u.experimental||(u.experimental={});{class S{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTypeInfo(e,t){return(t||new S).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTypeInfo(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new S).__init(e.readInt32(e.position())+e.position(),e)}denotation(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}valueType(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):u.experimental.fbs.TypeInfoValue.NONE}value(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}static startTypeInfo(e){e.startObject(3)}static addDenotation(e,t){e.addFieldOffset(0,t,0)}static addValueType(e,t){e.addFieldInt8(1,t,u.experimental.fbs.TypeInfoValue.NONE)}static addValue(e,t){e.addFieldOffset(2,t,0)}static endTypeInfo(e){return e.endObject()}static createTypeInfo(e,t,n,r){return S.startTypeInfo(e),S.addDenotation(e,t),S.addValueType(e,n),S.addValue(e,r),S.endTypeInfo(e)}}(t.fbs||(t.fbs={})).TypeInfo=S}t=e.onnxruntime||(e.onnxruntime={});t=t.experimental||(t.experimental={});{class O{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsOperatorSetId(e,t){return(t||new O).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsOperatorSetId(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new O).__init(e.readInt32(e.position())+e.position(),e)}domain(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}version(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}static startOperatorSetId(e){e.startObject(2)}static addDomain(e,t){e.addFieldOffset(0,t,0)}static addVersion(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static endOperatorSetId(e){return e.endObject()}static createOperatorSetId(e,t,n){return O.startOperatorSetId(e),O.addDomain(e,t),O.addVersion(e,n),O.endOperatorSetId(e)}}(t.fbs||(t.fbs={})).OperatorSetId=O}var l=e.onnxruntime||(e.onnxruntime={}),t=l.experimental||(l.experimental={});{class A{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new A).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new A).__init(e.readInt32(e.position())+e.position(),e)}name(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}dims(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}dataType(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):l.experimental.fbs.TensorDataType.UNDEFINED}rawData(e){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0}rawDataLength(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}rawDataArray(){var e=this.bb.__offset(this.bb_pos,12);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}stringData(e,t){var n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringDataLength(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}static startTensor(e){e.startObject(6)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(t,n){t.startVector(8,n.length,8);for(let e=n.length-1;0<=e;e--)t.addInt64(n[e]);return t.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static addDataType(e,t){e.addFieldInt32(3,t,l.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(e,t){e.addFieldOffset(4,t,0)}static createRawDataVector(t,n){t.startVector(1,n.length,1);for(let e=n.length-1;0<=e;e--)t.addInt8(n[e]);return t.endVector()}static startRawDataVector(e,t){e.startVector(1,t,1)}static addStringData(e,t){e.addFieldOffset(5,t,0)}static createStringDataVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startStringDataVector(e,t){e.startVector(4,t,4)}static endTensor(e){return e.endObject()}static createTensor(e,t,n,r,i,o,a){return A.startTensor(e),A.addName(e,t),A.addDocString(e,n),A.addDims(e,r),A.addDataType(e,i),A.addRawData(e,o),A.addStringData(e,a),A.endTensor(e)}}(t.fbs||(t.fbs={})).Tensor=A}var c=e.onnxruntime||(e.onnxruntime={}),t=c.experimental||(c.experimental={});{class I{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new I).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new I).__init(e.readInt32(e.position())+e.position(),e)}values(e){var t=this.bb.__offset(this.bb_pos,4);return t?(e||new c.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}indices(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new c.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dims(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSparseTensor(e){e.startObject(3)}static addValues(e,t){e.addFieldOffset(0,t,0)}static addIndices(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(t,n){t.startVector(8,n.length,8);for(let e=n.length-1;0<=e;e--)t.addInt64(n[e]);return t.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static endSparseTensor(e){return e.endObject()}static createSparseTensor(e,t,n,r){return I.startSparseTensor(e),I.addValues(e,t),I.addIndices(e,n),I.addDims(e,r),I.endSparseTensor(e)}}(t.fbs||(t.fbs={})).SparseTensor=I}var f=e.onnxruntime||(e.onnxruntime={}),t=f.experimental||(f.experimental={});{class P{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsAttribute(e,t){return(t||new P).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsAttribute(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new P).__init(e.readInt32(e.position())+e.position(),e)}name(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):f.experimental.fbs.AttributeType.UNDEFINED}f(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):0}i(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}s(e){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}t(e){var t=this.bb.__offset(this.bb_pos,16);return t?(e||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}g(e){var t=this.bb.__offset(this.bb_pos,18);return t?(e||new f.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}floats(e){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+4*e):0}floatsLength(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}floatsArray(){var e=this.bb.__offset(this.bb_pos,20);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}ints(e){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}intsLength(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}strings(e,t){var n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringsLength(){var e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}tensors(e,t){var n=this.bb.__offset(this.bb_pos,26);return n?(t||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}tensorsLength(){var e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}graphs(e,t){var n=this.bb.__offset(this.bb_pos,28);return n?(t||new f.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}graphsLength(){var e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startAttribute(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(e,t){e.addFieldInt32(2,t,f.experimental.fbs.AttributeType.UNDEFINED)}static addF(e,t){e.addFieldFloat32(3,t,0)}static addI(e,t){e.addFieldInt64(4,t,e.createLong(0,0))}static addS(e,t){e.addFieldOffset(5,t,0)}static addT(e,t){e.addFieldOffset(6,t,0)}static addG(e,t){e.addFieldOffset(7,t,0)}static addFloats(e,t){e.addFieldOffset(8,t,0)}static createFloatsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addFloat32(n[e]);return t.endVector()}static startFloatsVector(e,t){e.startVector(4,t,4)}static addInts(e,t){e.addFieldOffset(9,t,0)}static createIntsVector(t,n){t.startVector(8,n.length,8);for(let e=n.length-1;0<=e;e--)t.addInt64(n[e]);return t.endVector()}static startIntsVector(e,t){e.startVector(8,t,8)}static addStrings(e,t){e.addFieldOffset(10,t,0)}static createStringsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startStringsVector(e,t){e.startVector(4,t,4)}static addTensors(e,t){e.addFieldOffset(11,t,0)}static createTensorsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startTensorsVector(e,t){e.startVector(4,t,4)}static addGraphs(e,t){e.addFieldOffset(12,t,0)}static createGraphsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startGraphsVector(e,t){e.startVector(4,t,4)}static endAttribute(e){return e.endObject()}static createAttribute(e,t,n,r,i,o,a,s,u,l,c,f,d,p){return P.startAttribute(e),P.addName(e,t),P.addDocString(e,n),P.addType(e,r),P.addF(e,i),P.addI(e,o),P.addS(e,a),P.addT(e,s),P.addG(e,u),P.addFloats(e,l),P.addInts(e,c),P.addStrings(e,f),P.addTensors(e,d),P.addGraphs(e,p),P.endAttribute(e)}}(t.fbs||(t.fbs={})).Attribute=P}var d=e.onnxruntime||(e.onnxruntime={}),t=d.experimental||(d.experimental={});{class D{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsGraph(e,t){return(t||new D).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsGraph(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new D).__init(e.readInt32(e.position())+e.position(),e)}initializers(e,t){var n=this.bb.__offset(this.bb_pos,4);return n?(t||new d.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}initializersLength(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeArgs(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new d.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}nodeArgsLength(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}nodes(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new d.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}nodesLength(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}maxNodeIndex(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb_pos+e):0}nodeEdges(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new d.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}nodeEdgesLength(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}inputs(e,t){var n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){var n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}sparseInitializers(e,t){var n=this.bb.__offset(this.bb_pos,18);return n?(t||new d.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}sparseInitializersLength(){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}static startGraph(e){e.startObject(8)}static addInitializers(e,t){e.addFieldOffset(0,t,0)}static createInitializersVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startInitializersVector(e,t){e.startVector(4,t,4)}static addNodeArgs(e,t){e.addFieldOffset(1,t,0)}static createNodeArgsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startNodeArgsVector(e,t){e.startVector(4,t,4)}static addNodes(e,t){e.addFieldOffset(2,t,0)}static createNodesVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startNodesVector(e,t){e.startVector(4,t,4)}static addMaxNodeIndex(e,t){e.addFieldInt32(3,t,0)}static addNodeEdges(e,t){e.addFieldOffset(4,t,0)}static createNodeEdgesVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startNodeEdgesVector(e,t){e.startVector(4,t,4)}static addInputs(e,t){e.addFieldOffset(5,t,0)}static createInputsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(6,t,0)}static createOutputsVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addSparseInitializers(e,t){e.addFieldOffset(7,t,0)}static createSparseInitializersVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startSparseInitializersVector(e,t){e.startVector(4,t,4)}static endGraph(e){return e.endObject()}static createGraph(e,t,n,r,i,o,a,s,u){return D.startGraph(e),D.addInitializers(e,t),D.addNodeArgs(e,n),D.addNodes(e,r),D.addMaxNodeIndex(e,i),D.addNodeEdges(e,o),D.addInputs(e,a),D.addOutputs(e,s),D.addSparseInitializers(e,u),D.endGraph(e)}}(t.fbs||(t.fbs={})).Graph=D}var p=e.onnxruntime||(e.onnxruntime={}),t=p.experimental||(p.experimental={});{class R{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsModel(e,t){return(t||new R).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsModel(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new R).__init(e.readInt32(e.position())+e.position(),e)}irVersion(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}opsetImport(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new p.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}opsetImportLength(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}producerName(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}producerVersion(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null}modelVersion(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}docString(e){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,e):null}graph(e){var t=this.bb.__offset(this.bb_pos,18);return t?(e||new p.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}graphDocString(e){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb_pos+t,e):null}static startModel(e){e.startObject(9)}static addIrVersion(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addOpsetImport(e,t){e.addFieldOffset(1,t,0)}static createOpsetImportVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startOpsetImportVector(e,t){e.startVector(4,t,4)}static addProducerName(e,t){e.addFieldOffset(2,t,0)}static addProducerVersion(e,t){e.addFieldOffset(3,t,0)}static addDomain(e,t){e.addFieldOffset(4,t,0)}static addModelVersion(e,t){e.addFieldInt64(5,t,e.createLong(0,0))}static addDocString(e,t){e.addFieldOffset(6,t,0)}static addGraph(e,t){e.addFieldOffset(7,t,0)}static addGraphDocString(e,t){e.addFieldOffset(8,t,0)}static endModel(e){return e.endObject()}static createModel(e,t,n,r,i,o,a,s,u,l){return R.startModel(e),R.addIrVersion(e,t),R.addOpsetImport(e,n),R.addProducerName(e,r),R.addProducerVersion(e,i),R.addDomain(e,o),R.addModelVersion(e,a),R.addDocString(e,s),R.addGraph(e,u),R.addGraphDocString(e,l),R.endModel(e)}}(t.fbs||(t.fbs={})).Model=R}t=e.onnxruntime||(e.onnxruntime={});t=t.experimental||(t.experimental={});{class C{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKernelCreateInfos(e,t){return(t||new C).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKernelCreateInfos(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new C).__init(e.readInt32(e.position())+e.position(),e)}nodeIndices(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0}nodeIndicesLength(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeIndicesArray(){var e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}kernelDefHashes(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}kernelDefHashesLength(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startKernelCreateInfos(e){e.startObject(2)}static addNodeIndices(e,t){e.addFieldOffset(0,t,0)}static createNodeIndicesVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addInt32(n[e]);return t.endVector()}static startNodeIndicesVector(e,t){e.startVector(4,t,4)}static addKernelDefHashes(e,t){e.addFieldOffset(1,t,0)}static createKernelDefHashesVector(t,n){t.startVector(8,n.length,8);for(let e=n.length-1;0<=e;e--)t.addInt64(n[e]);return t.endVector()}static startKernelDefHashesVector(e,t){e.startVector(8,t,8)}static endKernelCreateInfos(e){return e.endObject()}static createKernelCreateInfos(e,t,n){return C.startKernelCreateInfos(e),C.addNodeIndices(e,t),C.addKernelDefHashes(e,n),C.endKernelCreateInfos(e)}}(t.fbs||(t.fbs={})).KernelCreateInfos=C}var $=e.onnxruntime||(e.onnxruntime={}),t=$.experimental||($.experimental={});{class M{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSubGraphSessionState(e,t){return(t||new M).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSubGraphSessionState(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new M).__init(e.readInt32(e.position())+e.position(),e)}graphId(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}sessionState(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new $.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startSubGraphSessionState(e){e.startObject(2)}static addGraphId(e,t){e.addFieldOffset(0,t,0)}static addSessionState(e,t){e.addFieldOffset(1,t,0)}static endSubGraphSessionState(e){var t=e.endObject();return e.requiredField(t,4),t}static createSubGraphSessionState(e,t,n){return M.startSubGraphSessionState(e),M.addGraphId(e,t),M.addSessionState(e,n),M.endSubGraphSessionState(e)}}(t.fbs||(t.fbs={})).SubGraphSessionState=M}var h=e.onnxruntime||(e.onnxruntime={}),t=h.experimental||(h.experimental={});{class N{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSessionState(e,t){return(t||new N).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSessionState(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new N).__init(e.readInt32(e.position())+e.position(),e)}kernels(e){var t=this.bb.__offset(this.bb_pos,4);return t?(e||new h.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}subGraphSessionStates(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new h.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}subGraphSessionStatesLength(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSessionState(e){e.startObject(2)}static addKernels(e,t){e.addFieldOffset(0,t,0)}static addSubGraphSessionStates(e,t){e.addFieldOffset(1,t,0)}static createSubGraphSessionStatesVector(t,n){t.startVector(4,n.length,4);for(let e=n.length-1;0<=e;e--)t.addOffset(n[e]);return t.endVector()}static startSubGraphSessionStatesVector(e,t){e.startVector(4,t,4)}static endSessionState(e){return e.endObject()}static createSessionState(e,t,n){return N.startSessionState(e),N.addKernels(e,t),N.addSubGraphSessionStates(e,n),N.endSessionState(e)}}(t.fbs||(t.fbs={})).SessionState=N}var g=e.onnxruntime||(e.onnxruntime={}),t=g.experimental||(g.experimental={});{class L{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInferenceSession(e,t){return(t||new L).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInferenceSession(e,t){return e.setPosition(e.position()+n.flatbuffers.SIZE_PREFIX_LENGTH),(t||new L).__init(e.readInt32(e.position())+e.position(),e)}static bufferHasIdentifier(e){return e.__has_identifier("ORTM")}ortVersion(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}model(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new g.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}sessionState(e){var t=this.bb.__offset(this.bb_pos,8);return t?(e||new g.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startInferenceSession(e){e.startObject(3)}static addOrtVersion(e,t){e.addFieldOffset(0,t,0)}static addModel(e,t){e.addFieldOffset(1,t,0)}static addSessionState(e,t){e.addFieldOffset(2,t,0)}static endInferenceSession(e){return e.endObject()}static finishInferenceSessionBuffer(e,t){e.finish(t,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(e,t){e.finish(t,"ORTM",!0)}static createInferenceSession(e,t,n,r){return L.startInferenceSession(e),L.addOrtVersion(e,t),L.addModel(e,n),L.addSessionState(e,r),L.endInferenceSession(e)}}(t.fbs||(t.fbs={})).InferenceSession=L}},7448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxjsSessionHandler=void 0;const a=n(2174),s=n(9162);t.OnnxjsSessionHandler=class{constructor(e){this.session=e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(e,t,n){var r=new Map;for(const t in e)if(Object.hasOwnProperty.call(e,t)){const n=e[t];r.set(t,new s.Tensor(n.dims,n.type,void 0,void 0,n.data))}const i=await this.session.run(r),o={};return i.forEach((e,t)=>{o[t]=new a.Tensor(e.type,e.data,e.dims)}),o}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;const i=n(7067),o=n(1296),a=n(7091),r=n(1036),s=n(6231),u=n(2644);t.Session=class{constructor(e={}){this._initialized=!1,this.backendHint=e.backendHint,this.profiler=s.Profiler.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(t,n,r){await this.profiler.event("session","Session.loadModel",async()=>{var e=await a.resolveBackend(this.backendHint);if(this.sessionHandler=e.createSessionHandler(this.context),this._model=new u.Model,"string"==typeof t){const n=t.endsWith(".ort");if("undefined"==typeof fetch){const r=await o.promisify(i.readFile)(t);this.initialize(r,n)}else{const r=await fetch(t),i=await r.arrayBuffer();this.initialize(new Uint8Array(i),n)}}else if(ArrayBuffer.isView(t))this.initialize(t);else{const i=new Uint8Array(t,n||0,r||t.byteLength);this.initialize(i)}})}initialize(t,n){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{var e=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(t,e,n),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new r.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(t){if(this._initialized)return this.profiler.event("session","Session.run",async()=>{var e=this.normalizeAndValidateInputs(t),e=await this._executionPlan.execute(this.sessionHandler,e);return this.createOutput(e)});throw new Error("session not initialized yet")}normalizeAndValidateInputs(n){const r=this._model.graph.getInputNames();if(Array.isArray(n)){if(n.length!==r.length)throw new Error(`incorrect input array length: expected ${r.length} but got `+n.length)}else{if(n.size!==r.length)throw new Error(`incorrect input map size: expected ${r.length} but got `+n.size);var i=new Array(n.size);let t=0;for(let e=0;e<r.length;++e){var o=n.get(r[e]);if(!o)throw new Error(`missing input tensor for: '${name}'`);i[t++]=o}n=i}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,n,!1);else{const r=this._model.graph.getInputIndices(),a=this._model.graph.getValues(),s=new Array(r.length);for(let e=0;e<r.length;++e){var t=a[r[e]];s[e]=t.type.shape.dims,this.context.graphInputTypes.push(t.type.tensorType),this.context.graphInputDims.push(n[e].dims)}this.validateInputTensorDims(s,n,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,n),n}validateInputTensorTypes(t,n){for(let e=0;e<n.length;e++){var r=t[e],i=n[e].type;if(r!==i)throw new Error(`input tensor[${e}] check failed: expected type '${r}' but got `+i)}}validateInputTensorDims(t,n,r){for(let e=0;e<n.length;e++){var i=t[e],o=n[e].dims;if(!this.compareTensorDims(i,o,r))throw new Error(`input tensor[${e}] check failed: expected shape '[${i.join(",")}]' but got [${o.join(",")}]`)}}compareTensorDims(t,n,r){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(t[e]!==n[e]&&(!r||0!==t[e]))return!1;return!0}createOutput(t){var n=this._model.graph.getOutputNames();if(t.length!==n.length)throw new Error("expected number of outputs do not match number of generated outputs");var r=new Map;for(let e=0;e<n.length;++e)r.set(n[e],t[e]);return r}initializeOps(t){var n=t.getNodes();this._ops=new Array(n.length);for(let e=0;e<n.length;e++)this._ops[e]=this.sessionHandler.resolve(n[e],this._model.opsets,t)}}},9162:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const a=n(3442),s=r(n(3720)),u=n(1446),i=n(9395),l=n(2517);var o=i.onnxruntime.experimental.fbs;function c(e){switch(e){case u.onnx.TensorProto.DataType.UINT8:case u.onnx.TensorProto.DataType.INT8:case u.onnx.TensorProto.DataType.BOOL:return 1;case u.onnx.TensorProto.DataType.UINT16:case u.onnx.TensorProto.DataType.INT16:return 2;case u.onnx.TensorProto.DataType.FLOAT:case u.onnx.TensorProto.DataType.INT32:case u.onnx.TensorProto.DataType.UINT32:return 4;case u.onnx.TensorProto.DataType.INT64:case u.onnx.TensorProto.DataType.DOUBLE:case u.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error("cannot calculate sizeof() on type "+u.onnx.TensorProto.DataType[e])}}function f(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function d(e,t){if(t===u.onnx.TensorProto.DataType.INT64||t===o.TensorDataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(t!==u.onnx.TensorProto.DataType.UINT32&&t!==o.TensorDataType.UINT32&&t!==u.onnx.TensorProto.DataType.UINT64&&t!==o.TensorDataType.UINT64)throw new TypeError("not a LONG type: "+u.onnx.TensorProto.DataType[t]);if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported")}return e.toNumber()}function p(e,t,n){switch(t){case u.onnx.TensorProto.DataType.BOOL:case u.onnx.TensorProto.DataType.UINT8:return e.getUint8(n);case u.onnx.TensorProto.DataType.INT8:return e.getInt8(n);case u.onnx.TensorProto.DataType.UINT16:return e.getUint16(n,!0);case u.onnx.TensorProto.DataType.INT16:return e.getInt16(n,!0);case u.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(n,!0);case u.onnx.TensorProto.DataType.INT32:return e.getInt32(n,!0);case u.onnx.TensorProto.DataType.UINT32:return e.getUint32(n,!0);case u.onnx.TensorProto.DataType.INT64:return d(s.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!1),t);case u.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(n,!0);case u.onnx.TensorProto.DataType.UINT64:return d(s.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!0),t);default:throw new Error("cannot read from DataView for type "+u.onnx.TensorProto.DataType[t])}}t.Tensor=class h{constructor(e,t,n,r,i,o=a.Guid.create()){if(this.dims=e,this.type=t,this.dataProvider=n,this.asyncDataProvider=r,this.cache=i,this.dataId=o,this.size=l.ShapeUtil.validateDimsAndCalcSize(e),o=this.size,e=void 0===n&&void 0===r&&void 0===i,void 0!==i&&i.length!==o)throw new RangeError("Input dims doesn't match data length.");if("string"===t){if(!(void 0===i||Array.isArray(i)&&i.every(e=>"string"==typeof e)))throw new TypeError("cache should be a string array");e&&(this.cache=new Array(o))}else{if(void 0!==i){const e=f(t);if(!(i instanceof e))throw new TypeError("cache should be type "+e.name)}if(e){const e=new ArrayBuffer(o*function(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error("cannot calculate sizeof() on type "+e)}}(t));this.cache=(n=e,new(f(t))(n))}}}get data(){if(void 0===this.cache){var e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(e){return this.data[l.ShapeUtil.indicesToOffset(e,this.strides)]}set(e,t){this.data[l.ShapeUtil.indicesToOffset(e,this.strides)]=t}async getData(){return void 0===this.cache&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=l.ShapeUtil.computeStrides(this.dims)),this._strides}static fromProto(n){if(!n)throw new Error("cannot construct Value from an empty tensor");const t=l.ProtoUtil.tensorDataTypeFromProto(n.dataType),r=l.ProtoUtil.tensorDimsFromProto(n.dims),i=new h(r,t);if("string"===t)n.stringData.forEach((e,t)=>{i.data[t]=l.decodeUtf8String(e)});else if(n.rawData&&"number"==typeof n.rawData.byteLength&&0<n.rawData.byteLength){const t=i.data,r=new DataView(n.rawData.buffer,n.rawData.byteOffset,n.rawData.byteLength),a=c(n.dataType),s=n.rawData.byteLength/a;if(n.rawData.byteLength%a!=0)throw new Error("invalid buffer length");if(t.length!==s)throw new Error("buffer length mismatch");for(let e=0;e<s;e++){const s=p(r,n.dataType,e*a);t[e]=s}}else{let t;switch(n.dataType){case u.onnx.TensorProto.DataType.FLOAT:t=n.floatData;break;case u.onnx.TensorProto.DataType.INT32:case u.onnx.TensorProto.DataType.INT16:case u.onnx.TensorProto.DataType.UINT16:case u.onnx.TensorProto.DataType.INT8:case u.onnx.TensorProto.DataType.UINT8:case u.onnx.TensorProto.DataType.BOOL:t=n.int32Data;break;case u.onnx.TensorProto.DataType.INT64:t=n.int64Data;break;case u.onnx.TensorProto.DataType.DOUBLE:t=n.doubleData;break;case u.onnx.TensorProto.DataType.UINT32:case u.onnx.TensorProto.DataType.UINT64:t=n.uint64Data;break;default:throw new Error("unspecific error")}if(null==t)throw new Error("failed to populate data from a tensorproto value");const r=i.data;if(r.length!==t.length)throw new Error("array length mismatch");for(let e=0;e<t.length;e++){var o=t[e];s.default.isLong(o)?r[e]=d(o,n.dataType):r[e]=o}}return i}static fromData(e,t,n){return new h(t,n,void 0,void 0,e)}static fromOrtTensor(t){if(!t)throw new Error("cannot construct Value from an empty tensor");const n=l.ProtoUtil.tensorDimsFromORTFormat(t),r=l.ProtoUtil.tensorDataTypeFromProto(t.dataType()),i=new h(n,r);if("string"===r)for(let e=0;e<t.stringDataLength();e++)i.data[e]=t.stringData(e);else if(t.rawDataArray()&&"number"==typeof t.rawDataLength()&&0<t.rawDataLength()){const n=i.data,r=new DataView(t.rawDataArray().buffer,t.rawDataArray().byteOffset,t.rawDataLength()),a=c(t.dataType()),s=t.rawDataLength()/a;if(t.rawDataLength()%a!=0)throw new Error("invalid buffer length");if(n.length!==s)throw new Error("buffer length mismatch");for(let e=0;e<s;e++){var o=p(r,t.dataType(),e*a);n[e]=o}}return i}}},2517:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUtf8String=t.MAX_CLIP=t.MIN_CLIP=t.PoolConvUtil=t.ReduceUtil=t.SplitUtil=t.MathUtil=t.ShapeUtil=t.LongUtil=t.ProtoUtil=t.GemmUtil=t.arrayCopyHelper=t.BroadcastUtil=t.MatMulUtil=t.ArrayUtil=t.assert=t.checkInputsShape=void 0;const i=n(4819),o=r(n(3720)),a=n(1446),h=n(9162);t.checkInputsShape=function(t,...n){if(!t||t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(!t[e].dims||t[e].dims.length!==n[e])return!1;return!0},t.assert=function(e,t){if(!e)throw new Error("string"==typeof t?t:t())},t.ArrayUtil=class{static arraysEqual(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}};class u{static preprocessInputShapes(e,t){return[1===e.length?[1,e[0]]:e,1===t.length?[t[0],1]:t]}static postprocessOutputShape(e,t,n){1===t&&e.splice(e.length-2,1),1===n&&e.pop()}static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}t.MatMulUtil=u;class g{static calcShape(t,n,r=!1){var i=t.length,o=n.length;if(0===i)return n;if(0===o)return t;var a=Math.max(t.length,n.length),s=new Array(a);if(r){if(i<2||o<2)return;const r=u.calcMatMulShape([t[i-2],t[i-1]],[n[o-2],n[o-1]]);if(void 0===r)return;[s[a-2],s[a-1]]=r}for(let e=r?3:1;e<=a;e++){const r=i-e<0?1:t[i-e],u=o-e<0?1:n[o-e];if(r!==u&&1<r&&1<u)return;s[a-e]=Math.max(r,u)}return s}static index(e,t){var n=new Array(t.length);return g.fillIndex(e,t,n),n}static fillIndex(t,n,r){var i=t.length-n.length;for(let e=0;e<n.length;e++)r[e]=t[i+e]%n[e]}static calc(a,s,u,l,c){var f=g.calcShape(a.dims,s.dims);if(f&&(!l||m.areEqual(f,a.dims))){var d=m.size(f),p=l?a:new h.Tensor(f,c||a.type);if(0===f.length)p.set([],u(a.get([]),s.get([])));else{const l=new Array(f.length),c=new Array(a.dims.length),h=new Array(s.dims.length);let t,n=0,r=0,i=!1,o=!1;0===a.dims.length&&(n=a.get([]),i=!0),0===s.dims.length&&(r=s.get([]),o=!0);for(let e=0;e<d;e++){t=e;for(let e=f.length-1;0<=e;e--)l[e]=t%f[e],t=Math.floor(t/f[e]);i||(g.fillIndex(l,a.dims,c),n=a.get(c)),o||(g.fillIndex(l,s.dims,h),r=s.get(h)),p.set(l,u(n,r))}}return p}}static isValidBroadcast(t,n){var r=t.length,i=n.length;if(i<r)return!1;for(let e=1;e<=r;e++)if(1!==t[r-e]&&t[r-e]!==n[i-e])return!1;return!0}static getBroadcastDims(t,n){var r=t.length,i=[];for(let e=0;e<r;e++){var o=r-1-e,a=t[o]||1;1<(n[n.length-1-e]||1)&&1===a&&i.unshift(o)}return i}}t.BroadcastUtil=g,t.arrayCopyHelper=function(t,n,r,i,o){if(i<0||i>=n.length)throw new Error("sourceIndex out of bounds");if(r<0||r>=t.length)throw new Error("targetIndex out of bounds");if(i+o>n.length)throw new Error("source indices to be copied are outside bounds");if(r+o>t.length)throw new Error("target array is too small to hold result");for(let e=0;e<o;e++)t[r+e]=n[i+e]},t.GemmUtil=class{static getShapeOfGemmResult(e,t,n,r,i){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let o,a,s,u=(a=t?(o=e[1],e[0]):(o=e[0],e[1]),-1);if(n[u=r?(s=n[0],1):(s=n[1],0)]!==a)throw new Error("dimension mismatch");if(o<=0||s<=0||a<=0)throw new Error("invalid shape specified");if(i&&!g.isValidBroadcast(i,[o,s]))throw new Error("gemm: invalid bias shape for broadcast");return[o,s,a]}};class s{static tensorDataTypeFromProto(e){switch(e){case a.onnx.TensorProto.DataType.INT8:return"int8";case a.onnx.TensorProto.DataType.UINT8:return"uint8";case a.onnx.TensorProto.DataType.BOOL:return"bool";case a.onnx.TensorProto.DataType.INT16:return"int16";case a.onnx.TensorProto.DataType.UINT16:return"uint16";case a.onnx.TensorProto.DataType.INT32:return"int32";case a.onnx.TensorProto.DataType.UINT32:return"uint32";case a.onnx.TensorProto.DataType.FLOAT:return"float32";case a.onnx.TensorProto.DataType.DOUBLE:return"float64";case a.onnx.TensorProto.DataType.STRING:return"string";case a.onnx.TensorProto.DataType.INT64:return"int32";case a.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error("unsupported data type: "+a.onnx.TensorProto.DataType[e])}}static tensorDataTypeStringToEnum(e){switch(e){case"int8":return a.onnx.TensorProto.DataType.INT8;case"uint8":return a.onnx.TensorProto.DataType.UINT8;case"bool":return a.onnx.TensorProto.DataType.BOOL;case"int16":return a.onnx.TensorProto.DataType.INT16;case"uint16":return a.onnx.TensorProto.DataType.UINT16;case"int32":return a.onnx.TensorProto.DataType.INT32;case"uint32":return a.onnx.TensorProto.DataType.UINT32;case"float32":return a.onnx.TensorProto.DataType.FLOAT;case"float64":return a.onnx.TensorProto.DataType.DOUBLE;case"string":return a.onnx.TensorProto.DataType.STRING;case"int64":return a.onnx.TensorProto.DataType.INT64;case"uint64":return a.onnx.TensorProto.DataType.UINT64;default:throw new Error("unsupported data type: "+e)}}static tensorDimsFromProto(e){return e.map(e=>o.default.isLong(e)?e.toNumber():e)}static tensorValueTypeFromProto(e){return{tensorType:s.tensorDataTypeFromProto(e.elemType),shape:{dims:s.tensorDimsFromProto(e.shape.dim.map(e=>e.dimValue))}}}static tensorDimsFromORTFormat(t){var n=[];for(let e=0;e<t.dimsLength();e++)n.push(l.longToNumber(t.dims(e)));return n}static tensorAttributesFromORTFormat(t){var n=[];for(let e=0;e<t.attributesLength();e++)n.push(t.attributes(e));return n}}t.ProtoUtil=s;class l{static longToNumber(e,t){return o.default.isLong(e)?e.toNumber():e instanceof i.flatbuffers.Long?o.default.fromValue({low:e.low,high:e.high,unsigned:null!=t&&t}).toNumber():e}static isLong(e){return o.default.isLong(e)||e instanceof i.flatbuffers.Long}}t.LongUtil=l;class m{static size(e){return m.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeFromDimension as Tensor has ${e.length} dimensions.`);return m.getSizeFromDimensionRange(e,t,e.length)}static sizeToDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeToDimension as Tensor has ${e.length} dimensions.`);return m.getSizeFromDimensionRange(e,0,t)}static getSizeFromDimensionRange(t,n,r){let i=1;for(let e=n;e<r;e++){if(t[e]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");i*=t[e]}return i}static computeStrides(t){var n=t.length;if(0===n)return[];if(1===n)return[1];var r=new Array(n);r[n-1]=1,r[n-2]=t[n-1];for(let e=n-3;0<=e;--e)r[e]=r[e+1]*t[e+1];return r}static transpose(e){return e.slice().reverse()}static indicesToOffset(t,n,r){void 0===r&&(r=t.length);let i=0;for(let e=0;e<r;++e)i+=n[e]*t[e];return i}static offsetToIndices(t,n){var e=n.length;if(0===e)return[];if(1===e)return[t*n[0]];var r=new Array(n.length);for(let e=0;e<r.length-1;++e)r[e]=Math.floor(t/n[e]),t-=r[e]*n[e];return r[r.length-1]=t,r}static normalizeAxis(e,t){if(e<-t&&t<=e)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map(e=>this.normalizeAxis(e,t))}static incrementIndex(t,n,r){if(0===n.length||0===t.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===r)r=n.length;else if(r<=0||r>n.length)throw new Error("Incorrect axis to increment on");for(let e=r-1;0<=e&&(t[e]++,!(t[e]<n[e]));--e)t[e]=0}static calculateReshapedDims(t,n){if(0===n.length){if(0===t.length||1===m.size(t))return[];throw new Error("cannot reshape to a scalar Tensor")}var r=n.length,i=new Array(r);let o=-1,a=1;for(let e=0;e<r;e++){if(n[e]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===n[e]){if(-1!==o)throw new Error("at most one dimension in shape hints can be -1");o=e}else{if(0===n[e]){if(e>=t.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");i[e]=t[e]}else i[e]=n[e];a*=i[e]}}var e=m.size(t);if(-1!==o){if(e%a!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${t}] Output shape: [${n}]`);i[o]=e/a}else if(a!==e)throw new Error("reshapedDims and originalDims don't have matching sizes");return i}static sortBasedOnPerm(t,e){return e?e.map(e=>t[e]):t.slice().reverse()}static padShape(e,n){const r=e.length;return e.map((e,t)=>e+n[t]+n[t+r])}static areEqual(e,n){return e.length===n.length&&e.every((e,t)=>e===n[t])}static validateDimsAndCalcSize(e){if(6<e.length)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let t=1;for(const n of e){if(!Number.isInteger(n))throw new TypeError(`Invalid shape: ${n} is not an integer`);if(n<0||2147483647<n)throw new TypeError(`Invalid shape: length ${n} is not allowed`);t*=n}return t}static flattenShape(e,t){t<0&&(t+=e.length);var n=e.reduce((e,t)=>e*t,1),e=e.slice(t).reduce((e,t)=>e*t,1);return[n/e,e]}static squeezeShape(t,n){var r=new Array;n=m.normalizeAxes(n,t.length);for(let e=0;e<t.length;e++){var i=0<=n.indexOf(e);if(i&&1!==t[e])throw new Error("squeeze an axis of size different than 1");(0===n.length&&1<t[e]||0<n.length&&!i)&&r.push(t[e])}return r}static unsqueezeShape(t,n){var r=new Array(t.length+n.length);r.fill(0);for(let e=0;e<n.length;e++){const i=m.normalizeAxis(n[e],r.length);if(i>=r.length)throw new Error("'axes' has an out of range axis");if(0!==r[i])throw new Error("'axes' has a duplicate axis");r[i]=1}let i=0;for(let e=0;e<r.length;e++)0===r[e]&&(r[e]=t[i++]);if(i!==t.length)throw new Error("the unsqueezed dimension could not be established");return r}}t.ShapeUtil=m,t.MathUtil=class{static sqr(t,n,r,i,o){if(i<0||i>=n.length)throw new Error("sourceIndex out of bounds");if(r<0||r>=t.length)throw new Error("targetIndex out of bounds");if(i+o>n.length)throw new Error("source indices to be copied are outside bounds");if(r+o>t.length)throw new Error("target array is too small to hold result");for(let e=0;e<o;e++)t[r+e]+=Math.pow(n[i+e],2)}static axpy(t,n,r,i,o,a){if(i<0||i>=n.length)throw new Error("sourceIndex out of bounds");if(r<0||r>=t.length)throw new Error("targetIndex out of bounds");if(i+o>n.length)throw new Error("source indices to be copied are outside bounds");if(r+o>t.length)throw new Error("target array is too small to hold result");for(let e=0;e<o;e++)t[r+e]+=a*n[i+e]}static powx(t,n,r,i,o,a){if(i<0||i>=n.length)throw new Error("sourceIndex out of bounds");if(r<0||r>=t.length)throw new Error("targetIndex out of bounds");if(i+o>n.length)throw new Error("source indices to be copied are outside bounds");if(r+o>t.length)throw new Error("target array is too small to hold result");for(let e=0;e<o;e++)t[r+e]=Math.pow(n[i+e],a)}static mul(t,n,r,i,o){if(i<0||i>=n.length)throw new Error("sourceIndex out of bounds");if(r<0||r>=t.length)throw new Error("targetIndex out of bounds");if(i+o>n.length)throw new Error("source indices to be copied are outside bounds");if(r+o>t.length)throw new Error("target array is too small to hold result");for(let e=0;e<o;e++)t[r+e]=n[i+e]*t[r+e]}};class c{static splitShape(t,n,r,e){if(0===r.length){if(!e)throw new Error("need to know number of outputs when the 'split' attribute is not specified");c.determineSplit(t[n],e,r)}var i=[],o=[0];for(let e=0;e<r.length;++e){0!==e&&o.push(o[e-1]+r[e-1]);var a=t.slice();a[n]=r[e],i.push(a)}return[i,o]}static determineSplit(t,n,r){if(t%n!=0)throw new Error("cannot split tensor to equal sized parts");for(let e=0;e<n;++e)r.push(t/n)}}t.SplitUtil=c;class d{static calcReduce(t,n,e,r,i){var o=t.dims.slice(0);0===n.length&&o.forEach((e,t)=>n.push(t));const a=d.calcReduceShape(o,n,!0),s=m.size(a),u=new h.Tensor(a,t.type),l=m.computeStrides(a),c=m.computeStrides(o),f=new Array(o.length);for(let e=0;e<s;e++){const a=m.offsetToIndices(e,l);g.fillIndex(a,o,f),u.set(a,d.calcReduceByAxis(t.numberData,n,o,0,m.indicesToOffset(f,c),r,i))}return e?u:new h.Tensor(d.calcReduceShape(o,n,e),u.type,void 0,void 0,u.data,u.dataId)}static calcReduceByAxis(t,n,r,i,o,a,s){let u=0;if(i>=n.length)return a(t[o]);var l=n[i],c=l>=r.length?1:m.size(r.slice(l+1));for(let e=0;e<r[l];e++)u=0===e?d.calcReduceByAxis(t,n,r,i+1,o,a,s):s(u,d.calcReduceByAxis(t,n,r,i+1,o,a,s)),o+=c;return u}static calcReduceShape(e,t,n){var r=e.slice();for(let e=0;e<t.length;e++)r[t[e]]=n?1:0;return r.filter(e=>0!==e)}}t.ReduceUtil=d;class f{static adjustPoolAttributes(e,t,n,r,i,o){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let e=0;e<t.length-2;e++)e>=n.length?n.push(t[e+2]):n[e]=t[e+2];for(let e=0;e<n.length;e++)if(e<r.length){if(r[e]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let e=0;e<n.length;e++)if(e<i.length){if(i[e]<0)throw new Error("dilations should be greater than or equal to 1")}else i.push(1);for(let e=0;e<2*n.length;e++)if(e<o.length){if(o[e]<0)throw new Error("pad should be greater than or equal to 1")}else o.push(0);for(let e=0;e<n.length;e++){if(n[e]<=0)throw new Error("kernel shapes need to be greater than 0");if(o[e]>=n[e]||o[e+n.length]>=n[e])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(t,n,r,i,o,a){if(a){if(o.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(i.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let e=0;e<t.length-2;e++)f.adjustPadAndReturnShape(t[e+2],n[e],r[e],i[e],o,e,e+t.length-2,a)}}static computePoolOutputShape(e,t,n,r,i,o,a){if(t.length<=0)throw new Error("input shape must be of size greater than 0");var s=[t[0],t[1]];return f.computeShapeHelper(e,t,s,n,r,i,o,a),s}static computeConvOutputShape(e,t,n,r,i,o,a){if(e.length<=0||t.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");t=[e[0],t[0]];return f.computeShapeHelper(!1,e,t,n,r,i,o,a),t}static computeShapeHelper(e,t,n,r,i,o,a,s){if(e)for(let e=0;e<t.length-2;e++)n.push(1);else for(let e=0;e<t.length-2;e++)n.push(f.adjustPadAndReturnShape(t[e+2],r[e],i[e],o[e],a,e,e+t.length-2,s))}static adjustPadAndReturnShape(e,t,n,r,i,o,a,s){var u=n*(r-1)+1;if(!s||"NOTSET"===s)return Math.floor((e+i[o]+i[a]-u)/t+1);switch(s){case"VALID":return i[o]=0,i[a]=0,Math.floor((e-u)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const n=((e+t-1)/t-1)*t+r-e;return i[o]="SAME_LOWER"===s?Math.floor((1+n)/2):Math.floor(n/2),i[a]=n-i[o],Math.floor((e+n-r)/t+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=f,t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22,t.decodeUtf8String=function(e){return(new TextDecoder).decode(e)}},7967:(e,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.iterateExtraOptions=void 0,o.iterateExtraOptions=(e,n,r,i)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach(([e,t])=>{e=n?n+e:e;if("object"==typeof t)o.iterateExtraOptions(t,e+".",r,i);else if("string"==typeof t||"number"==typeof t)i(e,t.toString());else{if("boolean"!=typeof t)throw new Error("Can't handle extra config type: "+typeof t);i(e,t?"1":"0")}})}},2157:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.initOrt=t.initWasm=void 0;const a=n(2174),s=o(n(349)),u=n(6361),l=()=>!!a.env.wasm.proxy&&"undefined"!=typeof document;let c,f,d,p=!1,h=!1,g=!1;const m=[],y=[],v=[],_=[],b=()=>{if(p||!h||g||!c)throw new Error("worker not ready")},T=e=>{switch(e.data.type){case"init-wasm":p=!1,e.data.err?(g=!0,f[1](e.data.err)):(h=!0,f[0]());break;case"init-ort":e.data.err?d[1](e.data.err):d[0]();break;case"create":e.data.err?m.shift()[1](e.data.err):m.shift()[0](e.data.out);break;case"release":e.data.err?y.shift()[1](e.data.err):y.shift()[0]();break;case"run":e.data.err?v.shift()[1](e.data.err):v.shift()[0](e.data.out);break;case"end-profiling":e.data.err?_.shift()[1](e.data.err):_.shift()[0]()}},w="undefined"==typeof document||null==(o=null===document||void 0===document?void 0:document.currentScript)?void 0:o.src;t.initWasm=async()=>{if(l()){if(h)return;if(p)throw new Error("multiple calls to 'initWasm()' detected.");if(g)throw new Error("previous call to 'initWasm()' failed.");return p=!0,void 0===a.env.wasm.wasmPaths&&w&&0!==w.indexOf("blob:")&&(a.env.wasm.wasmPaths=w.substr(0,w.lastIndexOf("/")+1)),new Promise((e,t)=>{null!=c&&c.terminate(),(c=n(9710).Z()).onmessage=T,f=[e,t];e={type:"init-wasm",in:a.env.wasm};c.postMessage(e)})}return u.initializeWebAssembly(a.env.wasm)},t.initOrt=async(n,r)=>{if(l())return b(),new Promise((e,t)=>{d=[e,t];e={type:"init-ort",in:{numThreads:n,loggingLevel:r}};c.postMessage(e)});s.initOrt(n,r)},t.createSession=async(n,r)=>l()?(b(),new Promise((e,t)=>{m.push([e,t]);e={type:"create",in:{model:n,options:r}};c.postMessage(e,[n.buffer])})):s.createSession(n,r),t.releaseSession=async n=>{if(l())return b(),new Promise((e,t)=>{y.push([e,t]);e={type:"release",in:n};c.postMessage(e)});s.releaseSession(n)},t.run=async(n,r,i,o,a)=>l()?(b(),new Promise((e,t)=>{v.push([e,t]);e={type:"run",in:{sessionId:n,inputIndices:r,inputs:i,outputIndices:o,options:a}};c.postMessage(e,s.extractTransferableBuffers(i))})):s.run(n,r,i,o,a),t.endProfiling=async n=>{if(l())return b(),new Promise((e,t)=>{_.push([e,t]);e={type:"end-profiling",in:n};c.postMessage(e)});s.endProfiling(n)}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(7967),s=n(4983),u=n(6361);t.setRunOptions=t=>{const i=u.getInstance();let o=0;const a=[],n=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))n.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||4<t.logSeverityLevel)throw new Error("log serverity level is not valid: "+t.logSeverityLevel);if(void 0===(null==t?void 0:t.logVerbosityLevel))n.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error("log verbosity level is not valid: "+t.logVerbosityLevel);void 0===(null==t?void 0:t.terminate)&&(n.terminate=!1);let e=0;if(void 0!==(null==t?void 0:t.tag)&&(e=s.allocWasmString(t.tag,a)),0===(o=i._OrtCreateRunOptions(n.logSeverityLevel,n.logVerbosityLevel,!!n.terminate,e)))throw new Error("Can't create run options");return void 0!==(null==t?void 0:t.extra)&&r.iterateExtraOptions(t.extra,"",new WeakSet,(e,t)=>{var n=s.allocWasmString(e,a),r=s.allocWasmString(t,a);if(0!==i._OrtAddRunConfigEntry(o,n,r))throw new Error(`Can't set a run config entry: ${e} - `+t)}),[o,a]}catch(t){throw 0!==o&&i._OrtReleaseRunOptions(o),a.forEach(i._free),t}}},2306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const u=n(2174),l=n(2157);let r;t.OnnxruntimeWebAssemblySessionHandler=class{async loadModel(e,t){r||(await l.initOrt(u.env.wasm.numThreads,(e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error("unsupported logging level: "+e)}})(u.env.logLevel)),r=!0),[this.sessionId,this.inputNames,this.outputNames]=await l.createSession(e,t)}async dispose(){return l.releaseSession(this.sessionId)}async run(e,t,n){const r=[],i=[],o=(Object.entries(e).forEach(e=>{var t=e[0],e=e[1],n=this.inputNames.indexOf(t);if(-1===n)throw new Error(`invalid input '${t}'`);r.push(e),i.push(n)}),[]);Object.entries(t).forEach(e=>{var e=e[0],t=this.outputNames.indexOf(e);if(-1===t)throw new Error(`invalid output '${e}'`);o.push(t)});var a=await l.run(this.sessionId,i,r.map(e=>[e.type,e.dims,e.data]),o,n),s={};for(let e=0;e<a.length;e++)s[this.outputNames[o[e]]]=new u.Tensor(a[e][0],a[e][2],a[e][1]);return s}startProfiling(){}endProfiling(){l.endProfiling(this.sessionId)}}},4919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const p=n(7967),h=n(4983),g=n(6361);t.setSessionOptions=t=>{const i=g.getInstance();let o=0;const a=[],n=t||{};var e=n;e.extra||(e.extra={}),e.extra.session||(e.extra.session={}),(e=e.extra.session).use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1");try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(n.graphOptimizationLevel="all");var r=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error("unsupported graph optimization level: "+e)}})(n.graphOptimizationLevel),s=(void 0===(null==t?void 0:t.enableCpuMemArena)&&(n.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(n.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(n.executionMode="sequential"),(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error("unsupported execution mode: "+e)}})(n.executionMode));let e=0;if(void 0!==(null==t?void 0:t.logId)&&(e=h.allocWasmString(t.logId,a)),void 0===(null==t?void 0:t.logSeverityLevel))n.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||4<t.logSeverityLevel)throw new Error("log serverity level is not valid: "+t.logSeverityLevel);if(void 0===(null==t?void 0:t.logVerbosityLevel))n.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error("log verbosity level is not valid: "+t.logVerbosityLevel);if(void 0===(null==t?void 0:t.enableProfiling)&&(n.enableProfiling=!1),0===(o=i._OrtCreateSessionOptions(r,!!n.enableCpuMemArena,!!n.enableMemPattern,s,!!n.enableProfiling,0,e,n.logSeverityLevel,n.logVerbosityLevel)))throw new Error("Can't create session options");if(null!=t&&t.executionProviders){var u=o;var l=t.executionProviders;var c=a;for(const d of l){let e="string"==typeof d?d:d.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error("not supported EP: "+e)}var f=h.allocWasmString(e,c);if(0!==g.getInstance()._OrtAppendExecutionProvider(u,f))throw new Error("Can't append execution provider: "+e)}}return void 0!==(null==t?void 0:t.extra)&&p.iterateExtraOptions(t.extra,"",new WeakSet,(e,t)=>{var n=h.allocWasmString(e,a),r=h.allocWasmString(t,a);if(0!==i._OrtAddSessionConfigEntry(o,n,r))throw new Error(`Can't set a session config entry: ${e} - `+t)}),[o,a]}catch(t){throw 0!==o&&i._OrtReleaseSessionOptions(o),a.forEach(i._free),t}}},4983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const o=n(6361);t.allocWasmString=(e,t)=>{var n=o.getInstance(),r=n.lengthBytesUTF8(e)+1,i=n._malloc(r);return n.stringToUTF8(e,i,r),t.push(i),i}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.initOrt=void 0;const w=n(586),p=n(4919),E=n(4983),x=n(6361),S=(t.initOrt=(e,t)=>{e=x.getInstance()._OrtInit(e,t);if(0!==e)throw new Error("Can't initialize onnxruntime. error code = "+e)},new Map),O=(t.createSession=(e,t)=>{var n=x.getInstance(),r=n._malloc(e.byteLength);let i=0,o=0,a=[];try{if([o,a]=p.setSessionOptions(t),n.HEAPU8.set(e,r),0===(i=n._OrtCreateSession(r,e.byteLength,o)))throw new Error("Can't create a session")}finally{n._free(r),n._OrtReleaseSessionOptions(o),a.forEach(n._free)}var s=n._OrtGetInputCount(i),u=n._OrtGetOutputCount(i),l=[],c=[],f=[],d=[];for(let e=0;e<s;e++){const t=n._OrtGetInputName(i,e);if(0===t)throw new Error("Can't get an input name");c.push(t),l.push(n.UTF8ToString(t))}for(let e=0;e<u;e++){const t=n._OrtGetOutputName(i,e);if(0===t)throw new Error("Can't get an output name");d.push(t),f.push(n.UTF8ToString(t))}return S.set(i,[i,c,d]),[i,l,f]},t.releaseSession=e=>{var t=x.getInstance(),n=S.get(e);if(!n)throw new Error("invalid session id");var r=n[0],i=n[1],n=n[2];i.forEach(t._OrtFree),n.forEach(t._OrtFree),t._OrtReleaseSession(r),S.delete(e)},e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error("unsupported data type: "+e)}});t.run=(a,s,u,l,e)=>{const c=x.getInstance(),f=S.get(a);if(!f)throw new Error("invalid session id");const d=f[0],p=f[1],h=f[2],g=s.length,m=l.length;let y=0,v=[];var _=[],r=[];try{[y,v]=w.setRunOptions(e);for(let t=0;t<g;t++){const s=u[t][0],w=u[t][1],l=u[t][2];let e,n;if(Array.isArray(l)){n=4*l.length,e=c._malloc(n),r.push(e);let t=e/4;for(let e=0;e<l.length;e++){if("string"!=typeof l[e])throw new TypeError(`tensor data at index ${e} is not a string`);c.HEAPU32[t++]=E.allocWasmString(l[e],r)}}else n=l.byteLength,e=c._malloc(n),r.push(e),c.HEAPU8.set(new Uint8Array(l.buffer,l.byteOffset,n),e);const i=c.stackSave(),o=c.stackAlloc(4*w.length);try{let t=o/4;w.forEach(e=>c.HEAP32[t++]=e);const u=c._OrtCreateTensor(O(s),e,n,o,w.length);if(0===u)throw new Error("Can't create a tensor");_.push(u)}finally{c.stackRestore(i)}}const a=c.stackSave(),x=c.stackAlloc(4*g),S=c.stackAlloc(4*g),f=c.stackAlloc(4*m),T=c.stackAlloc(4*m);try{let t=x/4,n=S/4,r=f/4,i=T/4;for(let e=0;e<g;e++)c.HEAPU32[t++]=_[e],c.HEAPU32[n++]=p[s[e]];for(let e=0;e<m;e++)c.HEAPU32[r++]=0,c.HEAPU32[i++]=h[l[e]];let o=c._OrtRun(d,S,x,g,T,m,f,y);const v=[];if(0===o)for(let t=0;t<m;t++){const s=c.HEAPU32[f/4+t],u=c.stackSave(),w=c.stackAlloc(16);let e,n=0;try{if(0!==(o=c._OrtGetTensorData(s,w,w+4,w+8,w+12)))throw new Error("Can't access output tensor data. error code = "+o);var b=w/4;const x=c.HEAPU32[b++],S=(n=c.HEAPU32[b++],c.HEAPU32[b++]),O=c.HEAPU32[+b],f=[];for(let e=0;e<O;e++)f.push(c.HEAPU32[S/4+e]);c._OrtFree(S);const d=0===f.length?1:f.reduce((e,t)=>e*t);if("string"===(e=(e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error("unsupported data type: "+e)}})(x))){const a=[];let t=n/4;for(let e=0;e<d;e++){const w=c.HEAPU32[t++],l=e===d-1?void 0:c.HEAPU32[t]-w;a.push(c.UTF8ToString(w,l))}v.push([e,f,a])}else{const a=new((e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error("unsupported type: "+e)}})(e))(d);new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(c.HEAPU8.subarray(n,n+a.byteLength)),v.push([e,f,a])}}finally{c.stackRestore(u),"string"===e&&n&&c._free(n),c._OrtReleaseTensor(s)}}if(0===o)return v;throw new Error(`failed to call OrtRun(). error code = ${o}.`)}finally{c.stackRestore(a)}}finally{_.forEach(c._OrtReleaseTensor),r.forEach(c._free),c._OrtReleaseRunOptions(y),v.forEach(c._free)}},t.endProfiling=e=>{var t=x.getInstance(),e=S.get(e);if(!e)throw new Error("invalid session id");e=e[0],e=t._OrtEndProfiling(e);if(0===e)throw new Error("Can't get an profile file name");t._OrtFree(e)},t.extractTransferableBuffers=e=>{var t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},6361:function(e,t,f){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const d=n(f(6449)),p=o(f(932)),h=f(3474);let g,m=!1,y=!1,v=!1;const _=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(m)return Promise.resolve();if(y)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(v)throw new Error("previous call to 'initializeWebAssembly()' failed.");y=!0;const t=e.initTimeout,n=e.numThreads,r=e.simd,i=1<n&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),o=r&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),a="string"==typeof e.wasmPaths?e.wasmPaths:void 0,s=_(!1,i),u=_(o,i),l="object"==typeof e.wasmPaths?e.wasmPaths[u]:void 0;let c=!1;e=[];if(0<t&&e.push(new Promise(e=>{setTimeout(()=>{c=!0,e()},t)})),e.push(new Promise((t,n)=>{var e=i?h:p.default,r={locateFile:(e,t)=>{if(i&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob)return URL.createObjectURL(new Blob([f(5118)],{type:"text/javascript"}));if(e!==s)return t+e;{const e=null!=a?a:t;return null!=l?l:e+u}}};if(i)if("undefined"==typeof Blob)r.mainScriptUrlOrBlob=d.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${e.toString()}})();`;r.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}e(r).then(e=>{y=!1,m=!0,g=e,t()},e=>{y=!1,v=!0,n(e)})})),await Promise.race(e),c)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(m&&g)return g;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!m||y||v||(y=!0,null!=(e=g.PThread)&&e.terminateAllThreads(),g=void 0,y=!1,m=!1,v=!0)}},9710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>function(){return r()('/*!\n* ONNX Runtime Web v1.13.1\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return C.buffer!=D&&G(C.buffer),F}function r(){return C.buffer!=D&&G(C.buffer),U}function a(){return C.buffer!=D&&G(C.buffer),I}function o(){return C.buffer!=D&&G(C.buffer),L}function i(){return C.buffer!=D&&G(C.buffer),W}var u,s,c;e=e||{},u||(u=void 0!==e?e:{}),u.ready=new Promise((function(e,t){s=e,c=t}));var l,f,p,d,m,g,h=Object.assign({},u),y="./this.program",v=(e,t)=>{throw t},b="object"==typeof window,_="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,S="";function A(e){return u.locateFile?u.locateFile(e,S):S+e}if(w){let t;S=_?n(908).dirname(S)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?void 0:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof se))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(Z())throw process.exitCode=e,t;t instanceof se||x("exiting due to exception: "+t),process.exit(e)},u.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(b||_)&&(_?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),_scriptDir&&(S=_scriptDir),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},_&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));w&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);w&&(g(),T=e=>d.writeSync(1,e+"\\n"),E=e=>d.writeSync(2,e+"\\n"));var M,R=u.print||T,x=u.printErr||E;Object.assign(u,h),h=null,u.thisProgram&&(y=u.thisProgram),u.quit&&(v=u.quit),u.wasmBinary&&(M=u.wasmBinary);var k=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&ae("no native wasm support detected");var C,P,D,F,U,I,L,W,H=!1,j="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Y(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&j)return j.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function z(e,t){return(e>>>=0)?Y(r(),e,t):""}function N(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function B(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){D=e,u.HEAP8=F=new Int8Array(e),u.HEAP16=new Int16Array(e),u.HEAP32=I=new Int32Array(e),u.HEAPU8=U=new Uint8Array(e),u.HEAPU16=new Uint16Array(e),u.HEAPU32=L=new Uint32Array(e),u.HEAPF32=new Float32Array(e),u.HEAPF64=W=new Float64Array(e)}O&&(D=u.buffer);var q=u.INITIAL_MEMORY||16777216;if(O)C=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)C=u.wasmMemory;else if(!((C=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");C&&(D=C.buffer),q=D.byteLength,G(D);var $,V=[],Q=[],X=[],K=[];function Z(){return k||!1}function J(){var e=u.preRun.shift();V.unshift(e)}var ee,te=0,ne=null,re=null;function ae(e){throw O?postMessage({cmd:"onAbort",arg:e}):u.onAbort&&u.onAbort(e),x(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function oe(){return ee.startsWith("data:application/octet-stream;base64,")}function ie(){var e=ee;try{if(e==ee&&M)return new Uint8Array(M);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ae(e)}}ee="ort-wasm-threaded.wasm",oe()||(ee=A(ee));var ue={};function se(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ce(e){(e=de.Ma[e])||ae(),de.Xa(e)}function le(e){var t=de.mb();if(!t)return 6;de.Sa.push(t),de.Ma[e.La]=t,t.La=e.La;var n={cmd:"run",start_routine:e.qb,arg:e.jb,pthread_ptr:e.La};return t.Ra=()=>{n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Ra(),delete t.Ra),0}function fe(e){if(O)return ze(1,1,e);Z()||(de.Za(),u.onExit&&u.onExit(e),H=!0),v(e,new se(e))}function pe(e,t){if(!t&&O)throw he(e),"unwind";Z()||O||(lt(),me(X),ct(0),Ze[1].length&&Je(1,10),Ze[2].length&&Je(2,10),de.Za()),fe(e)}var de={Pa:[],Sa:[],ab:[],Ma:{},Va:function(){O&&de.nb()},xb:function(){},nb:function(){de.receiveObjectTransfer=de.pb,de.threadInitTLS=de.$a,de.setExitStatus=de.Ya,k=!1},Ya:function(){},Za:function(){for(var e of Object.values(de.Ma))de.Xa(e);for(e of de.Pa)e.terminate();de.Pa=[]},Xa:function(e){var t=e.La;delete de.Ma[t],de.Pa.push(e),de.Sa.splice(de.Sa.indexOf(e),1),e.La=0,gt(t)},pb:function(){},$a:function(){de.ab.forEach((e=>e()))},ob:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.La&&(de.lb=e.La),n.targetThread&&n.targetThread!=ut()){var a=de.Ma[n.yb];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?Ie(n.queue):"spawnThread"===r?le(n):"cleanupThread"===r?ce(n.thread):"killThread"===r?(n=n.thread,r=de.Ma[n],delete de.Ma[n],r.terminate(),gt(n),de.Sa.splice(de.Sa.indexOf(r),1),r.La=0):"cancelThread"===r?de.Ma[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Ra&&(e.Ra(),delete e.Ra)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);de.lb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:C,wasmModule:P})},ib:function(){var e=A("ort-wasm-threaded.worker.js");de.Pa.push(new Worker(e))},mb:function(){return 0==de.Pa.length&&(de.ib(),de.ob(de.Pa[0])),de.Pa.pop()}};function me(e){for(;0<e.length;)e.shift()(u)}function ge(e){var t=vt();return e=e(),bt(t),e}function he(e){if(O)return ze(2,0,e);try{pe(e)}catch(e){e instanceof se||"unwind"==e||v(1,e)}}u.PThread=de,u.establishStackSpace=function(){var e=ut(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],yt(t,t-e),bt(t)};var ye,ve,be=[];function _e(e){this.Qa=e-24,this.hb=function(e){o()[this.Qa+4>>2>>>0]=e},this.eb=function(e){o()[this.Qa+8>>2>>>0]=e},this.fb=function(){a()[this.Qa>>2>>>0]=0},this.cb=function(){t()[this.Qa+12>>0>>>0]=0},this.gb=function(){t()[this.Qa+13>>0>>>0]=0},this.Va=function(e,t){this.bb(),this.hb(e),this.eb(t),this.fb(),this.cb(),this.gb()},this.bb=function(){o()[this.Qa+16>>2>>>0]=0}}function we(e,t,n,r){return O?ze(3,1,e,t,n,r):Oe(e,t,n,r)}function Oe(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?we(e,t,n,r):(e={qb:n,La:e,jb:r,vb:a},O?(e.wb="spawnThread",postMessage(e,a),0):le(e))}function Se(e,t,n){return O?ze(4,1,e,t,n):0}function Ae(e,t){if(O)return ze(5,1,e,t)}function Te(e,t){if(O)return ze(6,1,e,t)}function Ee(e,t,n){if(O)return ze(7,1,e,t,n)}function Me(e,t,n){return O?ze(8,1,e,t,n):0}function Re(e,t){if(O)return ze(9,1,e,t)}function xe(e,t,n){if(O)return ze(10,1,e,t,n)}function ke(e,t,n,r){if(O)return ze(11,1,e,t,n,r)}function Ce(e,t,n,r){if(O)return ze(12,1,e,t,n,r)}function Pe(e,t,n,r){if(O)return ze(13,1,e,t,n,r)}function De(e){if(O)return ze(14,1,e)}function Fe(e,t){if(O)return ze(15,1,e,t)}function Ue(e,t,n){if(O)return ze(16,1,e,t,n)}function Ie(e){Atomics.store(a(),e>>2,1),ut()&&mt(e),Atomics.compareExchange(a(),e>>2,1,0)}function Le(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function We(e,t,n,r,a,o){return O?ze(17,1,e,t,n,r,a,o):-52}function He(e,t,n,r,a,o){if(O)return ze(18,1,e,t,n,r,a,o)}function je(e){var n=B(e)+1,r=st(n);return r&&N(e,t(),r,n),r}function Ye(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return ze(19,1,e,t,n);var i=(new Date).getFullYear(),u=new Date(i,0,1),s=new Date(i,6,1);i=u.getTimezoneOffset();var c=s.getTimezoneOffset(),l=Math.max(i,c);a()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=r(u),t=r(s),e=je(e),t=je(t),c<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function ze(e,t){var n=arguments.length-2,r=arguments;return ge((()=>{for(var a=_t(8*n),o=a>>3,u=0;u<n;u++){var s=r[2+u];i()[o+u>>>0]=s}return dt(e,n,a,t)}))}u.invokeEntryPoint=function(e,t){var n=be[e];n||(e>=be.length&&(be.length=e+1),be[e]=n=$.get(e)),e=n(t),Z()?de.Ya(e):ht(e)},u.executeNotifiedProxyingQueue=Ie,ve=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var Ne,Be=[],Ge={};function qe(){if(!Ne){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in Ge)void 0===Ge[e]?delete t[e]:t[e]=Ge[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ne=n}return Ne}function $e(e,n){if(O)return ze(20,1,e,n);var r=0;return qe().forEach((function(a,i){var u=n+r;for(i=o()[e+4*i>>2>>>0]=u,u=0;u<a.length;++u)t()[i++>>0>>>0]=a.charCodeAt(u);t()[i>>0>>>0]=0,r+=a.length+1})),0}function Ve(e,t){if(O)return ze(21,1,e,t);var n=qe();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function Qe(e){return O?ze(22,1,e):52}function Xe(e,t,n,r){return O?ze(23,1,e,t,n,r):52}function Ke(e,t,n,r,a){return O?ze(24,1,e,t,n,r,a):70}var Ze=[null,[],[]];function Je(e,t){var n=Ze[e];0===t||10===t?((1===e?R:x)(Y(n,0)),n.length=0):n.push(t)}function et(e,t,n,a){if(O)return ze(25,1,e,t,n,a);for(var i=0,u=0;u<n;u++){var s=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++)Je(e,r()[s+l>>>0]);i+=c}return o()[a>>2>>>0]=i,0}function tt(e){return 0==e%4&&(0!=e%100||0==e%400)}var nt=[31,29,31,30,31,30,31,31,30,31,30,31],rt=[31,28,31,30,31,30,31,31,30,31,30,31];function at(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function u(e,t){return i(e,t,"0")}function s(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Na;for(e=new Date(new Date(e.Oa+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(tt(e.getFullYear())?nt:rt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=s(t,e)?0>=s(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2>>>0];for(var p in o={tb:a()[o>>2>>>0],sb:a()[o+4>>2>>>0],Ta:a()[o+8>>2>>>0],Wa:a()[o+12>>2>>>0],Ua:a()[o+16>>2>>>0],Oa:a()[o+20>>2>>>0],Ka:a()[o+24>>2>>>0],Na:a()[o+28>>2>>>0],zb:a()[o+32>>2>>>0],rb:a()[o+36>>2>>>0],ub:f?z(f):""},r=z(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ka].substring(0,3)},"%A":function(e){return d[e.Ka]},"%b":function(e){return m[e.Ua].substring(0,3)},"%B":function(e){return m[e.Ua]},"%C":function(e){return u((e.Oa+1900)/100|0,2)},"%d":function(e){return u(e.Wa,2)},"%e":function(e){return i(e.Wa,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return u(e.Ta,2)},"%I":function(e){return 0==(e=e.Ta)?e=12:12<e&&(e-=12),u(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ua-1;t+=(tt(e.Oa+1900)?nt:rt)[n++]);return u(e.Wa+t,3)},"%m":function(e){return u(e.Ua+1,2)},"%M":function(e){return u(e.sb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Ta&&12>e.Ta?"AM":"PM"},"%S":function(e){return u(e.tb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ka||7},"%U":function(e){return u(Math.floor((e.Na+7-e.Ka)/7),2)},"%V":function(e){var t=Math.floor((e.Na+7-(e.Ka+6)%7)/7);if(2>=(e.Ka+371-e.Na-2)%7&&t++,t)53==t&&(4==(n=(e.Ka+371-e.Na)%7)||3==n&&tt(e.Oa)||(t=1));else{t=52;var n=(e.Ka+7-e.Na-1)%7;(4==n||5==n&&tt(e.Oa%400-1))&&t++}return u(t,2)},"%w":function(e){return e.Ka},"%W":function(e){return u(Math.floor((e.Na+7-(e.Ka+6)%7)/7),2)},"%y":function(e){return(e.Oa+1900).toString().substring(2)},"%Y":function(e){return e.Oa+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(B(e)+1);return N(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}de.Va();var ot=[null,fe,he,we,Se,Ae,Te,Ee,Me,Re,xe,ke,Ce,Pe,De,Fe,Ue,We,He,Ye,$e,Ve,Qe,Xe,Ke,et],it={b:function(e){return st(e+24)+24},c:function(e,t,n){throw new _e(e).Va(t,n),e},L:function(e){ft(e,!_,1,!b),de.$a()},m:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):ce(e)},D:Oe,i:Se,S:Ae,y:Te,B:Ee,t:Me,Q:Re,I:xe,P:ke,o:Ce,z:Pe,w:De,R:Fe,x:Ue,q:function(){},j:function(){ae("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},r:function(){ae("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){return Date.now()},E:function(){return 2097152},U:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout((()=>Ie(r)));else if(O)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=de.Ma[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},V:function(e,t){e=new Date(1e3*Le(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},W:function(e,t){e=new Date(1e3*Le(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},X:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),u=o.getTimezoneOffset(),s=Math.min(u,i);return 0>n?a()[e+32>>2>>>0]=Number(i!=u&&s==r):0<n!=(s==r)&&(i=Math.max(u,i),t.setTime(t.getTime()+6e4*((0<n?s:i)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:We,H:He,Y:function e(t,n,r){e.kb||(e.kb=!0,Ye(t,n,r))},d:function(){ae("")},n:function(){if(!w&&!_){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";ye||(ye={}),ye[e]||(ye[e]=1,w&&(e="warning: "+e),x(e))}},v:function(){return 4294901760},f:ve,O:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return w?n(993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){Be.length=t,n>>=3;for(var r=0;r<t;r++)Be[r]=i()[n+r>>>0];return(0>e?ue[-e-1]:ot[e]).apply(null,Be)},u:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a),o=o.min.call(o,4294901760,a+(65536-a%65536)%65536);e:{try{C.grow(o-D.byteLength+65535>>>16),G(C.buffer);var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},T:function(){throw"unwind"},M:$e,N:Ve,C:pe,h:Qe,l:Xe,s:Ke,k:et,a:C||u.wasmMemory,A:at,e:function(e,t,n,r){return at(e,t,n,r)}};!function(){function e(e,t){u.asm=e.exports,de.ab.push(u.asm.wa),$=u.asm.ya,Q.unshift(u.asm.Z),P=t,O||(te--,u.monitorRunDependencies&&u.monitorRunDependencies(te),0==te&&(null!==ne&&(clearInterval(ne),ne=null),re&&(e=re,re=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!M&&(b||_)){if("function"==typeof fetch&&!ee.startsWith("file://"))return fetch(ee,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+ee+"\'";return e.arrayBuffer()})).catch((function(){return ie()}));if(f)return new Promise((function(e,t){f(ee,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ie()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),ae(e)}))}var r={a:it};if(O||(te++,u.monitorRunDependencies&&u.monitorRunDependencies(te)),u.instantiateWasm)try{return u.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||oe()||ee.startsWith("file://")||w||"function"!=typeof fetch?n(t):fetch(ee,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Z).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm._).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.$).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.aa).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.ba).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm.ca).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.da).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ea).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.fa).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.ga).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.ha).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.ia).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.ja).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.ka).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.la).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ma).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.na).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.oa).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.pa).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.qa).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.ra).apply(null,arguments)};var ut=u._pthread_self=function(){return(ut=u._pthread_self=u.asm.sa).apply(null,arguments)},st=u._malloc=function(){return(st=u._malloc=u.asm.ta).apply(null,arguments)};u._free=function(){return(u._free=u.asm.ua).apply(null,arguments)};var ct=u._fflush=function(){return(ct=u._fflush=u.asm.va).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.wa).apply(null,arguments)};var lt=u.___funcs_on_exit=function(){return(lt=u.___funcs_on_exit=u.asm.xa).apply(null,arguments)},ft=u.__emscripten_thread_init=function(){return(ft=u.__emscripten_thread_init=u.asm.za).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.Aa).apply(null,arguments)};var pt,dt=u._emscripten_run_in_main_runtime_thread_js=function(){return(dt=u._emscripten_run_in_main_runtime_thread_js=u.asm.Ba).apply(null,arguments)},mt=u.__emscripten_proxy_execute_task_queue=function(){return(mt=u.__emscripten_proxy_execute_task_queue=u.asm.Ca).apply(null,arguments)},gt=u.__emscripten_thread_free_data=function(){return(gt=u.__emscripten_thread_free_data=u.asm.Da).apply(null,arguments)},ht=u.__emscripten_thread_exit=function(){return(ht=u.__emscripten_thread_exit=u.asm.Ea).apply(null,arguments)},yt=u._emscripten_stack_set_limits=function(){return(yt=u._emscripten_stack_set_limits=u.asm.Fa).apply(null,arguments)},vt=u.stackSave=function(){return(vt=u.stackSave=u.asm.Ga).apply(null,arguments)},bt=u.stackRestore=function(){return(bt=u.stackRestore=u.asm.Ha).apply(null,arguments)},_t=u.stackAlloc=function(){return(_t=u.stackAlloc=u.asm.Ia).apply(null,arguments)};function wt(){function e(){if(!pt&&(pt=!0,u.calledRun=!0,!H)&&(O||me(Q),s(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();K.unshift(e)}me(K)}}if(!(0<te))if(O)s(u),O||me(Q),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)J();me(V),0<te||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),e()}),1)):e())}}if(u.___cxa_is_pointer_type=function(){return(u.___cxa_is_pointer_type=u.asm.Ja).apply(null,arguments)},u.UTF8ToString=z,u.stringToUTF8=function(e,t,n){return N(e,r(),t,n)},u.lengthBytesUTF8=B,u.keepRuntimeAlive=Z,u.wasmMemory=C,u.stackSave=vt,u.stackRestore=bt,u.stackAlloc=_t,u.ExitStatus=se,u.PThread=de,re=function e(){pt||wt(),pt||(re=e)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return wt(),e.ready});e.exports=r},118:e=>{"use strict";e.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var o,i,u,s,c,l,f=Object.assign({},t),p="./this.program",d="object"==typeof window,m="function"==typeof importScripts,g="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,h="";g?(h=m?n(908).dirname(h)+"/":"//",l=()=>{c||(s=n(384),c=n(908))},o=function(e,t){return l(),e=c.normalize(e),s.readFileSync(e,t?void 0:"utf8")},u=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,n)=>{l(),e=c.normalize(e),s.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),process.on("unhandledRejection",(function(e){throw e})),t.inspect=function(){return"[Emscripten Module object]"}):(d||m)&&(m?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),_scriptDir&&(h=_scriptDir),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var y,v=t.print||console.log.bind(console),b=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(p=t.thisProgram),t.wasmBinary&&(y=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&Y("no native wasm support detected");var _,w,O,S,A,T,E=!1,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&M)return M.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function x(e,t){return(e>>>=0)?R(S,e,t):""}function k(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function C(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function P(){var e=_.buffer;w=e,t.HEAP8=O=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=A=new Int32Array(e),t.HEAPU8=S=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=T=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var D=[],F=[],U=[];function I(){var e=t.preRun.shift();D.unshift(e)}var L,W=0,H=null,j=null;function Y(e){throw t.onAbort&&t.onAbort(e),b(e="Aborted("+e+")"),E=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function z(){return L.startsWith("data:application/octet-stream;base64,")}if(L="ort-wasm.wasm",!z()){var N=L;L=t.locateFile?t.locateFile(N,h):h+N}function B(){var e=L;try{if(e==L&&y)return new Uint8Array(y);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(e){Y(e)}}function G(e){for(;0<e.length;)e.shift()(t)}function q(e){this.ra=e-24,this.Ga=function(e){T[this.ra+4>>2>>>0]=e},this.za=function(e){T[this.ra+8>>2>>>0]=e},this.Aa=function(){A[this.ra>>2>>>0]=0},this.ya=function(){O[this.ra+12>>0>>>0]=0},this.Fa=function(){O[this.ra+13>>0>>>0]=0},this.wa=function(e,t){this.xa(),this.Ga(e),this.za(t),this.Aa(),this.ya(),this.Fa()},this.xa=function(){T[this.ra+16>>2>>>0]=0}}function $(e){var t=C(e)+1,n=re(t);return n&&k(e,O,n,t),n}var V={};function Q(){if(!X){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in V)void 0===V[e]?delete t[e]:t[e]=V[e];var n=[];for(e in t)n.push(e+"="+t[e]);X=n}return X}var X,K=[null,[],[]];function Z(e){return 0==e%4&&(0!=e%100||0==e%400)}var J=[31,29,31,30,31,30,31,31,30,31,30,31],ee=[31,28,31,30,31,30,31,31,30,31,30,31];function te(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function s(e){var t=e.pa;for(e=new Date(new Date(e.qa+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Z(e.getFullYear())?J:ee)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),n=u(n),0>=i(t,e)?0>=i(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=A[r+40>>2>>>0];for(var l in r={Da:A[r>>2>>>0],Ca:A[r+4>>2>>>0],sa:A[r+8>>2>>>0],ua:A[r+12>>2>>>0],ta:A[r+16>>2>>>0],qa:A[r+20>>2>>>0],ka:A[r+24>>2>>>0],pa:A[r+28>>2>>>0],Ha:A[r+32>>2>>>0],Ba:A[r+36>>2>>>0],Ea:c?x(c):""},n=x(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.ka].substring(0,3)},"%A":function(e){return f[e.ka]},"%b":function(e){return p[e.ta].substring(0,3)},"%B":function(e){return p[e.ta]},"%C":function(e){return o((e.qa+1900)/100|0,2)},"%d":function(e){return o(e.ua,2)},"%e":function(e){return a(e.ua,2," ")},"%g":function(e){return s(e).toString().substring(2)},"%G":function(e){return s(e)},"%H":function(e){return o(e.sa,2)},"%I":function(e){return 0==(e=e.sa)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ta-1;t+=(Z(e.qa+1900)?J:ee)[n++]);return o(e.ua+t,3)},"%m":function(e){return o(e.ta+1,2)},"%M":function(e){return o(e.Ca,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.sa&&12>e.sa?"AM":"PM"},"%S":function(e){return o(e.Da,2)},"%t":function(){return"\\t"},"%u":function(e){return e.ka||7},"%U":function(e){return o(Math.floor((e.pa+7-e.ka)/7),2)},"%V":function(e){var t=Math.floor((e.pa+7-(e.ka+6)%7)/7);if(2>=(e.ka+371-e.pa-2)%7&&t++,t)53==t&&(4==(n=(e.ka+371-e.pa)%7)||3==n&&Z(e.qa)||(t=1));else{t=52;var n=(e.ka+7-e.pa-1)%7;(4==n||5==n&&Z(e.qa%400-1))&&t++}return o(t,2)},"%w":function(e){return e.ka},"%W":function(e){return o(Math.floor((e.pa+7-(e.ka+6)%7)/7),2)},"%y":function(e){return(e.qa+1900).toString().substring(2)},"%Y":function(e){return e.qa+1900},"%z":function(e){var t=0<=(e=e.Ba);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ea},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(C(e)+1);return k(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),l.length>t?0:(O.set(l,e>>>0),l.length-1)}var ne={a:function(e){return re(e+24)+24},b:function(e,t,n){throw new q(e).wa(t,n),e},g:function(){return 0},J:function(){},w:function(){},z:function(){},s:function(){return 0},H:function(){},C:function(){},G:function(){},k:function(){},y:function(){},u:function(){},I:function(){},v:function(){},o:function(){},q:function(){Y("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){Y("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},K:function(){return!0},L:function(e,t){e=new Date(1e3*(T[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getUTCSeconds(),A[t+4>>2>>>0]=e.getUTCMinutes(),A[t+8>>2>>>0]=e.getUTCHours(),A[t+12>>2>>>0]=e.getUTCDate(),A[t+16>>2>>>0]=e.getUTCMonth(),A[t+20>>2>>>0]=e.getUTCFullYear()-1900,A[t+24>>2>>>0]=e.getUTCDay(),A[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},M:function(e,t){e=new Date(1e3*(T[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getSeconds(),A[t+4>>2>>>0]=e.getMinutes(),A[t+8>>2>>>0]=e.getHours(),A[t+12>>2>>>0]=e.getDate(),A[t+16>>2>>>0]=e.getMonth(),A[t+20>>2>>>0]=e.getFullYear()-1900,A[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);A[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,A[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),A[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},m:function(e){var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),n=A[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),u=Math.min(i,o);return 0>n?A[e+32>>2>>>0]=Number(o!=i&&u==r):0<n!=(u==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?u:o)-r))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(t.getTime()-a.getTime())/864e5|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},A:function(){return-52},B:function(){},n:function e(t,n,r){e.va||(e.va=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var u=i.getTimezoneOffset();A[e>>2>>>0]=60*Math.max(a,u),A[t>>2>>>0]=Number(a!=u),e=r(o),t=r(i),e=$(e),t=$(t),u<a?(T[n>>2>>>0]=e,T[n+4>>2>>>0]=t):(T[n>>2>>>0]=t,T[n+4>>2>>>0]=e)}(t,n,r))},d:function(){Y("")},t:function(){return 4294901760},h:g?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),F:function(e,t,n){S.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=S.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{_.grow(a-w.byteLength+65535>>>16),P();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){var n=0;return Q().forEach((function(r,a){var o=t+n;for(a=T[e+4*a>>2>>>0]=o,o=0;o<r.length;++o)O[a++>>0>>>0]=r.charCodeAt(o);O[a>>0>>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=Q();T[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),T[t>>2>>>0]=r,0},e:function(){return 52},j:function(){return 52},r:function(){return 70},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=T[t>>2>>>0],u=T[t+4>>2>>>0];t+=8;for(var s=0;s<u;s++){var c=S[i+s>>>0],l=K[e];0===c||10===c?((1===e?v:b)(R(l,0)),l.length=0):l.push(c)}a+=u}return T[r>>2>>>0]=a,0},x:te,c:function(e,t,n,r){return te(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,_=t.asm.N,P(),F.unshift(t.asm.O),W--,t.monitorRunDependencies&&t.monitorRunDependencies(W),0==W&&(null!==H&&(clearInterval(H),H=null),j&&(e=j,j=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!y&&(d||m)){if("function"==typeof fetch&&!L.startsWith("file://"))return fetch(L,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+L+"\'";return e.arrayBuffer()})).catch((function(){return B()}));if(i)return new Promise((function(e,t){i(L,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return B()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){b("failed to asynchronously prepare wasm: "+e),Y(e)}))}var o={a:ne};if(W++,t.monitorRunDependencies&&t.monitorRunDependencies(W),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return b("Module.instantiateWasm callback failed with error: "+e),!1}(y||"function"!=typeof WebAssembly.instantiateStreaming||z()||L.startsWith("file://")||g||"function"!=typeof fetch?r(n):fetch(L,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.O).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.P).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Q).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.R).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.S).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.T).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.U).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.V).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.W).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.X).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.Y).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Z).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm._).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.$).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.aa).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.ba).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ca).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.da).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ea).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.fa).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ga).apply(null,arguments)};var re=t._malloc=function(){return(re=t._malloc=t.asm.ha).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ia).apply(null,arguments)},t._fflush=function(){return(t._fflush=t.asm.ja).apply(null,arguments)};var ae,oe=t.stackSave=function(){return(oe=t.stackSave=t.asm.la).apply(null,arguments)},ie=t.stackRestore=function(){return(ie=t.stackRestore=t.asm.ma).apply(null,arguments)},ue=t.stackAlloc=function(){return(ue=t.stackAlloc=t.asm.na).apply(null,arguments)};function se(){function e(){if(!ae&&(ae=!0,t.calledRun=!0,!E)){if(G(F),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();U.unshift(e)}G(U)}}if(!(0<W)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)I();G(D),0<W||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.oa).apply(null,arguments)},t.UTF8ToString=x,t.stringToUTF8=function(e,t,n){return k(e,S,t,n)},t.lengthBytesUTF8=C,t.stackSave=oe,t.stackRestore=ie,t.stackAlloc=ue,j=function e(){ae||se(),ae||(j=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return se(),e.ready});e.exports=r},967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)t.iterateExtraOptions(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(967),a=n(983),o=n(361);t.setRunOptions=e=>{const t=o.getInstance();let n=0;const i=[],u=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(u.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=a.allocWasmString(e.tag,i)),n=t._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,((e,r)=>{const o=a.allocWasmString(e,i),u=a.allocWasmString(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,u))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(967),a=n(983),o=n(361);t.setSessionOptions=e=>{const t=o.getInstance();let n=0;const i=[],u=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const s=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(u.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(u.executionMode="sequential");const c=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(u.executionMode);let l=0;if(void 0!==(null==e?void 0:e.logId)&&(l=a.allocWasmString(e.logId,i)),void 0===(null==e?void 0:e.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);if(void 0===(null==e?void 0:e.enableProfiling)&&(u.enableProfiling=!1),n=t._OrtCreateSessionOptions(s,!!u.enableCpuMemArena,!!u.enableMemPattern,c,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==e?void 0:e.executionProviders)&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=a.allocWasmString(t,n);if(0!==o.getInstance()._OrtAppendExecutionProvider(e,i))throw new Error(`Can\'t append execution provider: ${t}`)}})(n,e.executionProviders,i),void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,((e,r)=>{const o=a.allocWasmString(e,i),u=a.allocWasmString(r,i);if(0!==t._OrtAddSessionConfigEntry(n,o,u))throw new Error(`Can\'t set a session config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),i.forEach(t._free),e}}},983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(361);t.allocWasmString=(e,t)=>{const n=r.getInstance(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.initOrt=void 0;const r=n(586),a=n(919),o=n(983),i=n(361);t.initOrt=(e,t)=>{const n=i.getInstance()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;t.createSession=(e,t)=>{const n=i.getInstance(),r=n._malloc(e.byteLength);let o=0,s=0,c=[];try{if([s,c]=a.setSessionOptions(t),n.HEAPU8.set(e,r),o=n._OrtCreateSession(r,e.byteLength,s),0===o)throw new Error("Can\'t create a session")}finally{n._free(r),n._OrtReleaseSessionOptions(s),c.forEach(n._free)}const l=n._OrtGetInputCount(o),f=n._OrtGetOutputCount(o),p=[],d=[],m=[],g=[];for(let e=0;e<l;e++){const t=n._OrtGetInputName(o,e);if(0===t)throw new Error("Can\'t get an input name");d.push(t),p.push(n.UTF8ToString(t))}for(let e=0;e<f;e++){const t=n._OrtGetOutputName(o,e);if(0===t)throw new Error("Can\'t get an output name");g.push(t),m.push(n.UTF8ToString(t))}return u.set(o,[o,d,g]),[o,p,m]},t.releaseSession=e=>{const t=i.getInstance(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)};const s=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},c=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},l=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}};t.run=(e,t,n,a,f)=>{const p=i.getInstance(),d=u.get(e);if(!d)throw new Error("invalid session id");const m=d[0],g=d[1],h=d[2],y=t.length,v=a.length;let b=0,_=[];const w=[],O=[];try{[b,_]=r.setRunOptions(f);for(let e=0;e<y;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=p._malloc(u),O.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);p.HEAPU32[e++]=o.allocWasmString(a[t],O)}}else u=a.byteLength,i=p._malloc(u),O.push(i),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=p.stackSave(),l=p.stackAlloc(4*r.length);try{let e=l/4;r.forEach((t=>p.HEAP32[e++]=t));const n=p._OrtCreateTensor(s(t),i,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");w.push(n)}finally{p.stackRestore(c)}}const e=p.stackSave(),i=p.stackAlloc(4*y),u=p.stackAlloc(4*y),d=p.stackAlloc(4*v),S=p.stackAlloc(4*v);try{let n=i/4,r=u/4,o=d/4,s=S/4;for(let e=0;e<y;e++)p.HEAPU32[n++]=w[e],p.HEAPU32[r++]=g[t[e]];for(let e=0;e<v;e++)p.HEAPU32[o++]=0,p.HEAPU32[s++]=h[a[e]];let f=p._OrtRun(m,u,i,y,S,v,d,b);const _=[];if(0===f)for(let e=0;e<v;e++){const t=p.HEAPU32[d/4+e],n=p.stackSave(),r=p.stackAlloc(16);let a,o=0;try{if(f=p._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let e=r/4;const i=p.HEAPU32[e++];o=p.HEAPU32[e++];const u=p.HEAPU32[e++],s=p.HEAPU32[e++],d=[];for(let e=0;e<s;e++)d.push(p.HEAPU32[u/4+e]);p._OrtFree(u);const m=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=c(i),"string"===a){const e=[];let t=o/4;for(let n=0;n<m;n++){const r=p.HEAPU32[t++],a=n===m-1?void 0:p.HEAPU32[t]-r;e.push(p.UTF8ToString(r,a))}_.push([a,d,e])}else{const e=new(l(a))(m);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(p.HEAPU8.subarray(o,o+e.byteLength)),_.push([a,d,e])}}finally{p.stackRestore(n),"string"===a&&o&&p._free(o),p._OrtReleaseTensor(t)}}if(0===f)return _;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(e)}}finally{w.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(b),_.forEach(p._free)}},t.endProfiling=e=>{const t=i.getInstance(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},361:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const u=o(n(449)),s=i(n(932)),c=n(474);let l,f=!1,p=!1,d=!1;const m=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),i=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g="string"==typeof e.wasmPaths?e.wasmPaths:void 0,h=m(!1,o),y=m(i,o),v="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let b=!1;const _=[];if(t>0&&_.push(new Promise((e=>{setTimeout((()=>{b=!0,e()}),t)}))),_.push(new Promise(((e,t)=>{const r=o?c:s.default,a={locateFile:(e,t)=>{if(o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob)return URL.createObjectURL(new Blob([n(118)],{type:"text/javascript"}));if(e===h){const e=null!=g?g:t;return null!=v?v:e+y}return t+e}};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{p=!1,f=!0,l=t,e()}),(e=>{p=!1,d=!0,t(e)}))}))),await Promise.race(_),b)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!f||p||d||(p=!0,null===(e=l.PThread)||void 0===e||e.terminateAllThreads(),l=void 0,p=!1,f=!1,d=!0)}},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(349),t=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":t.initializeWebAssembly(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;e.initOrt(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=e.createSession(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;e.releaseSession(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in,u=e.run(t,r,a,o,i);postMessage({type:"run",out:u},e.extractTransferableBuffers(u))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;e.endProfiling(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}});var t=n(477),r=n.n(t)},477:e=>{"use strict";e.exports=function(e,t,n,r){var i,o=self||window;try{try{try{i=new o.Blob([e])}catch(t){(i=new(o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder)).append(e),i=i.getBlob()}var a=o.URL||o.webkitURL,s=a.createObjectURL(i),u=new o[t](s,n);return a.revokeObjectURL(s),u}catch(r){return new o[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(r)return new o[t](r,n);throw Error("Inline worker is not supported")}}},2174:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__2174__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},6449:()=>{},2203:()=>{},5381:()=>{},8022:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];return void 0!==t||(t=__webpack_module_cache__[e]={exports:{}},__webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__)),t.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})()})}.call(this,require(199))},{197:197,199:199}],199:[function(e,t,n){var r,i,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length)&&p()}function p(){if(!c){for(var e=s(d),t=(c=!0,l.length);t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,!function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],200:[function(e,O,t){!function(S,e){!function(e){"use strict";var l,c,f,d,p,h,t,u=Object.prototype.hasOwnProperty,r="function"==typeof Symbol&&Symbol.iterator||"@@iterator",n="object"==typeof O,o=e.regeneratorRuntime;function a(e,t,n,r){var o,a,s,u,t=Object.create((t||i).prototype),r=new w(r||[]);return t._invoke=(o=e,a=n,s=r,u=c,function(e,t){if(u===d)throw new Error("Generator is already running");if(u===p){if("throw"===e)throw t;return x()}for(;;){var n=s.delegate;if(n){if("return"===e||"throw"===e&&n.iterator[e]===l){s.delegate=null;var r,i=n.iterator.return;if(i)if("throw"===(r=g(i,n.iterator,t)).type){e="throw",t=r.arg;continue}if("return"===e)continue}if("throw"===(r=g(n.iterator[e],n.iterator,t)).type){s.delegate=null,e="throw",t=r.arg;continue}if(e="next",t=l,!(i=r.arg).done)return u=f,i;s[n.resultName]=i.value,s.next=n.nextLoc,s.delegate=null}if("next"===e)s.sent=u===f?t:l;else if("throw"===e){if(u===c)throw u=p,t;s.dispatchException(t)&&(e="next",t=l)}else"return"===e&&s.abrupt("return",t);if(u=d,"normal"===(r=g(o,a,s)).type){u=s.done?p:f;i={value:r.arg,done:s.done};if(r.arg!==h)return i;s.delegate&&"next"===e&&(t=l)}else"throw"===r.type&&(u=p,e="throw",t=r.arg)}}),t}function g(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function s(){}function m(){}function y(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function v(e){this.arg=e}function _(r){function i(e,t){var n=r[e](t),e=n.value;return e instanceof v?Promise.resolve(e.arg).then(a,s):Promise.resolve(e).then(function(e){return n.value=e,n})}var o,a=(i="object"==typeof S&&S.domain?S.domain.bind(i):i).bind(r,"next"),s=i.bind(r,"throw");i.bind(r,"return");this._invoke=function(e,t){function n(){return i(e,t)}return o=o?o.then(n,n):new Promise(function(e){e(n())})}}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e}).next=e}return{next:x}}function x(){return{value:l,done:!0}}o?n&&(O.exports=o):((o=e.regeneratorRuntime=n?O.exports:{}).wrap=a,c="suspendedStart",f="suspendedYield",d="executing",p="completed",h={},t=m.prototype=i.prototype,((s.prototype=t.constructor=m).constructor=s).displayName="GeneratorFunction",o.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===s||"GeneratorFunction"===(e.displayName||e.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):e.__proto__=m,e.prototype=Object.create(t),e},o.awrap=function(e){return new v(e)},y(_.prototype),o.async=function(e,t,n,r){var i=new _(a(e,t,n,r));return o.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(t),t[r]=function(){return this},t.toString=function(){return"[object Generator]"},o.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=l,this.done=!1,this.delegate=null,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=u.call(i,"catchLoc"),s=u.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?this.next=i.finallyLoc:this.complete(o),h},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(r=n.arg,T(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},h}})}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}.call(this,e(199),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{199:199}],201:[function(e,t,n){var r=n.decimalAdjust=function(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))};t.exports={round10:function(e,t){return r("round",e,t)},floor10:function(e,t){return r("floor",e,t)},ceil10:function(e,t){return r("ceil",e,t)}},t.exports.polyfill=function(){Math.round10||(Math.round10=t.exports.round10),Math.floor10||(Math.floor10=t.exports.floor10),Math.ceil10||(Math.ceil10=t.exports.ceil10)}},{}],202:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(203)),s=r(e(207)),e=r(e(204));function i(){var e=this.context,n=(0,a.default)(e).getInstance(),r=void 0,i=void 0,o=void 0;return e={log:function(){var e,t="";i&&(e=(new Date).getTime(),t+="["+(e-o)+"]"),0<t.length&&(t+=" "),Array.apply(null,arguments).forEach(function(e){t+=e+" "}),r&&console.log(t),n.trigger(s.default.LOG,{message:t})},setLogTimestampVisible:function(e){i=e},setLogToBrowserConsole:function(e){r=e},getLogToBrowserConsole:function(){return r}},i=r=!0,o=(new Date).getTime(),e}i.__dashjs_factory_name="Debug",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{203:203,204:204,207:207}],203:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){var o={};function a(e,n,r){var i=-1;return o[e]&&o[e].some(function(e,t){if(e.callback===n&&(!r||r===e.scope))return i=t,!0}),i}return{on:function(n,e,t){var r,i=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!n)throw new Error("event type cannot be null or undefined");if(!e||"function"!=typeof e)throw new Error("listener must be a function: "+e);0<=a(n,e,t)||(o[n]=o[n]||[],r={callback:e,scope:t,priority:i},o[n].some(function(e,t){if(i>e.priority)return o[n].splice(t,0,r),!0}))||o[n].push(r)},off:function(e,t,n){e&&t&&o[e]&&((t=a(e,t,n))<0||o[e].splice(t,1))},trigger:function(e,t){if(e&&o[e]){if((t=t||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");t.type=e,o[e].forEach(function(e){return e.callback.call(e.scope,t)})}},reset:function(){o={}}}}r.__dashjs_factory_name="EventBus";e=e.default.getSingletonFactory(r);e.EVENT_PRIORITY_LOW=0,e.EVENT_PRIORITY_HIGH=5e3,n.default=e,t.exports=n.default},{204:204}],204:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});a=void 0,r=[],o=[];var a,r,o,i=a={extend:function(e,t,n,r){!(r=l(r))[e]&&t&&(r[e]={instance:t,override:n})},getSingletonInstance:s,setSingletonInstance:function(e,t,n){for(var r in o){var i=o[r];if(i.context===e&&i.name===t)return void(o[r].instance=n)}o.push({name:t,context:e,instance:n})},getSingletonFactory:function(n){return function(e){var t=void 0;return void 0===e&&(e={}),{getInstance:function(){return(t=t||s(e,n.__dashjs_factory_name))||(t=u(n.__dashjs_factory_name,n.apply({context:e},arguments),e,arguments),o.push({name:n.__dashjs_factory_name,context:e,instance:t})),t}}}},getClassFactory:function(t){return function(e){return void 0===e&&(e={}),{create:function(){return u(t.__dashjs_factory_name,t.apply({context:e},arguments),e,arguments)}}}}};function s(e,t){for(var n in o){n=o[n];if(n.context===e&&n.name===t)return n.instance}return null}function u(e,t,n,r){e=l(n)[e];if(e){var i,o=e.instance;if(!e.override)return o.apply({context:n,factory:a},r);for(i in o=o.apply({context:n,factory:a,parent:t},r))t.hasOwnProperty(i)&&(t[i]=o[i])}return t}function l(t){var n=void 0;return r.forEach(function(e){e===t&&(n=e)}),n=n||r.push(t)}n.default=i,t.exports=n.default},{}],205:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionString=function(){return r};var r="2.3.0"},{}],206:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(208),e=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");!function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astinfuture",this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CHUNK_APPENDED="chunkAppended",this.CURRENT_TRACK_CHANGED="currenttrackchanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.STREAM_INITIALIZED="streaminitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ALL_ELEMENTS_LOADED="xlinkAllElementsLoaded",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(((e=e)&&e.__esModule?e:{default:e}).default);n.default=e,t.exports=n.default},{208:208}],207:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(206),e=new(function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");!function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(((e=e)&&e.__esModule?e:{default:e}).default));n.default=e,t.exports=n.default},{206:206}],208:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0});(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)})(o,[{key:"extend",value:function(e,t){if(e){var n,r=!!t&&t.override,i=!!t&&t.publicOnly;for(n in e)!e.hasOwnProperty(n)||this[n]&&!r||i&&-1===e[n].indexOf("public_")||(this[n]=e[n])}}}]);var i=o;function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}n.default=i,t.exports=n.default},{}],209:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var l=r(e(367)),c=r(e(362)),f=r(e(364)),d=r(e(361)),p=r(e(235)),i=r(e(204)),h=r(e(2)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(214));function o(){var m=void 0,o=void 0,y=void 0;function i(e,t){return t.getRepresentationForQuality(e.quality)}function s(e){return y[e.streamInfo.id][e.index]}function v(e){for(var t=o.length,n=0;n<t;n++){var r=o[n];if(e.id===r.id)return r}return null}function r(e,t){var n=new l.default,r=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index],r=m.getRepresentationFor(t.index,r);return n.id=t.id,n.quality=t.index,n.bandwidth=m.getBandwidth(r),n.DVRWindow=t.segmentAvailabilityRange,n.fragmentDuration=t.segmentDuration||(t.segments&&0<t.segments.length?t.segments[0].duration:NaN),n.MSETimeOffset=t.MSETimeOffset,n.useCalculatedLiveEdgeTime=t.useCalculatedLiveEdgeTime,n.mediaInfo=_(e,t.adaptation),n}function _(e,t){var r=new c.default,n=t.period.mpd.manifest.Period_asArray[t.period.index].AdaptationSet_asArray[t.index];return r.id=t.id,r.index=t.index,r.type=t.type,r.streamInfo=a(e,t.period),r.representationCount=m.getRepresentationCount(n),r.lang=m.getLanguageForAdaptation(n),e=m.getViewpointForAdaptation(n),r.viewpoint=e?e.value:void 0,r.accessibility=m.getAccessibilityForAdaptation(n).map(function(e){var t=e.value,n=t;return e.schemeIdUri&&0<=e.schemeIdUri.search("cea-608")&&void 0!==h.default&&(n=t?"cea-608:"+t:"cea-608",r.embeddedCaptions=!0),n}),r.audioChannelConfiguration=m.getAudioChannelConfigurationForAdaptation(n).map(function(e){return e.value}),r.roles=m.getRolesForAdaptation(n).map(function(e){return e.value}),r.codec=m.getCodec(n),r.mimeType=m.getMimeType(n),r.contentProtection=m.getContentProtectionData(n),r.bitrateList=m.getBitrateListForAdaptation(n),r.contentProtection&&r.contentProtection.forEach(function(e){e.KID=m.getKID(e)}),r.isText=m.getIsTextTrack(r.mimeType),r}function b(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type="embeddedText",e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=t+" "+n,e.roles=["caption"]}function a(e,t){var n=new f.default;return n.id=t.id,n.index=t.index,n.start=t.start,n.duration=t.duration,n.manifestInfo=u(e,t.mpd),n.isLast=1===e.Period_asArray.length||Math.abs(n.start+n.duration-n.manifestInfo.duration)<1,n.isFirst=1===e.Period_asArray.length||m.getRegularPeriods(e,m.getMpd(e))[0].id===t.id,n}function u(e,t){var n=new d.default;return n.DVRWindowSize=t.timeShiftBufferDepth,n.loadedTime=t.manifest.loadedTime,n.availableFrom=t.availabilityStartTime,n.minBufferTime=t.manifest.minBufferTime,n.maxFragmentDuration=t.maxSegmentDuration,n.duration=m.getDuration(e),n.isDynamic=m.getIsDynamic(e),n}return{initialize:function(){o=[],y={}},convertDataToTrack:r,convertDataToMedia:_,convertDataToStream:a,getDataForTrack:i,getDataForMedia:s,getDataForStream:v,getStreamsInfo:function(e){var t,n,r,i=[];if(!e)return null;for(t=m.getMpd(e),o=m.getRegularPeriods(e,t),t.checkTime=m.getCheckTime(e,o[0]),y={},n=o.length,r=0;r<n;r++)i.push(a(e,o[r]));return i},getManifestInfo:function(e){return u(e,m.getMpd(e))},getMediaInfoForType:function(e,t,n){var r,i;return(n=m.getAdaptationForType(e,t.index,n,t))?(i=(r=v(t)).id,n=m.getIndexForAdaptation(n,e,t.index),y[i]=y[i]||m.getAdaptationsForPeriod(e,r),_(e,y[i][n])):null},getAllMediaInfoForType:function(e,t,n){var r,i,o,a,s,u=v(t),l=u.id,c=m.getAdaptationsForType(e,t.index,"embeddedText"!==n?n:"video"),f=[];if(c)for(y[l]=y[l]||m.getAdaptationsForPeriod(e,u),a=0,s=c.length;a<s;a++){if(r=c[a],o=m.getIndexForAdaptation(r,e,t.index),i=_(e,y[l][o]),"embeddedText"===n)for(var d=i.accessibility.length,p=0;p<d;p++)if(i){var h=i.accessibility[p];if(0===h.indexOf("cea-608:")){var g=h.substring(8).split(";");if("CC"===g[0].substring(0,2))for(p=0;p<g.length;p++)b(i=i||_.call(this,e,y[l][o]),g[p].substring(0,3),g[p].substring(4)),f.push(i),i=null;else for(p=0;p<g.length;p++)b(i=i||_.call(this,e,y[l][o]),"CC"+(p+1),g[p]),f.push(i),i=null}else 0===h.indexOf("cea-608")&&(b(i,"CC1","eng"),f.push(i),i=null)}i&&"embeddedText"!==n&&f.push(i)}return f},getCurrentRepresentationInfo:function(e,t){return(t=t.getCurrentRepresentation())?r(e,t):null},getRepresentationInfoForQuality:function(e,t,n){return(t=t.getRepresentationForQuality(n))?r(e,t):null},updateData:function(e,t){var n=v(t.getStreamInfo()),r=t.getMediaInfo(),i=s(r),o=t.getType(),a=(a=r.id)?m.getAdaptationForId(a,e,n.index):m.getAdaptationForIndex(r.index,e,n.index);t.getRepresentationController().updateData(a,i,o)},getInitRequest:function(e,t){return t=e.getRepresentationController().getRepresentationForQuality(t),e.getIndexHandler().getInitRequest(t)},getNextFragmentRequest:function(e,t){return t=i(t,e.getRepresentationController()),e.getIndexHandler().getNextSegmentRequest(t)},getFragmentRequestForTime:function(e,t,n,r){return t=i(t,e.getRepresentationController()),e.getIndexHandler().getSegmentRequestForTime(t,n,r)},generateFragmentRequestForTime:function(e,t,n){return t=i(t,e.getRepresentationController()),e.getIndexHandler().generateSegmentRequestForTime(t,n)},getIndexHandlerTime:function(e){return e.getIndexHandler().getCurrentTime()},setIndexHandlerTime:function(e,t){return e.getIndexHandler().setCurrentTime(t)},getEventsFor:function(e,t,n){var r=[];return t instanceof f.default?r=m.getEventsForPeriod(e,v(t)):t instanceof c.default?r=m.getEventStreamForAdaptationSet(e,s(t)):t instanceof l.default&&(r=m.getEventStreamForRepresentation(e,i(t,n.getRepresentationController()))),r},getEvent:function(e,t,n){var r=new p.default,i=e.scheme_id_uri,o=e.value,a=e.timescale,s=e.presentation_time_delta,u=e.event_duration,l=e.id,e=e.message_data,n=n*a+s;return t[i]?(r.eventStream=t[i],r.eventStream.value=o,r.eventStream.timescale=a,r.duration=u,r.id=l,r.presentationTime=n,r.messageData=e,r.presentationTimeDelta=s,r):null},setConfig:function(e){e&&e.dashManifestModel&&(m=e.dashManifestModel)},reset:function(){o=[],y={}},metricsList:g}}o.__dashjs_factory_name="DashAdapter",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{2:2,204:204,214:214,235:235,361:361,362:362,364:364,367:367}],210:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var P=r(e(358)),D=r(e(357)),R=e(374),C=r(e(207)),M=r(e(203)),i=r(e(204)),N=r(e(202)),L=r(e(353)),F=e(229),k=r(e(228));function o(t){var n=this.context,s=(0,N.default)(n).getInstance().log,u=(0,M.default)(n).getInstance(),o=(0,L.default)(n).getInstance(),a=t.segmentBaseLoader,l=t.timelineConverter,r=t.dashMetrics,i=t.metricsModel,c=t.baseURLController,e=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0;function _(e,t,n){var r,i,n=c.resolve(n.path);return n&&t!==n.url&&o.isRelative(t)?(r=n.url,i=n.serviceLocation,t&&(r+=t)):r=t,!o.isRelative(r)&&(e.url=r,e.serviceLocation=i,1)}function b(e){var t,n=e.adaptation.period,r=e.segmentInfoType,i=!1;return f<0?i=!1:p||f<e.availableSegmentsNumber?(t=(0,F.getSegmentByIndex)(f,e))&&(t=t.presentationStartTime-n.start,n=e.adaptation.period.duration,s(e.segmentInfoType+": "+t+" / "+n),i=("SegmentTimeline"!==r||!p)&&n<=t):i=!0,i}function T(e){v.getSegments(e,d,f,w)}function w(e,t){(e.segments=t)&&0<t.length&&(m=isNaN(m)?t[0].presentationStartTime:Math.min(t[0].presentationStartTime,m)),p&&isNaN(l.getExpectedLiveEdge())&&(e=t[t.length-1].presentationStartTime,t=i.getMetricsFor("stream"),l.setExpectedLiveEdge(e),i.updateManifestUpdateInfo(r.getCurrentManifestUpdate(t),{presentationStartTime:e}))}function E(e){if(!e)throw new D.default("no representation");e.segments=null,T(e)}function x(e,t,n){var r,i,o,a,s,u=t.segments,l=u?u.length:null,c=-1;if(u&&0<l)for(s=0;s<l;s++)if(o=(i=u[s]).presentationStartTime,a=i.duration,o<=e+(r=null==n?a/2:n)&&e-r<o+a){c=i.availabilityIdx;break}return c}function S(e){var t,n,r,i,o;return null==e?null:(t=new P.default,r=(n=e.representation).adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,o=e.media,o=(0,F.replaceTokenForTemplate)(o,"Number",e.replacementNumber),o=(0,F.replaceTokenForTemplate)(o,"Time",e.replacementTime),o=(0,F.replaceTokenForTemplate)(o,"Bandwidth",r),r=o,o=(o=null===(i=n.id)||-1===r.indexOf("$RepresentationID$")?r:(i=i.toString(),r.split("$RepresentationID$").join(i))).split("$$").join("$"),t.mediaType=h,t.type=R.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=n.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=n.index,t.index=e.availabilityIdx,t.mediaInfo=y.getMediaInfo(),t.adaptationIndex=n.adaptation.index,_(t,o,n)?t:void 0)}function O(e,t,n){var r,i=f,o=!!n&&n.keepIdx,a=n?n.timeThreshold:null,n=!(!n||!n.ignoreIsFinished);return e?(d!==t&&s("Getting the request for "+h+" time : "+(d=t)),f=x(t,e,a),T(e),0<(f=f<0?x(t,e,a):f)&&s("Index for "+h+" time "+t+" is "+f),!n&&b(e)?((r=new P.default).action=P.default.ACTION_COMPLETE,r.index=f,r.mediaType=h,r.mediaInfo=y.getMediaInfo(),s("Signal complete.",r)):r=S((0,F.getSegmentByIndex)(f,e)),o&&0<=i&&(f="SegmentTimeline"===e.segmentInfoType&&p?f:i),r):null}function A(e){e=e.representation;e.segments&&u.trigger(C.default.REPRESENTATION_UPDATED,{sender:this,representation:e})}function I(e){if(!e.error&&h===e.mediaType){for(var t,n=e.segments,r=e.representation,i=[],o=0,a=0,s=n.length;a<s;a++)t=n[a],t=(0,F.getTimeBasedSegment)(l,p,r,t.startTime,t.duration,t.timescale,t.media,t.mediaRange,o),i.push(t),o++;r.segmentAvailabilityRange={start:i[0].presentationStartTime,end:i[s-1].presentationStartTime},r.availableSegmentsNumber=s,w(r,i),r.initialization&&u.trigger(C.default.REPRESENTATION_UPDATED,{sender:this,representation:r})}}return e={initialize:function(e){h=(y=e).getType(),p=y.isDynamic(),v=(0,k.default)(n).create(t,p)},getStreamProcessor:function(){return y},getInitRequest:function(e){{var t,n,r;if(e)return e=e,t=h,n=new P.default,r=e.adaptation.period,n.mediaType=t,n.type=R.HTTPRequest.INIT_SEGMENT_TYPE,n.range=e.range,t=r.start,n.availabilityStartTime=l.calcAvailabilityStartTimeFromPresentationTime(t,e.adaptation.period.mpd,p),n.availabilityEndTime=l.calcAvailabilityEndTimeFromPresentationTime(t+r.duration,r.mpd,p),n.quality=e.index,n.mediaInfo=y.getMediaInfo(),_(n,e.initialization,e)?n:void 0}return null},getSegmentRequestForTime:O,getNextSegmentRequest:function(e){var t;return e&&-1!==f?(d=null,s("Getting the next request at index: "+ ++f),b(e)?((t=new P.default).action=P.default.ACTION_COMPLETE,t.index=f,t.mediaType=h,t.mediaInfo=y.getMediaInfo(),s("Signal complete.")):(T(e),t=S(e=(0,F.getSegmentByIndex)(f,e)),!e&&p&&f--),t):null},generateSegmentRequestForTime:function(e,t){var n=(e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start)/2;return e.segments=null,e.segmentAvailabilityRange={start:t-n,end:t+n},O(e,t,{keepIdx:!1,ignoreIsFinished:!0})},updateRepresentation:function(e,t){var n,r=e.initialization,i="BaseURL"!==e.segmentInfoType&&"SegmentBase"!==e.segmentInfoType&&!e.indexRange;e.segmentDuration||e.segments||E(e),e.segmentAvailabilityRange=null,e.segmentAvailabilityRange=l.calcSegmentAvailabilityRange(e,p),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime?(n=new D.default(1,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),u.trigger(C.default.REPRESENTATION_UPDATED,{sender:this,representation:e,error:n})):(t||(f=-1),e.segmentDuration&&E(e),r||a.loadInitialization(e),i||a.loadSegments(e,h,e.indexRange),r&&i&&u.trigger(C.default.REPRESENTATION_UPDATED,{sender:this,representation:e}))},setCurrentTime:function(e){g=e},getCurrentTime:function(){return g},getCurrentIndex:function(){return f},getEarliestTime:function(){return m},reset:function(){g=0,d=m=NaN,f=-1,y=h=p=v=null,u.off(C.default.INITIALIZATION_LOADED,A,e),u.off(C.default.SEGMENTS_LOADED,I,e)}},f=-1,g=0,m=NaN,u.on(C.default.INITIALIZATION_LOADED,A,e),u.on(C.default.SEGMENTS_LOADED,I,e),e}o.__dashjs_factory_name="DashHandler";e=i.default.getClassFactory(o);e.SEGMENTS_UNAVAILABLE_ERROR_CODE=1,n.default=e,t.exports=n.default},{202:202,203:203,204:204,207:207,228:228,229:229,353:353,357:357,358:358,374:374}],211:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var c=e(374),o=r(e(294)),f=r(e(216)),i=r(e(204)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(214)),p=e(201);function a(){var s=this.context,u=(0,o.default)(s).getInstance();function t(e){return r(e,d.BUFFER_LEVEL)}function n(e){if(null===e)return null;var t,n=e.HttpList,r=null;if(null===n||n.length<=0)return null;for(t=n.length-1;0<=t;){if(n[t].responsecode){r=n[t];break}t--}return r}function a(e){return null!==e&&e.HttpList||[]}function r(e,t){return null===e||null===(e=e[t])||(t=e.length)<=0?null:e[t-1]}function l(e){var t={};if(e)for(var n=e.split("\r\n"),r=0,i=n.length;r<i;r++){var o=n[r],a=o.indexOf(": ");0<a&&(t[o.substring(0,a)]=o.substring(a+2))}return t}function i(e,t,n){for(var r,i,o,a=e.AdaptationSet_asArray,s=0;s<a.length;s+=1)for(i=a[s].Representation_asArray,o=0;o<i.length;o+=1)if(t===(r=i[o]).id)return n?o:r;return null}return{getBandwidthForRepresentation:function(e,t){return null===(t=i(u.getValue().Period_asArray[t],e))?null:t.bandwidth},getIndexForRepresentation:function(e,t){return null===(t=i(t=u.getValue().Period_asArray[t],e,!0))?-1:t},getMaxIndexForBufferType:function(e,t){var n,r,i,o,t=u.getValue().Period_asArray[t],a=e;if(t&&a)for(r=t.AdaptationSet_asArray,o=0;o<r.length;o+=1)if(n=r[o],i=n.Representation_asArray,function(e,t){return(0,f.default)(s).getInstance().getIsTypeOf(e,t)}(n,a))return i.length;return-1},getCurrentRepresentationSwitch:function(e){return r(e,d.TRACK_SWITCH)},getLatestBufferLevelVO:t,getCurrentBufferLevel:function(e){return(e=t(e))?(0,p.round10)(e.level/1e3,-3):0},getCurrentHttpRequest:n,getHttpRequests:a,getCurrentDroppedFrames:function(e){return r(e,d.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(e){return r(e,d.SCHEDULING_INFO)},getCurrentDVRInfo:function(e){return r(e,d.DVR_INFO)},getCurrentManifestUpdate:function(e){return r(e,d.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(e,t){return null===e||null===(e=n(e))||null===e._responseHeaders||void 0===(e=l(e._responseHeaders))[t]?null:e[t]},getLatestMPDRequestHeaderValueByID:function(e,t){var n,r,i,o={};if(null===e)return null;for(i=(n=a(e)).length-1;0<=i;i--)if((r=n[i]).type===c.HTTPRequest.MPD_TYPE){o=l(r._responseHeaders);break}return void 0===o[t]?null:o[t]},getRequestsQueue:function(e){return e.RequestsQueue}}}a.__dashjs_factory_name="DashMetrics",n.default=i.default.getSingletonFactory(a),t.exports=n.default},{201:201,204:204,214:214,216:216,294:294,374:374}],212:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(351)),E=r(e(240)),a=r(e(357)),s=r(e(346)),d=r(e(207)),p=r(e(203)),h=r(e(341)),i=r(e(204)),g=r(e(202));function u(){var e=this.context,T=(0,g.default)(e).getInstance().log,u=(0,p.default)(e).getInstance(),l=void 0,w=void 0,n=void 0,c=void 0;function f(e,t){t.url&&(e.open("GET",n.modifyRequestURL(t.url)),e.responseType="arraybuffer",e.setRequestHeader("Range","bytes="+t.range.start+"-"+t.range.end),(e=n.modifyRequestHeader(e)).send(null))}function i(e,t,n){e?u.trigger(d.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):u.trigger(d.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new a.default(null,"error loading segments",null)})}return{setConfig:function(e){e.baseURLController&&(c=e.baseURLController)},initialize:function(){l=(0,s.default)(e).getInstance(),w=(0,h.default)(e).getInstance(),n=(0,o.default)(e).getInstance()},loadInitialization:function e(t,n){var r,i=!0,o=new XMLHttpRequest,a=c.resolve(t.path),s=n||{url:a?a.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,request:o};T("Start searching for initialization."),o.onload=function(){o.status<200||299<o.status||(i=!1,s.bytesLoaded=s.range.end,(r=function(e){var t=e.getBox("ftyp"),e=e.getBox("moov"),n=null;return T("Searching for initialization."),e&&e.isComplete&&(t=(t||e).offset,e=e.offset+e.size-1,T("Found the initialization.  Range: "+(n=t+"-"+e))),n}(r=w.parse(o.response)))?(t.range=r,t.initialization=s.url,u.trigger(d.default.INITIALIZATION_LOADED,{representation:t})):(s.range.end=s.bytesLoaded+s.bytesToLoad,e(t,s)))},o.onloadend=o.onerror=function(){i&&(i=!1,l.downloadError("initialization",s.url,o),u.trigger(d.default.INITIALIZATION_LOADED,{representation:t}))},f(o,s),T("Perform init search: "+s.url)},loadSegments:function d(p,h,e,t,g){!e||void 0!==e.start&&void 0!==e.end||(e=(n=e?e.toString().split("-"):null)?{start:parseFloat(n[0]),end:parseFloat(n[1])}:null),g=g||i;var m,y=!0,v=null,n=!!e,_=new XMLHttpRequest,r=c.resolve(p.path),b={url:r?r.url:void 0,range:n?e:{start:0,end:1500},searching:!n,bytesLoaded:t?t.bytesLoaded:0,bytesToLoad:1500,request:_};_.onload=function(){if(!(_.status<200||299<_.status)){var e=b.bytesToLoad,t=_.response.byteLength;if(y=!1,b.bytesLoaded=b.range.end-b.range.start,v=w.parse(_.response),(m=v.getBox("sidx"))&&m.isComplete){var n=m.references;if(f=null!=n&&0<n.length?1===n[0].reference_type:f){T("Initiate multiple SIDX load."),b.range.end=b.range.start+m.size;for(var r,i,o=[],a=0,s=(m.offset||b.range.start)+m.size,u=function(e){e?(o=o.concat(e),c<=++a&&g(o,p,h)):g(null,p,h)},l=0,c=n.length;l<c;l++)i=(r=s)+n[l].referenced_size-1,s+=n[l].referenced_size,d(p,null,{start:r,end:i},b,u)}else T("Parsing segments from SIDX."),f=function(e,t){for(var n,r,i,o,a=e.references,s=a.length,u=e.timescale,l=e.earliest_presentation_time,c=t.range.start+e.offset+e.first_offset+e.size,f=[],d=0;d<s;d++)i=a[d].subsegment_duration,o=a[d].referenced_size,(n=new E.default).duration=i,n.media=t.url,n.startTime=l,n.timescale=u,r=c+o-1,n.mediaRange=c+"-"+r,f.push(n),l+=i,c+=o;return f}(m,b),g(f,p,h)}else{if(m)b.range.start=m.offset||b.range.start,b.range.end=b.range.start+(m.size||e);else{if(t<b.bytesLoaded)return void g(null,p,h);var f=v.getLastBox();f&&f.size?(b.range.start=f.offset+f.size,b.range.end=b.range.start+e):b.range.end+=e}d(p,h,b.range,b,g)}}},_.onloadend=_.onerror=function(){y&&(y=!1,l.downloadError("SIDX",b.url,_),g(null,p,h))},f(_,b),T("Perform SIDX load: "+b.url)},reset:function(){T=n=w=l=null}}}u.__dashjs_factory_name="SegmentBaseLoader",n.default=i.default.getSingletonFactory(u),t.exports=n.default},{202:202,203:203,204:204,207:207,240:240,341:341,346:346,351:351,357:357}],213:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=r(e(207)),i=r(e(203)),E=r(e(345)),o=r(e(204)),u=r(e(202)),l=r(e(346)),c=r(e(351)),p=r(e(240)),f=e(374),d=r(e(358)),h=r(e(252));function a(){var y=this.context,v=(0,u.default)(y).getInstance().log,o=(0,i.default)(y).getInstance(),_=void 0,e=void 0,t=void 0,n=void 0,b=void 0,a=void 0;function T(e,t,n,r,i){for(var o,a,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,u=[],c=0,d=(a=function(e){var t,n,r=[],i=void 0,o=void 0,a=(0,E.default)(y).create({data:e});for(a.consumeTag(_.Segment.Cues),t=a.getMatroskaCodedNum();a.moreData()&&a.consumeTagAndSize(_.Segment.Cues.CuePoint,!0);){for((i={}).CueTime=a.parseTag(_.Segment.Cues.CuePoint.CueTime),i.CueTracks=[];a.moreData()&&a.consumeTagAndSize(_.Segment.Cues.CuePoint.CueTrackPositions,!0);){if((o={}).Track=a.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===o.Track)throw new Error("Cue track cannot be 0");o.ClusterPosition=a.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),a.getPos()+4>t||!a.consumeTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,!0)||(n=a.getMatroskaCodedNum(),o.BlockNumber=a.getMatroskaUint(n)),i.CueTracks.push(o)}if(0===i.CueTracks.length)throw new Error("Mandatory cuetrack not found");r.push(i)}if(0===r.length)throw new Error("mandatory cuepoint not found");return r}(e)).length;c<d;c+=1)l=new p.default,s=0,s=c<a.length-1?a[c+1].CueTime-a[c].CueTime:i-a[c].CueTime,l.duration=s,l.media=t,l.startTime=a[c].CueTime,l.timescale=1e3,o=a[c].CueTracks[0].ClusterPosition+n,f=c<a.length-1?a[c+1].CueTracks[0].ClusterPosition+n-1:r-1,l.mediaRange=o+"-"+f,u.push(l);return v("Parsed cues: "+u.length+" cues."),u}function r(e,t,n){e?o.trigger(s.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):o.trigger(s.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new Error(null,"error loading segments",null)})}function w(e){var t=new d.default;return t.type=e.init?f.HTTPRequest.INIT_SEGMENT_TYPE:f.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}return _={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:!0}},{setConfig:function(e){if(!e.baseURLController||!e.metricsModel)throw new Error("Missing config parameter(s)");a=e.baseURLController,n=e.metricsModel},initialize:function(){e=(0,l.default)(y).getInstance(),t=(0,c.default)(y).getInstance(),b=(0,h.default)(y).create({errHandler:e,metricsModel:n,requestModifier:t})},loadInitialization:function(e,t){var n=(n=a.resolve(e.path))?n.url:void 0,r=e.range.split("-"),i=t||{range:{start:parseFloat(r[0]),end:parseFloat(r[1])},request:null,url:n,init:!0};v("Start loading initialization."),t=w(i),b.load({request:t,success:function(){e.initialization=i.url,o.trigger(s.default.INITIALIZATION_LOADED,{representation:e})},error:function(){o.trigger(s.default.INITIALIZATION_LOADED,{representation:e})}}),v("Perform init load: "+i.url)},loadSegments:function(d,p,h,g){var e=a.resolve(d.path),m=e?e.url:void 0;g=g||r,e=w({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:null,url:m,init:!1}),v("Parsing ebml header"),b.load({request:e,success:function(e){var t,n,r,i=m,o=h,a=function(e){g(e,d,p)},s=(0,E.default)(y).create({data:e}),u=void 0,e=o.split("-"),l={url:i,range:{start:parseFloat(e[0]),end:parseFloat(e[1])},request:null};for(v("Parse EBML header: "+l.url),s.skipOverElement(_.EBML),s.consumeTag(_.Segment),n=s.getMatroskaCodedNum(),n+=s.getPos(),r=s.getPos();s.moreData()&&!s.consumeTagAndSize(_.Segment.Info,!0);)if(!(s.skipOverElement(_.Segment.SeekHead,!0)||s.skipOverElement(_.Segment.Tracks,!0)||s.skipOverElement(_.Segment.Cues,!0)||s.skipOverElement(_.Void,!0)))throw new Error("no valid top level element found");for(;void 0===u;){var c=s.getMatroskaCodedNum(!0),f=s.getMatroskaCodedNum();c===_.Segment.Info.Duration.tag?u=s[_.Segment.Info.Duration.parse](f):s.setPos(s.getPos()+f)}o=w(l),b.load({request:o,success:function(e){t=T(e,l.url,r,n,u),a(t)},error:function(){v("Download Error: Cues "+l.url),a(null)}}),v("Perform cues load: "+l.url+" bytes="+l.range.start+"-"+l.range.end)},error:function(){g(null,d,p)}})},reset:function(){v=t=e=null}}}a.__dashjs_factory_name="WebmSegmentBaseLoader",n.default=o.default.getSingletonFactory(a),t.exports=n.default},{202:202,203:203,204:204,207:207,240:240,252:252,345:345,346:346,351:351,358:358,374:374}],214:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.TCP_CONNECTION="TcpList",n.HTTP_REQUEST="HttpList",n.TRACK_SWITCH="RepSwitchList",n.BUFFER_LEVEL="BufferLevel",n.BUFFER_STATE="BufferState",n.DVR_INFO="DVRInfo",n.DROPPED_FRAMES="DroppedFrames",n.SCHEDULING_INFO="SchedulingInfo",n.REQUESTS_QUEUE="RequestsQueue",n.MANIFEST_UPDATE="ManifestUpdate",n.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",n.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",n.PLAY_LIST="PlayList";n.DVB_ERRORS="DVBErrors"},{}],215:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var C=r(e(216)),M=r(e(211)),N=r(e(231)),L=r(e(254)),F=r(e(262)),k=r(e(265)),U=r(e(294)),j=r(e(296)),B=r(e(295)),$=r(e(344)),V=r(e(357)),G=r(e(203)),z=r(e(207)),e=r(e(204));function i(){var u=1,e=this.context,l=(0,G.default)(e).getInstance(),t=void 0,c=void 0,s=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,r=void 0,y=void 0,v=void 0,_=void 0,n=void 0,i=void 0,b=void 0,T=void 0;function o(){return f}function a(){return p}function w(){var e=new Date,t=p,n=1e3*y.getTime();_.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function E(){var e=i.calcSegmentAvailabilityRange(p,h.isDynamic());_.addDVRInfo(h.getType(),y.getTime(),h.getStreamInfo().manifestInfo,e)}function x(e){return d[e]}function S(e){for(var t,n=0,r=d.length;n<r;n++)(t=d[n]).segmentAvailabilityRange=i.calcSegmentAvailabilityRange(t,e)}function O(e){f=!1,l.trigger(z.default.AST_IN_FUTURE,{delay:e}),setTimeout(function(){if(!f){f=!0,l.trigger(z.default.DATA_UPDATE_STARTED,{sender:t}),d.forEach(function(e){e.segmentAvailabilityRange=null});for(var e=0;e<d.length;e++)m.updateRepresentation(d[e],!0)}},e)}function A(e){if(e.sender.getStreamProcessor()===h&&f){var t,n,r=e.representation,e=_.getMetricsFor("stream"),i=_.getMetricsFor(p.adaptation.type),o=T.getCurrentManifestUpdate(e),a=!1,e=0;if("dynamic"===r.adaptation.period.mpd.manifest.type&&(n=r.segmentAvailabilityRange.end-r.segmentAvailabilityRange.start,e=1e3*(y.computeLiveDelay(p.segmentDuration,h.getStreamInfo().manifestInfo.DVRWindowSize)-n)),0<e)E(),O(e),n=new V.default(u,"Segments update failed",null),l.trigger(z.default.DATA_UPDATE_COMPLETED,{sender:this,data:c,currentRepresentation:p,error:n});else{if(o){for(var s=0;s<o.trackInfo.length;s++)if((t=o.trackInfo[s]).index===r.index&&t.mediaType===h.getType()){a=!0;break}a||_.addManifestUpdateRepresentationInfo(o,r.id,r.index,r.adaptation.period.index,h.getType(),r.presentationTimeOffset,r.startNumber,r.segmentInfoType)}!function(){for(var e=0,t=d.length;e<t;e++){var n=d[e].segmentInfoType;if(null===d[e].segmentAvailabilityRange||null===d[e].initialization||("SegmentBase"===n||"BaseURL"===n)&&!d[e].segments)return}return 1}()||(f=!1,g.setPlaybackQuality(h.getType(),h.getStreamInfo(),(e=p,d.indexOf(e))),_.updateManifestUpdateInfo(o,{latency:p.segmentAvailabilityRange.end-y.getTime()}),T.getCurrentRepresentationSwitch(i)||w(),l.trigger(z.default.DATA_UPDATE_COMPLETED,{sender:this,data:c,currentRepresentation:p}))}}}function I(e){e.isDynamic&&S(e.isDynamic)}function P(e){var t,n;e.error||(S(!0),m.updateRepresentation(p,!1),e=v.getValue(),t=p.adaptation.period,(n=r.getActiveStreamInfo()).isLast&&(t.mpd.checkTime=b.getCheckTime(e,t),t.duration=b.getEndTimeForLastPeriod(v.getValue(),t)-t.start,n.duration=t.duration))}function D(e){e.sender.getStreamProcessor()===h&&E()}function R(e){e.mediaType===h.getType()&&h.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality&&(p=x(e.newQuality),n.setSavedBitrateSettings(e.mediaType,p.bandwidth),w())}return t={initialize:function(e){m=(h=e).getIndexHandler()},setConfig:function(e){e.abrController&&(g=e.abrController)},getData:function(){return c},getDataIndex:function(){return s},isUpdating:o,updateData:function(e,t,n){var r,i=h.getStreamInfo(),o=g.getTopQualityIndexFor(n,i.id);if(f=!0,l.trigger(z.default.DATA_UPDATE_STARTED,{sender:this}),t=t,r=v.getValue(),s=b.getIndexForAdaptation(c,r,t.period.index),d=b.getRepresentationsForAdaptation(r,t),t=null===c&&"fragmentedText"!==n?(r=g.getAverageThroughput(n)||g.getInitialBitrateFor(n,i),g.getQualityForBitrate(h.getMediaInfo(),r)):g.getQualityFor(n,i),p=x(t=o<t?o:t),c=e,"video"!==n&&"audio"!==n&&"fragmentedText"!==n)f=!1,l.trigger(z.default.DATA_UPDATE_COMPLETED,{sender:this,data:c,currentRepresentation:p});else for(var a=0;a<d.length;a++)m.updateRepresentation(d[a],!0)},getStreamProcessor:function(){return h},getCurrentRepresentation:a,getRepresentationForQuality:x,reset:function(){l.off(z.default.QUALITY_CHANGE_REQUESTED,R,t),l.off(z.default.REPRESENTATION_UPDATED,A,t),l.off(z.default.WALLCLOCK_TIME_UPDATED,I,t),l.off(z.default.BUFFER_LEVEL_UPDATED,D,t),l.off(z.default.LIVE_EDGE_SEARCH_COMPLETED,P,t),s=-1,f=!(c=null),d=[],T=b=i=n=_=v=y=r=g=null}},s=-1,f=!(c=null),d=[],g=(0,L.default)(e).getInstance(),r=(0,k.default)(e).getInstance(),y=(0,F.default)(e).getInstance(),v=(0,U.default)(e).getInstance(),_=(0,j.default)(e).getInstance(),n=(0,$.default)(e).getInstance(),i=(0,N.default)(e).getInstance(),b=(0,C.default)(e).getInstance(),T=(0,M.default)(e).getInstance(),(0,B.default)(e).getInstance(),l.on(z.default.QUALITY_CHANGE_REQUESTED,R,t),l.on(z.default.REPRESENTATION_UPDATED,A,t),l.on(z.default.WALLCLOCK_TIME_UPDATED,I,t),l.on(z.default.BUFFER_LEVEL_UPDATED,D,t),l.on(z.default.LIVE_EDGE_SEARCH_COMPLETED,P,t),t}i.__dashjs_factory_name="RepresentationController",n.default=e.default.getClassFactory(i),t.exports=n.default},{203:203,204:204,207:207,211:211,216:216,231:231,254:254,262:262,265:265,294:294,295:295,296:296,344:344,357:357}],216:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var E=r(e(239)),x=r(e(233)),S=r(e(238)),O=r(e(237)),A=r(e(241)),I=r(e(231)),P=r(e(260)),D=r(e(209)),R=r(e(235)),C=r(e(234)),M=r(e(236)),N=r(e(353)),e=r(e(204));function i(){var e=this.context,c=(0,I.default)(e).getInstance(),l=(0,P.default)(e).getInstance(),f=(0,D.default)(e).getInstance(),a=(0,N.default)(e).getInstance();function s(e,t){var n,r,i,o=!1,a=!1,s=e.ContentComponent_asArray,u="text"!==t?new RegExp(t):new RegExp("(vtt|ttml)");if(0<e.Representation_asArray.length&&e.Representation_asArray[0].hasOwnProperty("codecs")){var l=e.Representation_asArray[0].codecs;if("stpp"===l||"wvtt"===l)return"fragmentedText"===t}if(s){if(1<s.length)return"muxed"===t;s[0]&&s[0].contentType===t&&(a=o=!0)}if(e.hasOwnProperty("mimeType")&&(o=u.test(e.mimeType),a=!0),!a)for(n=0,r=e.Representation_asArray.length;!a&&n<r;)(i=e.Representation_asArray[n]).hasOwnProperty("mimeType")&&(o=u.test(i.mimeType),a=!0),n++;return o}function u(e){return s(e,"audio")}function d(e){return s(e,"video")}function p(e){return s(e,"fragmentedText")}function h(e){return s(e,"muxed")}function g(e){return"text/vtt"===e||"application/ttml+xml"===e}function t(e){return e.hasOwnProperty("Role_asArray")?e.Role_asArray:[]}function m(e){return t(e).filter(function(e){return"main"===e.value})[0]}function n(){return function(e,t){return e.bandwidth-t.bandwidth}}function y(e){return void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(n()),e}function v(e,t,n){for(var r=e.Period_asArray[t].AdaptationSet_asArray,i=[],o=0,a=r.length;o<a;o++)s(r[o],n)&&i.push(y(r[o]));return i}function _(e){var t=!1;return t=e.hasOwnProperty("type")?"dynamic"===e.type:t}function r(e,t){var n=!1;return n=e.profiles&&0<e.profiles.length?-1!==e.profiles.indexOf(t):n}function b(e){var t;if(e)return t=S.default.DEFAULT_ID,e.hasOwnProperty("id")&&"__proto__"!==e.id?e.id:t;throw new Error("Period cannot be null or undefined")}function i(e,t){return c.calcPresentationTimeFromWallTime(e.loadedTime,t)}function o(e,t){var n=NaN;return n=e.hasOwnProperty("minimumUpdatePeriod")?i(e,t)+e.minimumUpdatePeriod:n}function T(e,t){var n,t=o(e,t);if(e.mediaPresentationDuration)n=e.mediaPresentationDuration;else{if(isNaN(t))throw new Error("Must have @mediaPresentationDuration or @minimumUpdatePeriod on MPD or an explicit @duration on the last period.");n=t}return n}function w(e,t){var n=[];if(e)for(var r=0;r<e.length;r++){var i=new M.default;if(i.timescale=1,i.representation=t,!e[r].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");i.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty("timescale")&&(i.timescale=e[r].timescale),e[r].hasOwnProperty("value")&&(i.value=e[r].value),n.push(i)}return n}return{getIsTypeOf:s,getIsAudio:u,getIsVideo:d,getIsText:function(e){return s(e,"text")},getIsMuxed:h,getIsTextTrack:g,getIsFragmentedText:p,getIsMain:m,getLanguageForAdaptation:function(e){var t="";return t=e.hasOwnProperty("lang")?e.lang.replace(/[^A-Za-z0-9-]/g,""):t},getViewpointForAdaptation:function(e){return e.hasOwnProperty("Viewpoint")?e.Viewpoint:null},getRolesForAdaptation:t,getAccessibilityForAdaptation:function(e){return e.hasOwnProperty("Accessibility_asArray")?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(e){return e.hasOwnProperty("AudioChannelConfiguration_asArray")?e.AudioChannelConfiguration_asArray:[]},processAdaptation:y,getAdaptationForIndex:function(e,t,n){return t.Period_asArray[n].AdaptationSet_asArray[e]},getIndexForAdaptation:function(e,t,n){for(var r=t.Period_asArray[n].AdaptationSet_asArray,i=0,o=r.length;i<o;i++)if(r[i]===e)return i;return-1},getAdaptationForId:function(e,t,n){for(var r=t.Period_asArray[n].AdaptationSet_asArray,i=0,o=r.length;i<o;i++)if(r[i].hasOwnProperty("id")&&r[i].id===e)return r[i];return null},getAdaptationsForType:v,getAdaptationForType:function(e,t,n,r){var i=v(e,t,n);if(!i||0===i.length)return null;if(1<i.length&&r)for(var o=l.getCurrentTrackFor(n,r),a=f.getAllMediaInfoForType(e,r,n),s=0,u=i.length;s<u;s++){if(o&&l.isTracksEqual(o,a[s]))return i[s];if(m(i[s]))return i[s]}return i[0]},getCodec:function(e){return(e=e.Representation_asArray[0]).mimeType+';codecs="'+e.codecs+'"'},getMimeType:function(e){return e.Representation_asArray[0].mimeType},getKID:function(e){return e&&e.hasOwnProperty("cenc:default_KID")?e["cenc:default_KID"]:null},getContentProtectionData:function(e){return e&&e.hasOwnProperty("ContentProtection_asArray")&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:_,getIsDVR:function(e){var t=_(e),e=!isNaN(e.timeShiftBufferDepth);return t&&e},getIsOnDemand:function(e){return r(e,"urn:mpeg:dash:profile:isoff-on-demand:2011")},getIsDVB:function(e){return r(e,"urn:dvb:dash:profile:dvb-dash:2014")},getDuration:function(e){return e=e.hasOwnProperty("mediaPresentationDuration")?e.mediaPresentationDuration:Number.MAX_VALUE},getBandwidth:function(e){return e.bandwidth},getRefreshDelay:function(e){var t=NaN;return t=e.hasOwnProperty("minimumUpdatePeriod")?Math.max(parseFloat(e.minimumUpdatePeriod),2):t},getRepresentationCount:function(e){return e.Representation_asArray.length},getBitrateListForAdaptation:function(e){if(!e||!e.Representation_asArray||!e.Representation_asArray.length)return null;for(var t=y(e).Representation_asArray,n=t.length,r=[],i=0;i<n;i++)r.push({bandwidth:t[i].bandwidth,width:t[i].width||0,height:t[i].height||0});return r},getRepresentationFor:function(e,t){return t.Representation_asArray[e]},getRepresentationsForAdaptation:function(e,t){for(var n,r,i,o,a,s=y(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index]),u=[],l=0;l<s.Representation_asArray.length;l++)o=s.Representation_asArray[l],(n=new E.default).index=l,n.adaptation=t,o.hasOwnProperty("id")&&(n.id=o.id),o.hasOwnProperty("bandwidth")&&(n.bandwidth=o.bandwidth),o.hasOwnProperty("maxPlayoutRate")&&(n.maxPlayoutRate=o.maxPlayoutRate),o.hasOwnProperty("SegmentBase")?(i=o.SegmentBase,n.segmentInfoType="SegmentBase"):o.hasOwnProperty("SegmentList")?(i=o.SegmentList).hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",(!(a=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1]).hasOwnProperty("r")||0<=a.r)&&(n.useCalculatedLiveEdgeTime=!0)):(n.segmentInfoType="SegmentList",n.useCalculatedLiveEdgeTime=!0):o.hasOwnProperty("SegmentTemplate")?((i=o.SegmentTemplate).hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",(!(a=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1]).hasOwnProperty("r")||0<=a.r)&&(n.useCalculatedLiveEdgeTime=!0)):n.segmentInfoType="SegmentTemplate",i.hasOwnProperty("initialization")&&(n.initialization=i.initialization.split("$Bandwidth$").join(o.bandwidth).split("$RepresentationID$").join(o.id))):(i=o.BaseURL,n.segmentInfoType="BaseURL"),i.hasOwnProperty("Initialization")?(r=i.Initialization).hasOwnProperty("sourceURL")?n.initialization=r.sourceURL:r.hasOwnProperty("range")&&(n.range=r.range):o.hasOwnProperty("mimeType")&&g(o.mimeType)&&(n.range=0),i.hasOwnProperty("timescale")&&(n.timescale=i.timescale),i.hasOwnProperty("duration")&&(n.segmentDuration=i.duration/n.timescale),i.hasOwnProperty("startNumber")&&(n.startNumber=i.startNumber),i.hasOwnProperty("indexRange")&&(n.indexRange=i.indexRange),i.hasOwnProperty("presentationTimeOffset")&&(n.presentationTimeOffset=i.presentationTimeOffset/n.timescale),n.MSETimeOffset=c.calcMSETimeOffset(n),n.path=[t.period.index,t.index,l],u.push(n);return u},getAdaptationsForPeriod:function(e,t){for(var n,r,i=e.Period_asArray[t.index],o=[],a=0;a<i.AdaptationSet_asArray.length;a++)r=i.AdaptationSet_asArray[a],n=new x.default,r.hasOwnProperty("id")&&(n.id=r.id),n.index=a,n.period=t,h(r)?n.type="muxed":u(r)?n.type="audio":d(r)?n.type="video":p(r)?n.type="fragmentedText":n.type="text",o.push(n);return o},getRegularPeriods:function(e,t){for(var n=_(e),r=[],i=null,o=null,a=null,s=null,u=0,l=e.Period_asArray.length;u<l;u++)(o=e.Period_asArray[u]).hasOwnProperty("start")?(s=new S.default).start=o.start:null!==i&&o.hasOwnProperty("duration")&&null!==a?((s=new S.default).start=a.start+a.duration,s.duration=o.duration):0!==u||n||((s=new S.default).start=0),null!==a&&isNaN(a.duration)&&(a.duration=s.start-a.start),null!==s&&(s.id=b(o)),null!==s&&o.hasOwnProperty("duration")&&(s.duration=o.duration),null!==s&&(s.index=u,s.mpd=t,r.push(s),i=o,a=s),s=o=null;return 0!==r.length&&null!==a&&isNaN(a.duration)&&(a.duration=T(e,a)-a.start),r},getPeriodId:b,getMpd:function(e){var t=new O.default;return(t.manifest=e).hasOwnProperty("availabilityStartTime")?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty("availabilityEndTime")&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty("suggestedPresentationDelay")&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty("timeShiftBufferDepth")&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty("maxSegmentDuration")&&(t.maxSegmentDuration=e.maxSegmentDuration),t},getFetchTime:i,getCheckTime:o,getEndTimeForLastPeriod:T,getEventsForPeriod:function(e,t){var n=e.Period_asArray[t.index].EventStream_asArray,r=[];if(n)for(var i=0;i<n.length;i++){var o=new M.default;if(o.period=t,o.timescale=1,!n[i].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=n[i].schemeIdUri,n[i].hasOwnProperty("timescale")&&(o.timescale=n[i].timescale),n[i].hasOwnProperty("value")&&(o.value=n[i].value);for(var a=0;a<n[i].Event_asArray.length;a++){var s=new R.default;s.presentationTime=0,s.eventStream=o,n[i].Event_asArray[a].hasOwnProperty("presentationTime")&&(s.presentationTime=n[i].Event_asArray[a].presentationTime),n[i].Event_asArray[a].hasOwnProperty("duration")&&(s.duration=n[i].Event_asArray[a].duration),n[i].Event_asArray[a].hasOwnProperty("id")&&(s.id=n[i].Event_asArray[a].id),r.push(s)}}return r},getEventStreams:w,getEventStreamForAdaptationSet:function(e,t){return w(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index].InbandEventStream_asArray,null)},getEventStreamForRepresentation:function(e,t){return w(e.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].InbandEventStream_asArray,t)},getUTCTimingSources:function(e){var t=_(e),n=e.hasOwnProperty("availabilityStartTime"),e=e.UTCTiming_asArray,r=[];return(t||n)&&e&&e.forEach(function(e){var t=new A.default;e.hasOwnProperty("schemeIdUri")&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty("value"))&&(t.value=e.value.toString(),r.push(t))}),r},getBaseURLsFromElement:function(r){var i=[],e=r.BaseURL_asArray||[r.baseUri],o=!1;return e.some(function(e){var t,n;if(e)return t=new C.default,n=e.__text||e,a.isRelative(n)&&(o=!0,r.baseUri)&&(n=r.baseUri+n),t.url=n,e.hasOwnProperty("serviceLocation")&&e.serviceLocation.length?t.serviceLocation=e.serviceLocation:t.serviceLocation=n,e.hasOwnProperty("dvb:priority")&&(t.dvb_priority=e["dvb:priority"]),e.hasOwnProperty("dvb:weight")&&(t.dvb_weight=e["dvb:weight"]),i.push(t),o}),i},getRepresentationSortFunction:n,getLocation:function(e){return e.hasOwnProperty("Location")&&(e.Location=e.Location_asArray[0]),e.Location}}}i.__dashjs_factory_name="DashManifestModel",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{204:204,209:209,231:231,233:233,234:234,235:235,236:236,237:237,238:238,239:239,241:241,260:260,353:353}],217:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(346)),o=r(e(204)),f=r(e(202)),d=r(e(3)),p=r(e(4)),h=r(e(224)),g=r(e(223)),m=r(e(225)),y=r(e(220)),v=r(e(221));function a(){var e=this.context,a=(0,f.default)(e).getInstance().log,s=(0,i.default)(e).getInstance(),u=void 0,l=void 0,c=void 0;return e={parse:function(t,e){try{var n,r=window.performance.now();if(!(n=l.xml_str2json(t)))throw new Error("parser error");var i=window.performance.now(),o=(c.run(n),window.performance.now());e.setMatchers(u),e.setIron(c),a("Parsing complete: ( xml2json: "+(i-r).toPrecision(3)+"ms, objectiron: "+(o-i).toPrecision(3)+"ms, total: "+((o-r)/1e3).toPrecision(3)+"s)")}catch(e){return s.manifestError("parsing the manifest failed","parse",t,e),null}return n}},u=[new h.default,new g.default,new m.default],l=new p.default(u,"",!0),c=new d.default([new y.default,new v.default]),e}a.__dashjs_factory_name="DashParser",n.default=o.default.getClassFactory(a),t.exports=n.default},{202:202,204:204,220:220,221:221,223:223,224:224,225:225,3:3,346:346,4:4}],218:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this._name=e,this._merge=void 0!==t?t:(t=e)&&t.length&&t.charAt(0)===t.charAt(0).toUpperCase()}Object.defineProperty(n,"__esModule",{value:!0}),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(i,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),n.default=i,t.exports=n.default},{}],219:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e=e(218),a=(e=e)&&e.__esModule?e:{default:e};function s(e,t,n,r,i){var o=this;if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._name=e||"",this._properties=[],this._children=n||[],this._isRoot=r||!1,this._isArray=i||!0,Array.isArray(t)&&t.forEach(function(e){o._properties.push(new a.default(e))})}r(s,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),n.default=s,t.exports=n.default},{218:218}],220:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(219),r=(e=e)&&e.__esModule?e:{default:e},e=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e;if(this instanceof n)return e=["profiles","width","height","sar","frameRate","audioSamplingRate","mimeType","segmentProfiles","codecs","maximumSAPPeriod","startWithSAP","maxPlayoutRate","codingDependency","scanType","FramePacking","AudioChannelConfiguration","ContentProtection","EssentialProperty","SupplementalProperty","InbandEventStream"],function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,"AdaptationSet",e,[new r.default("Representation",e,[new r.default("SubRepresentation",e)])]);throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(r.default);n.default=e,t.exports=n.default},{219:219}],221:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(219),r=(e=e)&&e.__esModule?e:{default:e},e=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e;if(this instanceof n)return e=["SegmentBase","SegmentTemplate","SegmentList"],function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,"Period",e,[new r.default("AdaptationSet",e,[new r.default("Representation",e)])]);throw new TypeError("Cannot call a class as a function")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(r.default);n.default=e,t.exports=n.default},{219:219}],222:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this._test=e,this._converter=t}Object.defineProperty(n,"__esModule",{value:!0}),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(i,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),n.default=i,t.exports=n.default},{}],223:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(222),e=(e=e)&&e.__esModule?e:{default:e},r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,e=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");!function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,function(e){return r.test(e.value)},function(e){var t,e=r.exec(e),n=void 0,n=Date.UTC(parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10),parseInt(e[4],10),parseInt(e[5],10),e[6]&&parseInt(e[6],10)||0,e[7]&&1e3*parseFloat(e[7])||0);return e[9]&&e[10]&&(t=60*parseInt(e[9],10)+parseInt(e[10],10),n+=("+"===e[8]?-1:1)*t*60*1e3),new Date(n)})}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(e.default);n.default=e,t.exports=n.default},{222:222}],224:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(222),e=(e=e)&&e.__esModule?e:{default:e},i=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,e=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");!function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,function(e){for(var t=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return i.test(e.value);return!1},function(e){var e=i.exec(e),t=31536e3*parseFloat(e[2]||0)+2592e3*parseFloat(e[4]||0)+86400*parseFloat(e[6]||0)+3600*parseFloat(e[8]||0)+60*parseFloat(e[10]||0)+parseFloat(e[12]||0);return t=void 0!==e[1]?-t:t})}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(e.default);n.default=e,t.exports=n.default},{222:222}],225:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(222),e=(e=e)&&e.__esModule?e:{default:e},r=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,e=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");!function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,function(e){return r.test(e.value)},function(e){return parseFloat(e)})}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(e.default);n.default=e,t.exports=n.default},{222:222}],226:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){var p=void 0;return{getSamplesInfo:function(e){for(var t,n,r,i=(e=p.parse(e)).getBox("tfhd"),o=e.getBox("tfdt"),a=e.getBox("trun"),s=e.getBox("moof"),e=e.getBox("mfhd").sequence_number,u=a.sample_count,l=o.baseMediaDecodeTime,c=(i.base_data_offset||0)+(a.data_offset||0),f=[],d=0;d<u;d++)t=void 0!==(r=a.samples[d]).sample_duration?r.sample_duration:i.default_sample_duration,n=void 0!==r.sample_size?r.sample_size:i.default_sample_size,r=void 0!==r.sample_composition_time_offset?r.sample_composition_time_offset:0,f.push({dts:l,cts:l+r,duration:t,offset:s.offset+c,size:n}),c+=n,l+=t;return{sampleList:f,sequenceNumber:e,totalDuration:l-o.baseMediaDecodeTime}},getMediaTimescaleFromMoov:function(e){return(e=p.parse(e).getBox("mdhd"))?e.timescale:NaN},setConfig:function(e){e&&e.boxParser&&(p=e.boxParser)}}}r.__dashjs_factory_name="FragmentedTextBoxParser",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],227:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(204),r=(r=r)&&r.__esModule?r:{default:r},h=e(229);function i(e,d){var p=e.timelineConverter;return{getSegments:function(e,t,n,r){for(var i,o,a=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,s=a.SegmentURL_asArray.length,u=[],l=e.startNumber,t=(0,h.decideSegmentListRangeForTemplate)(p,d,e,t,n,r),n=Math.max(t.start,0),c=Math.min(t.end,a.SegmentURL_asArray.length-1),f=n;f<=c;f++)o=a.SegmentURL_asArray[f],(i=(0,h.getIndexBasedSegment)(p,d,e,f)).replacementTime=(l+f-1)*e.segmentDuration,i.media=o.media||"",i.mediaRange=o.mediaRange,i.index=o.index,i.indexRange=o.indexRange,u.push(i),i=null;return e.availableSegmentsNumber=s,u}}}i.__dashjs_factory_name="ListSegmentsGetter";e=r.default.getClassFactory(i);n.default=e,t.exports=n.default},{204:204,229:229}],228:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),o=r(e(232)),a=r(e(230)),c=r(e(227));function s(e,t){var n,r=this.context,s=void 0,u=void 0,l=void 0;return n={getSegments:function(e,t,n,r,i){var o,a=e.segmentInfoType;return"SegmentBase"!==a&&"BaseURL"!==a&&function(e,t){var n,e=e.segments,r=!1;r=!e||0===e.length||(n=e[0].availabilityIdx,e=e[e.length-1].availabilityIdx,t<n)||e<t;return r}(e,n)?("SegmentTimeline"===a?o=s.getSegments(e,t,n,i):"SegmentTemplate"===a?o=u.getSegments(e,t,n,i):"SegmentList"===a&&(o=l.getSegments(e,t,n,i)),r&&r(e,o)):o=e.segments,o}},s=(0,o.default)(r).create(e,t),u=(0,a.default)(r).create(e,t),l=(0,c.default)(r).create(e,t),n}s.__dashjs_factory_name="SegmentsGetter";e=i.default.getClassFactory(s);n.default=e,t.exports=n.default},{204:204,227:227,230:230,232:232}],229:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.replaceTokenForTemplate=h,n.getIndexBasedSegment=function(e,t,n,r){var i,o,a,s;o=n.segmentDuration,isNaN(o)&&(o=n.adaptation.period.duration);return a=n.adaptation.period.start+r*o,s=a+o,(i=new d.default).representation=n,i.duration=o,i.presentationStartTime=a,i.mediaStartTime=e.calcMediaTimeFromPresentationTime(i.presentationStartTime,n),i.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(i.presentationStartTime,n.adaptation.period.mpd,t),i.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(s,n.adaptation.period.mpd,t),i.wallStartTime=e.calcWallTimeForSegment(i,t),i.replacementNumber=p(i,r),i.availabilityIdx=r,i},n.getTimeBasedSegment=function(e,t,n,r,i,o,a,s,u){var l,c,f=r/o,i=Math.min(i/o,n.adaptation.period.mpd.maxSegmentDuration);return o=e.calcPresentationTimeFromMediaTime(f,n),l=o+i,(c=new d.default).representation=n,c.duration=i,c.mediaStartTime=f,c.presentationStartTime=o,c.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,c.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(l,n.adaptation.period.mpd,t),c.wallStartTime=e.calcWallTimeForSegment(c,t),c.replacementTime=r,c.replacementNumber=p(c,u),a=h(a,"Number",c.replacementNumber),a=h(a,"Time",c.replacementTime),c.media=a,c.mediaRange=s,c.availabilityIdx=u,c},n.getSegmentByIndex=g,n.decideSegmentListRangeForTimeline=function(e,t,n,r,i){var o,i=i||10,a=Number.POSITIVE_INFINITY;if(t&&!e.isTimeSyncCompleted())o={start:0,end:a};else{if(!t&&n||r<0)return null;e=Math.max(r-2,0),t=Math.min(r+i,a),o={start:e,end:t}}return o},n.decideSegmentListRangeForTemplate=function(e,t,n,r,i,o){var a,s=n.segmentDuration,u=n.adaptation.period.mpd.manifest.minBufferTime,l=n.segmentAvailabilityRange,l={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,l.start),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,l.end)},c=n.segments,f=2*s,o=o||Math.max(2*u,10*s),u=NaN,d=null;return l.start=Math.max(l.start,0),d=(c=t&&!e.isTimeSyncCompleted()?(a=Math.floor(l.start/s),Math.floor(l.end/s)):(u=c&&0<c.length?(d=g(i,n))?e.calcPeriodRelativeTimeFromMpdRelativeTime(n,d.presentationStartTime):0<i?i*s:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,r):0<i?i*s:t?l.end:l.start,a=Math.floor(Math.max(u-f,l.start)/s),Math.floor(Math.min(a+o/s,l.end/s))),{start:a,end:c}),d};var n=e(240),d=(e=n)&&e.__esModule?e:{default:e};function f(e,t){for(;e.length<t;)e="0"+e;return e}function p(e,t){return e.representation.startNumber+t}function h(e,t,n){for(var r,i,o,a,s,u,l=t.length,c="%0".length;;){if((r=e.indexOf("$"+t))<0)return e;if((i=e.indexOf("$",r+l))<0)return e;if(r<(o=e.indexOf("%0",r+l))&&o<i)switch(a=e.charAt(i-1),s=parseInt(e.substring(o+c,i-1),10),a){case"d":case"i":case"u":u=f(n.toString(),s);break;case"x":u=f(n.toString(16),s);break;case"X":u=f(n.toString(16),s).toUpperCase();break;case"o":u=f(n.toString(8),s);break;default:return e}else u=n;e=e.substring(0,r)+u+e.substring(i+1)}}function g(e,t){if(t&&t.segments){var n,r,i=t.segments.length;if(e<i&&(n=t.segments[e])&&n.availabilityIdx===e)return n;for(r=0;r<i;r++)if((n=t.segments[r])&&n.availabilityIdx===e)return n}return null}},{240:240}],230:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(204),r=(r=r)&&r.__esModule?r:{default:r},g=e(229);function i(e,p){var h=e.timelineConverter;return{getSegments:function(e,t,n,r){for(var i,o=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,a=e.segmentDuration,s=e.segmentAvailabilityRange,u=[],l=null,c=e.startNumber,n=(t=isNaN(a)&&!p?{start:c,end:c}:(0,g.decideSegmentListRangeForTemplate)(h,p,e,t,n,r)).start,f=t.end,d=n;d<=f;d++)(l=(0,g.getIndexBasedSegment)(h,p,e,d)).replacementTime=(c+d-1)*e.segmentDuration,i=o.media,i=(0,g.replaceTokenForTemplate)(i,"Number",l.replacementNumber),i=(0,g.replaceTokenForTemplate)(i,"Time",l.replacementTime),l.media=i,u.push(l),l=null;return isNaN(a)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((s.end-s.start)/a),u}}}i.__dashjs_factory_name="TemplateSegmentsGetter";e=r.default.getClassFactory(i);n.default=e,t.exports=n.default},{204:204,229:229}],231:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var l=r(e(203)),c=r(e(207)),e=r(e(204));function i(){var e=this.context,t=(0,l.default)(e).getInstance(),i=void 0,a=void 0,n=void 0;function r(e,t,n,r){return r?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-i)):t.availabilityStartTime}function s(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*i)/1e3}function o(e){a||e.error||(i+=e.liveEdge-(n+e.searchTime),a=!0)}function u(e){a||e.error||(i=e.offset/1e3,a=!0)}return{initialize:function(){i=0,a=!1,n=NaN,t.on(c.default.LIVE_EDGE_SEARCH_COMPLETED,o,this),t.on(c.default.TIME_SYNCHRONIZATION_COMPLETED,u,this)},isTimeSyncCompleted:function(){return a},setTimeSyncCompleted:function(e){a=e},getClientTimeOffset:function(){return i},getExpectedLiveEdge:function(){return n},setExpectedLiveEdge:function(e){n=e},calcAvailabilityStartTimeFromPresentationTime:function(e,t,n){return r.call(this,e,t,n)},calcAvailabilityEndTimeFromPresentationTime:function(e,t,n){return r.call(this,e,t,n,!0)},calcPresentationTimeFromWallTime:s,calcPresentationTimeFromMediaTime:function(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)},calcPeriodRelativeTimeFromMpdRelativeTime:function(e,t){return t-e.adaptation.period.start},calcMpdRelativeTimeFromPeriodRelativeTime:function(e,t){return t+e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset},calcSegmentAvailabilityRange:function(e,t){var n={start:o=e.adaptation.period.start,end:o+e.adaptation.period.duration},r=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0);if(t){if(!a&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var t=e.adaptation.period.mpd.checkTime,i=s(new Date,e.adaptation.period),o=Math.max(i-e.adaptation.period.mpd.timeShiftBufferDepth,e.adaptation.period.start),t=isNaN(t)?i:Math.min(t,i),i=e.adaptation.period.start+e.adaptation.period.duration,n={start:o,end:(i<=t&&t-r<i?i:t)-r}}return n},calcWallTimeForSegment:function(e,t){var n;return t&&(t=e.representation.adaptation.period.mpd.suggestedPresentationDelay,t=e.presentationStartTime+t,n=new Date(e.availabilityStartTime.getTime()+1e3*t)),n},calcMSETimeOffset:function(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t},reset:function(){t.off(c.default.LIVE_EDGE_SEARCH_COMPLETED,o,this),t.off(c.default.TIME_SYNCHRONIZATION_COMPLETED,u,this),i=0,a=!1,n=NaN}}}i.__dashjs_factory_name="TimelineConverter",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{203:203,204:204,207:207}],232:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(204),r=(r=r)&&r.__esModule?r:{default:r},D=e(229);function i(e,I){var P=e.timelineConverter;return{getSegments:function(i,e,t,n){function r(e,t){var n=d.media,r=e.mediaRange;return h&&(n=h[t].media||"",r=h[t].mediaRange),(0,D.getTimeBasedSegment)(P,I,i,m,e.d,T,n,r,v)}var o,a,s,u,l,c,f,d=i.adaptation.period.mpd.manifest.Period_asArray[i.adaptation.period.index].AdaptationSet_asArray[i.adaptation.index].Representation_asArray[i.index].SegmentTemplate||i.adaptation.period.mpd.manifest.Period_asArray[i.adaptation.period.index].AdaptationSet_asArray[i.adaptation.index].Representation_asArray[i.index].SegmentList,p=d.SegmentTimeline,h=d.SegmentURL_asArray,g=0<i.availableSegmentsNumber,m=0,y=0,v=-1,_=[],b=!1,T=i.timescale,w=p.S_asArray,E=(0,D.decideSegmentListRangeForTimeline)(P,I,e,t,n);for(E?(c=E.start,f=E.end):l=P.calcMediaTimeFromPresentationTime(e||0,i),o=0,a=w.length;o<a;o++){var x,S,O,A=0;if((O=w[o]).hasOwnProperty("r")&&(A=O.r),O.hasOwnProperty("t")&&(y=(m=O.t)/T),A<0&&((S=w[o+1])&&S.hasOwnProperty("t")?x=S.t/T:(S=(i.segmentAvailabilityRange||P.calcSegmentAvailabilityRange(i,I)).end,x=P.calcMediaTimeFromPresentationTime(S,i),i.segmentDuration=O.d/T),A=Math.ceil((x-y)/(O.d/T))-1),u){if(g)break;v+=A+1}else for(s=0;s<=A;s++){if(v++,E){if(f<v){if(u=!0,g)break;continue}c<=v&&_.push(r(O,v))}else{if(10<_.length){if(u=!0,g)break;continue}b?_.push(r(O,v)):y>=l-O.d/T*1.5&&(b=!0,_.push(r(O,v)))}y=(m+=O.d)/T}}return g||(i.availableSegmentsNumber=v+1),_}}}i.__dashjs_factory_name="TimelineSegmentsGetter";e=r.default.getClassFactory(i);n.default=e,t.exports=n.default},{204:204,229:229}],233:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.period=null,this.index=-1,this.type=null},t.exports=n.default},{}],234:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function i(e,t,n,r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.url=e||"",this.serviceLocation=t||e||"",this.dvb_priority=n||1,this.dvb_weight=r||1}i.DEFAULT_DVB_PRIORITY=1,i.DEFAULT_DVB_WEIGHT=1,n.default=i,t.exports=n.default},{}],235:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},t.exports=n.default},{}],236:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""},t.exports=n.default},{}],237:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.checkTime=NaN,this.clientServerTimeShift=0,this.isClientServerTimeSyncCompleted=!1},t.exports=n.default},{}],238:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null}r.DEFAULT_ID="defaultId",n.default=r,t.exports=n.default},{}],239:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.maxPlayoutRate=NaN},t.exports=n.default},{}],240:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null},t.exports=n.default},{}],241:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.schemeIdUri="",this.value=""},t.exports=n.default},{}],242:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=r(e(252)),u=r(e(359)),l=r(e(357)),c=r(e(203)),f=r(e(207)),e=r(e(204));function i(e){var t=this.context,i=(0,c.default)(t).getInstance(),o=void 0,a=void 0;return o={checkForExistence:function(t){function e(e){i.trigger(f.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:t,exists:e})}var n;t?(n=new u.default(t.url),a.load({request:n,success:function(){e(!0)},error:function(){e(!1)}})):e(!1)},load:function(n){function r(e,t){i.trigger(f.default.LOADING_COMPLETED,{request:n,response:e||null,error:t||null,sender:o})}n?a.load({request:n,progress:function(){i.trigger(f.default.LOADING_PROGRESS,{request:n})},success:function(e){r(e)},error:function(e,t,n){r(void 0,new l.default(1,n,t))}}):r(void 0,new l.default(2,"request is null"))},abort:function(){a&&a.abort()},reset:function(){a&&(a.abort(),a=null)}},a=(0,s.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),o}i.__dashjs_factory_name="FragmentLoader";e=e.default.getClassFactory(i);e.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=1,e.FRAGMENT_LOADER_ERROR_NULL_REQUEST=2,n.default=e,t.exports=n.default},{203:203,204:204,207:207,252:252,357:357,359:359}],243:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(268)),c=r(e(252)),f=r(e(353)),d=r(e(365)),p=r(e(357)),h=e(374),g=r(e(203)),m=r(e(207)),e=r(e(204));function i(e){var t=this.context,a=(0,g.default)(t).getInstance(),s=(0,f.default)(t).getInstance(),u=e.parser,n=void 0,r=void 0,l=void 0;function i(e){a.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}return n={load:function(o){var e=new d.default(o,h.HTTPRequest.MPD_TYPE);r.load({request:e,success:function(e,t,n){n.responseURL&&n.responseURL!==o?(i=s.parseBaseUrl(n.responseURL),r=n.responseURL):(s.isRelative(o)&&(o=s.parseBaseUrl(window.location.href)+o),i=s.parseBaseUrl(o));var r,i,n=u.parse(e,l);n?(n.url=r||o,n.originalUrl||(n.originalUrl=n.url),n.baseUri=i,n.loadedTime=new Date,l.resolveManifestOnLoad(n)):a.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new p.default(1,"parsing failed")})},error:function(e,t,n){a.trigger(m.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new p.default(2,"Failed loading manifest: "+o+", "+n)})}})},reset:function(){a.off(m.default.XLINK_READY,i,n),l&&(l.reset(),l=null),r&&(r.abort(),r=null)}},a.on(m.default.XLINK_READY,i,n),r=(0,c.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),l=(0,o.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),n}i.__dashjs_factory_name="ManifestLoader";e=e.default.getClassFactory(i);e.MANIFEST_LOADER_ERROR_PARSING_FAILURE=1,e.MANIFEST_LOADER_ERROR_LOADING_FAILURE=2,n.default=e,t.exports=n.default},{203:203,204:204,207:207,252:252,268:268,353:353,357:357,365:365,374:374}],244:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var v=r(e(203)),_=r(e(207)),i=r(e(204)),b=r(e(202));function o(){var e=this.context,r=(0,b.default)(e).getInstance().log,i=(0,v.default)(e).getInstance(),o=void 0,t=void 0,a=void 0,n=void 0,s=void 0,u=void 0,l=void 0;function c(){null!==t&&(clearInterval(t),t=null)}function f(){c(),isNaN(o)||(r("Refresh manifest in "+o+" seconds."),t=setTimeout(p,Math.min(1e3*o,Math.pow(2,31)-1),this))}function d(e){var t,n=new Date;u.setValue(e),r("Manifest has been refreshed at "+n+"["+n.getTime()/1e3+"] "),n=l.getRefreshDelay(e),t=((new Date).getTime()-e.loadedTime.getTime())/1e3,o=Math.max(n-t,0),i.trigger(_.default.MANIFEST_UPDATED,{manifest:e}),a||f()}function p(){var e,t;a||n||(n=!0,e=(t=u.getValue()).url,t=l.getLocation(t),s.load(e=t?t:e))}function h(e){e.error||d(e.manifest)}function g(){a=!1,f()}function m(){a=!0,c()}function y(){n=!1}return{initialize:function(e){s=e,o=NaN,t=null,a=!(n=!1),i.on(_.default.STREAMS_COMPOSED,y,this),i.on(_.default.PLAYBACK_STARTED,g,this),i.on(_.default.PLAYBACK_PAUSED,m,this),i.on(_.default.INTERNAL_MANIFEST_LOADED,h,this)},setManifest:function(e){d(e)},getManifestLoader:function(){return s},setConfig:function(e){e&&(e.manifestModel&&(u=e.manifestModel),e.dashManifestModel)&&(l=e.dashManifestModel)},reset:function(){i.off(_.default.PLAYBACK_STARTED,g,this),i.off(_.default.PLAYBACK_PAUSED,m,this),i.off(_.default.STREAMS_COMPOSED,y,this),i.off(_.default.INTERNAL_MANIFEST_LOADED,h,this),n=!(a=!0),c(),o=NaN}}}o.__dashjs_factory_name="ManifestUpdater",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{202:202,203:203,204:204,207:207}],245:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var J=r(e(241)),ee=r(e(262)),te=r(e(265)),ne=r(e(260)),re=r(e(243)),ie=r(e(349)),oe=r(e(346)),ae=r(e(342)),se=r(e(251)),ue=r(e(264)),le=r(e(351)),ce=r(e(250)),fe=r(e(297)),de=r(e(294)),pe=r(e(295)),he=r(e(296)),ge=r(e(254)),me=r(e(267)),ye=r(e(325)),ve=r(e(298)),_e=r(e(323)),be=r(e(339)),Te=r(e(261)),we=r(e(255)),Ee=r(e(202)),xe=r(e(203)),Se=r(e(207)),Oe=r(e(246)),Ae=r(e(204)),Ie=e(205),Pe=r(e(209)),De=r(e(217)),Re=r(e(216)),Ce=r(e(211)),Me=r(e(231));function i(){var e,a="You must first call play() to init playback before calling this method",t="You must first call attachView() to set the video element before calling this method",F="You must first call attachSource() with a valid source before calling this method",n="MediaPlayer not initialized!",s=this.context,o=(0,xe.default)(s).getInstance(),r=(0,Ee.default)(s).getInstance(),i=r.log,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,w=void 0,E=void 0,x=void 0,S=void 0,O=void 0,A=void 0,I=void 0;function k(){return!!A&&!!u}function U(){if(f)return x.isPaused();throw a}function j(e){var t=L();return t?(e=t.range.start+e)>t.range.end?t.range.end:e:0}function P(e){var t;if(f)return t=C().currentTime,void 0!==e?t=w.getTimeRelativeToStreamId(t,e):x.getIsDynamic()&&(t=null===(e=L())?0:D()-(e.range.end-e.time)),t;throw a}function D(){if(!f)throw a;var e=C().duration;if(x.getIsDynamic()){var t,n=L();if(!n)return 0;e=(t=n.range.end-n.range.start)<n.manifestInfo.DVRWindowSize?t:n.manifestInfo.DVRWindowSize}return e}function B(){return(0,Ie.getVersionString)()}function $(e){d=e}function V(){return S}function R(e){return v.getReadOnlyMetricsFor(e)}function G(e){var t;if(f)return(t=w.getActiveStreamInfo())?h.getTracksFor(e,t):[];throw a}function z(e,t){H(e,t);var n=new J.default;n.schemeIdUri=e,n.value=t,_.getUTCTimingSources().push(n)}function H(n,r){var i=_.getUTCTimingSources();i.forEach(function(e,t){e.schemeIdUri===n&&e.value===r&&i.splice(t,1)})}function q(){z(pe.default.DEFAULT_UTC_TIMING_SOURCE.scheme,pe.default.DEFAULT_UTC_TIMING_SOURCE.value)}function C(){if(A)return A.getElement();throw t}function M(e){if(!c)throw n;A=null,e&&((A=(0,ve.default)(s).getInstance()).initialize(),A.setElement(e),Y(),function(){if(!m){var e=dashjs.MetricsReporting;if("function"!=typeof e)return;e=e(s).create();m=e.createMetricsReporting({log:i,eventBus:o,mediaElement:C(),dashManifestModel:O,metricsModel:v})}}()),K()}function N(e){if(!c)throw n;var t;u="string"==typeof e?((t=(0,fe.default)(s).getInstance()).initialize(),t.parseURI(e)):e,K()}function K(){f&&(f=!1,y.reset(),w.reset(),x.reset(),p.reset(),E.reset(),h.reset(),m=w=null),k()&&Z()}function W(){return(0,re.default)(s).create({errHandler:b,parser:(0,De.default)(s).create(),metricsModel:v,requestModifier:(0,le.default)(s).getInstance()})}function Y(){var e,t;return g||("function"==typeof(e=dashjs.Protection)?(t=e(s).create(),Se.default.extend(e.events),Oe.default.extend(e.events,{publicOnly:!0}),g=t.createProtectionSystem({log:i,videoModel:A,capabilities:T,eventBus:o,adapter:y})):null)}function L(){var e=v.getReadOnlyMetricsFor("video")||v.getReadOnlyMetricsFor("audio");return S.getCurrentDVRInfo(e)}function X(e){var t=L();return t?e+(t.manifestInfo.availableFrom.getTime()/1e3+t.range.start):0}function Q(){var e;if(f)return(e=w.getActiveStreamInfo())?w.getStreamById(e.id):null;throw a}function Z(){var e,t;f||(f=!0,i("Playback Initialized"),(e=(0,be.default)(s).getInstance()).initialize(),(t=(0,ye.default)(s).getInstance()).initialize(),(0,ue.default)(s).getInstance().setConfig({dashManifestModel:O}),h.initialize(),h.setConfig({errHandler:b}),(E=(0,_e.default)(s).getInstance()).initialize(),E.setConfig({abrRulesCollection:t,synchronizationRulesCollection:e}),(w=(0,te.default)(s).getInstance()).setConfig({capabilities:T,manifestLoader:W(),manifestModel:(0,de.default)(s).getInstance(),dashManifestModel:O,protectionController:g,adapter:y,metricsModel:v,dashMetrics:S,liveEdgeFinder:(0,ie.default)(s).getInstance(),mediaSourceController:(0,Te.default)(s).getInstance(),timeSyncController:(0,me.default)(s).getInstance(),baseURLController:(0,we.default)(s).getInstance(),errHandler:b,timelineConverter:(0,Me.default)(s).getInstance()}),w.initialize(d,l),p.setConfig({abrRulesCollection:t,rulesController:E,streamController:w}),"string"==typeof u?w.load(u):w.loadWithManifest(u))}return d=!(f=c=!(e={initialize:function(e,t,n){T=(0,ae.default)(s).getInstance(),b=(0,oe.default)(s).getInstance(),T.supportsMediaSource()?c||(c=!0,p=(0,ge.default)(s).getInstance(),x=(0,ee.default)(s).getInstance(),(h=(0,ne.default)(s).getInstance()).initialize(),O=(0,Re.default)(s).getInstance(),S=(0,Ce.default)(s).getInstance(),(v=(0,he.default)(s).getInstance()).setConfig({adapter:((y=(0,Pe.default)(s).getInstance()).initialize(),y.setConfig({dashManifestModel:O}),y)}),q(),$(void 0===n||n),e&&M(e),t&&N(t),i("[dash.js "+B()+"] MediaPlayer has been initialized")):b.capabilityError("mediasource")},on:function(e,t,n){o.on(e,t,n)},off:function(e,t,n){o.off(e,t,n)},extend:function(e,t,n){Ae.default.extend(e,t,n,s)},attachView:M,attachSource:N,isReady:k,play:function(){if(!f)throw a;(!d||U()&&f)&&x.play()},isPaused:U,pause:function(){if(!f)throw a;x.pause()},isSeeking:function(){if(f)return x.isSeeking();throw a},seek:function(e){if(!f)throw a;e=x.getIsDynamic()?j(e):e,x.seek(e)},setMute:function(e){if(!A)throw t;C().muted=e},isMuted:function(){if(A)return C().muted;throw t},setVolume:function(e){if(!A)throw t;C().volume=e},getVolume:function(){if(A)return C().volume;throw t},setAbrAlgorithm:function(e){p.setAbrAlgorithm(e)},time:P,duration:D,timeAsUTC:function(){if(f)return P()<0?NaN:X(P());throw a},durationAsUTC:function(){if(f)return X(D());throw a},getActiveStream:Q,getDVRWindowSize:function(){var e=L();return e?e.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:j,convertToTimeCode:function(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),e=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(e<10?"0"+e.toString():e.toString())},formatUTC:function(e,t,n){var r=(e=new Date(1e3*e)).toLocaleDateString(t);return e.toLocaleTimeString(t,{hour12:n})+" "+r},getVersion:B,getDebug:function(){return r},getBufferLength:function(e){var t=["video","audio","fragmentedText"];return e?-1!==t.indexOf(e)?S.getCurrentBufferLevel(R(e))||NaN:(i("Warning  - getBufferLength requested for invalid type"),NaN):t.map(function(e){return 0<G(e).length?S.getCurrentBufferLevel(R(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)})},getVideoModel:function(){if(A)return A;throw t},getVideoContainer:function(){return A?A.getVideoContainer():null},getTTMLRenderingDiv:function(){return A?A.getTTMLRenderingDiv():null},getVideoElement:C,getSource:function(){if(u)return u;throw F},setLiveDelayFragmentCount:function(e){_.setLiveDelayFragmentCount(e)},setLiveDelay:function(e){_.setLiveDelay(e)},useSuggestedPresentationDelay:function(e){_.setUseSuggestedPresentationDelay(e)},enableLastBitrateCaching:function(e,t){_.setLastBitrateCachingInfo(e,t)},enableLastMediaSettingsCaching:function(e,t){_.setLastMediaSettingsCachingInfo(e,t)},setMaxAllowedBitrateFor:function(e,t){p.setMaxAllowedBitrateFor(e,t)},getMaxAllowedBitrateFor:function(e){return p.getMaxAllowedBitrateFor(e)},setMaxAllowedRepresentationRatioFor:function(e,t){p.setMaxAllowedRepresentationRatioFor(e,t)},getMaxAllowedRepresentationRatioFor:function(e){return p.getMaxAllowedRepresentationRatioFor(e)},setAutoPlay:$,getAutoPlay:function(){return d},setScheduleWhilePaused:function(e){_.setScheduleWhilePaused(e)},getScheduleWhilePaused:function(){return _.getScheduleWhilePaused()},getDashMetrics:V,getMetricsFor:R,getQualityFor:function(e){if(f)return p.getQualityFor(e,w.getActiveStreamInfo());throw a},setQualityFor:function(e,t){if(!f)throw a;p.setPlaybackQuality(e,w.getActiveStreamInfo(),t)},getLimitBitrateByPortal:function(){return p.getLimitBitrateByPortal()},setLimitBitrateByPortal:function(e){p.setLimitBitrateByPortal(e)},getUsePixelRatioInLimitBitrateByPortal:function(){return p.getUsePixelRatioInLimitBitrateByPortal()},setUsePixelRatioInLimitBitrateByPortal:function(e){p.setUsePixelRatioInLimitBitrateByPortal(e)},setTextTrack:function(e){if(!f)throw a;void 0===I&&(I=(0,ce.default)(s).getInstance());for(var t=C().textTracks,n=t.length,r=0;r<n;r++){var i=t[r],o=e===r?"showing":"hidden";i.mode!==o&&(i.mode=o)}I.setTextTrack()},getBitrateInfoListFor:function(e){var t;if(f)return(t=Q())?t.getBitrateListFor(e):[];throw a},setInitialBitrateFor:function(e,t){p.setInitialBitrateFor(e,t)},getInitialBitrateFor:function(e){if(f)return p.getInitialBitrateFor(e);throw a},setInitialRepresentationRatioFor:function(e,t){p.setInitialRepresentationRatioFor(e,t)},getInitialRepresentationRatioFor:function(e){return p.getInitialRepresentationRatioFor(e)},getStreamsFromManifest:function(e){if(f)return y.getStreamsInfo(e);throw a},getTracksFor:G,getTracksForTypeFromManifest:function(e,t,n){if(f)return(n=n||y.getStreamsInfo(t)[0])?y.getAllMediaInfoForType(t,n,e):[];throw a},getCurrentTrackFor:function(e){var t;if(f)return(t=w.getActiveStreamInfo())?h.getCurrentTrackFor(e,t):null;throw a},setInitialMediaSettingsFor:function(e,t){h.setInitialSettings(e,t)},getInitialMediaSettingsFor:function(e){return h.getInitialSettings(e)},setCurrentTrack:function(e){if(!f)throw a;h.setTrack(e)},getTrackSwitchModeFor:function(e){return h.getSwitchMode(e)},setTrackSwitchModeFor:function(e,t){h.setSwitchMode(e,t)},setSelectionModeForInitialTrack:function(e){h.setSelectionModeForInitialTrack(e)},getSelectionModeForInitialTrack:function(){return h.getSelectionModeForInitialTrack()},getAutoSwitchQuality:function(){return p.getAutoSwitchBitrateFor("video")||p.getAutoSwitchBitrateFor("audio")},setAutoSwitchQuality:function(e){p.setAutoSwitchBitrateFor("video",e),p.setAutoSwitchBitrateFor("audio",e)},setFastSwitchEnabled:function(e){_.setFastSwitchEnabled(e)},getFastSwitchEnabled:function(){return _.getFastSwitchEnabled()},getAutoSwitchQualityFor:function(e){return p.getAutoSwitchBitrateFor(e)},setAutoSwitchQualityFor:function(e,t){p.setAutoSwitchBitrateFor(e,t)},enableBufferOccupancyABR:function(e){_.setBufferOccupancyABREnabled(e)},enablerlABR:function(e){_.setrlABREnabled(e)},setBandwidthSafetyFactor:function(e){_.setBandwidthSafetyFactor(e)},getBandwidthSafetyFactor:function(){return _.getBandwidthSafetyFactor()},setAbandonLoadTimeout:function(e){_.setAbandonLoadTimeout(e)},retrieveManifest:function(e,n){var r=W(),i=this,t=(o.on(Se.default.INTERNAL_MANIFEST_LOADED,function e(t){t.error?n(null,t.error):n(t.manifest),o.off(Se.default.INTERNAL_MANIFEST_LOADED,e,i),r.reset()},i),(0,fe.default)(s).getInstance());t.initialize(),r.load(t.parseURI(e))},addUTCTimingSource:z,removeUTCTimingSource:H,clearDefaultUTCTimingSources:function(){_.setUTCTimingSources([])},restoreDefaultUTCTimingSources:q,setBufferToKeep:function(e){_.setBufferToKeep(e)},setBufferPruningInterval:function(e){_.setBufferPruningInterval(e)},setStableBufferTime:function(e){_.setStableBufferTime(e)},setBufferTimeAtTopQuality:function(e){_.setBufferTimeAtTopQuality(e)},setFragmentLoaderRetryAttempts:function(e){_.setFragmentRetryAttempts(e)},setFragmentLoaderRetryInterval:function(e){_.setFragmentRetryInterval(e)},setXHRWithCredentials:function(e){_.setXHRWithCredentials(e)},setBufferTimeAtTopQualityLongForm:function(e){_.setBufferTimeAtTopQualityLongForm(e)},setLongFormContentDurationThreshold:function(e){_.setLongFormContentDurationThreshold(e)},setRichBufferThreshold:function(e){_.setRichBufferThreshold(e)},getProtectionController:Y,attachProtectionController:function(e){g=e},setProtectionData:function(e){l=e},enableManifestDateHeaderTimeSource:function(e){_.setUseManifestDateHeaderTimeSource(e)},displayCaptionsOnTop:function(e){var t=(0,se.default)(s).getInstance();t.setConfig({videoModel:A}),t.initialize(),t.displayCConTop(e)},attachVideoContainer:function(e){if(!A)throw t;A.setVideoContainer(e)},attachTTMLRenderingDiv:function(e){if(!A)throw t;A.setTTMLRenderingDiv(e)},reset:function(){N(null),M(null),g=l=null}})),y=l=g=null,Se.default.extend(Oe.default),_=(0,pe.default)(s).getInstance(),e}i.__dashjs_factory_name="MediaPlayer";e=Ae.default.getClassFactory(i);e.events=Oe.default,n.default=e,t.exports=n.default},{202:202,203:203,204:204,205:205,207:207,209:209,211:211,216:216,217:217,231:231,241:241,243:243,246:246,250:250,251:251,254:254,255:255,260:260,261:261,262:262,264:264,265:265,267:267,294:294,295:295,296:296,297:297,298:298,323:323,325:325,339:339,342:342,346:346,349:349,351:351}],246:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(208),e=new(function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");!function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.BUFFER_EMPTY="bufferstalled",this.BUFFER_LOADED="bufferloaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.LOG="log",this.MANIFEST_LOADED="manifestloaded",this.METRICS_CHANGED="metricschanged",this.METRIC_CHANGED="metricchanged",this.METRIC_ADDED="metricadded",this.METRIC_UPDATED="metricupdated",this.PERIOD_SWITCH_COMPLETED="streamswitchcompleted",this.PERIOD_SWITCH_STARTED="streamswitchstarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.STREAM_INITIALIZED="streaminitialized",this.TEXT_TRACKS_ADDED="alltexttracksadded",this.TEXT_TRACK_ADDED="texttrackadded",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(((e=e)&&e.__esModule?e:{default:e}).default));n.default=e,t.exports=n.default},{208:208}],247:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(245),i=(e=e)&&e.__esModule?e:{default:e};s="application/dash+xml";var s,r={create:u,createAll:function(e,t){for(var n=[],r=(e=e||"[data-dashjs-player]",(t=t||document).querySelectorAll(e)),i=0;i<r.length;i++){var o=u(r[i],null);n.push(o)}for(var a=t.querySelectorAll('source[type="'+s+'"]'),i=0;i<a.length;i++){o=u(function(e){var t=!0;for(;t;){var n=e;if(t=!1,"video"===n.nodeName.toLowerCase())return n;e=n.parentNode,t=!0}}(a[i]),null);n.push(o)}return n}};function u(e,t,n){if(!e||"VIDEO"!==e.nodeName)return null;if(e._dashjs_player)return e._dashjs_player;var r=e.id||e.name||"video element";if(!(t=t||[].slice.call(e.querySelectorAll("source")).filter(function(e){return e.type==s})[0])&&e.src)(t=document.createElement("source")).src=e.src;else if(!t&&!e.src)return null;return(n=(0,i.default)(n=n||{}).create()).initialize(e,t.src,e.autoplay),n.getDebug().log("Converted "+r+" to dash.js player and added content: "+t.src),e._dashjs_player=n}window&&window.dashjs&&window.dashjs.skipAutoCreate||!window||!window.addEventListener||("complete"===window.document.readyState?r.createAll():window.addEventListener("load",function e(){window.removeEventListener("load",e),r.createAll()})),n.default=r,t.exports=n.default},{245:245}],248:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var B=r(e(349)),$=r(e(249)),V=r(e(260)),G=r(e(258)),z=r(e(259)),H=r(e(254)),q=r(e(298)),K=r(e(296)),W=r(e(262)),Y=r(e(210)),X=r(e(212)),Q=r(e(213)),Z=r(e(211)),J=r(e(203)),ee=r(e(207)),te=r(e(202)),i=r(e(204)),ne=r(e(250));function o(e){var F=1,l=this.context,s=(0,te.default)(l).getInstance().log,i=(0,J.default)(l).getInstance(),c=e.manifestModel,r=e.manifestUpdater,f=e.adapter,u=e.capabilities,d=e.errHandler,p=e.timelineConverter,h=e.baseURLController,g=void 0,m=void 0,a=void 0,o=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,w=void 0,E=void 0,x=void 0,S=void 0,O=void 0,A=void 0,I=void 0;function t(){for(var e=m.length,t=0;t<e;t++)m[t].reset();o=a=!(m=[]),O&&O.clear(),i.off(ee.default.CURRENT_TRACK_CHANGED,D,g)}function n(){E&&(E.pause(),E=null),S&&(S.reset(),S=null),w.abortSearch(),t(),d=s=u=f=c=r=A=x=null,b=_=!1,v={},i.off(ee.default.DATA_UPDATE_COMPLETED,j,g),i.off(ee.default.BUFFERING_COMPLETED,U,g),i.off(ee.default.KEY_ERROR,P,g),i.off(ee.default.SERVER_CERTIFICATE_UPDATED,P,g),i.off(ee.default.LICENSE_REQUEST_COMPLETE,P,g),i.off(ee.default.KEY_SYSTEM_SELECTED,P,g),i.off(ee.default.KEY_SESSION_CREATED,P,g)}function P(e){e.error&&(d.mediaKeySessionError(e.error),s(e.error),n())}function D(e){var t,n,r,i,o,a,s;e.newMediaInfo.streamInfo.id===y.id&&(t=!!(n=e.oldMediaInfo)&&L().filter(function(e){return e.getType()===n.type})[0])&&(r=E.getTime(),i=t.getBuffer(),e=e.newMediaInfo,o=c.getValue(),a=m.indexOf(t),s=t.getMediaSource(),"fragmentedText"!==e.type?(t.reset(!0),R(e,o,s,{buffer:i,replaceIdx:a,currentTime:r}),E.seek(E.getTime())):t.updateMediaInfo(o,e))}function R(e,t,n,r){var i,o=(0,$.default)(l).create({indexHandler:((i=(0,("webm"===(i=e).mimeType.split("/")[1].toLowerCase()?Q:X).default)(l).getInstance()).setConfig({baseURLController:h,metricsModel:(0,K.default)(l).getInstance()}),i.initialize(),(0,Y.default)(l).create({segmentBaseLoader:i,timelineConverter:p,dashMetrics:(0,Z.default)(l).getInstance(),metricsModel:(0,K.default)(l).getInstance(),baseURLController:h})),timelineConverter:p,adapter:f,manifestModel:c}),a=f.getAllMediaInfoForType(t,y,e.type);if(o.initialize("text"===(i=e).type?i.mimeType:i.type,S,n,g,O),A.updateTopQualityIndex(e),r?(o.setBuffer(r.buffer),o.getIndexHandler().setCurrentTime(r.currentTime),m[r.replaceIdx]=o):m.push(o),"text"===e.type||"fragmentedText"===e.type){for(var s,u=0;u<a.length;u++)a[u].index===e.index&&(s=u),o.updateMediaInfo(t,a[u]);"fragmentedText"===e.type&&o.updateMediaInfo(t,a[s])}else o.updateMediaInfo(t,e)}function C(e,t){var n,r=c.getValue(),i=f.getAllMediaInfoForType(r,y,e);if(i&&0!==i.length){for(var o=0,a=i.length;o<a;o++)n=i[o],"embeddedText"===e?I.addEmbeddedTrack(n):function(e,t){var n,r,i=e.type;if("muxed"!==i||!e){if("text"!==i&&"fragmentedText"!==i&&"embeddedText"!==i)if(n=e.codec,s(i+" codec: "+n),e.contentProtection&&!u.supportsEncryptedMedia())d.capabilityError("encryptedmedia");else if(!u.supportsCodec((0,q.default)(l).getInstance().getElement(),n))return d.manifestError(r=i+"Codec ("+n+") is not supported.","codec",t),s(r),0;return 1}s(r="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),d.manifestError(r,"multiplexedrep",c.getValue())}(n,r)&&x.isMultiTrackSupportedByType(n.type)&&x.addTrack(n,y);"embeddedText"!==e&&0!==x.getTracksFor(e,y).length&&(x.checkInitialMediaSettingsForType(e,y),R(x.getCurrentTrackFor(e,y),r,t))}else s("No "+e+" data.")}function M(){for(var e=m.length,t=!!v.audio||!!v.video?new Error(F,"Data update failed",null):null,n=0;n<e;n++)if(m[n].isUpdating()||_)return;a=b=!0,o&&(T&&T.initialize(c.getValue(),N("audio"),N("video")),i.trigger(ee.default.STREAM_INITIALIZED,{streamInfo:y,error:t}))}function N(e){for(var t=m.length,n=null,r=0;r<t;r++)if((n=m[r]).getType()===e)return n.getMediaInfo();return null}function k(){for(var e=0,t=m.length;e<t;e++)m[e].createBuffer()}function U(e){if(e.streamInfo===y){for(var t=L(),n=t.length,r=0;r<n;r++)if(!t[r].isBufferingCompleted())return;i.trigger(ee.default.STREAM_BUFFERING_COMPLETED,{streamInfo:y})}}function j(e){var t=e.sender.getStreamProcessor();t.getStreamInfo()===y&&(v[t.getType()]=e.error,M())}function L(){for(var e,t,n=m.length,r=[],i=0;i<n;i++)"audio"!==(e=(t=m[i]).getType())&&"video"!==e&&"fragmentedText"!==e||r.push(t);return r}return g={initialize:function(e,t){y=e,(T=t)&&(i.on(ee.default.KEY_ERROR,P,g),i.on(ee.default.SERVER_CERTIFICATE_UPDATED,P,g),i.on(ee.default.LICENSE_REQUEST_COMPLETE,P,g),i.on(ee.default.KEY_SYSTEM_SELECTED,P,g),i.on(ee.default.KEY_SESSION_CREATED,P,g))},activate:function(e){var t,n;a?k():(i.on(ee.default.CURRENT_TRACK_CHANGED,D,g),e=e,t=c.getValue(),(O=(0,G.default)(l).getInstance()).initialize(),O.setConfig({manifestModel:c,manifestUpdater:r}),n=f.getEventsFor(t,y),O.addInlineEvents(n),_=!0,C("video",e),C("audio",e),C("text",e),C("fragmentedText",e),C("embeddedText",e),C("muxed",e),k(),_=!(o=!0),0===m.length?(n="No streams to play.",d.manifestError(n,"nostreams",t),s(n)):(w.initialize(p,m[0]),M()))},deactivate:t,getDuration:function(){return y.duration},getStartTime:function(){return y.start},getStreamIndex:function(){return y.index},getId:function(){return y.id},getStreamInfo:function(){return y},hasMedia:function(e){return null!==N(e)},getBitrateListFor:function(e){return e=N(e),A.getBitrateList(e)},startEventController:function(){O&&O.start()},isActivated:function(){return a},isInitialized:function(){return b},updateData:function(e){s("Manifest updated... updating data system wide.");var t=c.getValue();b=!(_=!(a=!1)),y=e,O&&(e=f.getEventsFor(t,y),O.addInlineEvents(e));for(var n=0,r=m.length;n<r;n++){var i=m[n],o=f.getMediaInfoForType(t,y,i.getType());A.updateTopQualityIndex(o),i.updateMediaInfo(t,o)}_=!1,M()},reset:n,getProcessors:L},o=a=!(m=[]),y=null,w=(b=_=!(v={}),B.default)(l).getInstance(),E=(0,W.default)(l).getInstance(),A=(0,H.default)(l).getInstance(),x=(0,V.default)(l).getInstance(),S=(0,z.default)(l).create(),I=(0,ne.default)(l).getInstance(),i.on(ee.default.BUFFERING_COMPLETED,U,g),i.on(ee.default.DATA_UPDATE_COMPLETED,j,g),g}o.__dashjs_factory_name="Stream",n.default=i.default.getClassFactory(o),t.exports=n.default},{202:202,203:203,204:204,207:207,210:210,211:211,212:212,213:213,249:249,250:250,254:254,258:258,259:259,260:260,262:262,296:296,298:298,349:349}],249:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var T=r(e(254)),w=r(e(257)),E=r(e(265)),x=r(e(260)),S=r(e(266)),O=r(e(263)),A=r(e(323)),I=r(e(295)),P=r(e(296)),D=r(e(242)),R=r(e(351)),C=r(e(264)),M=r(e(250)),N=r(e(216)),L=r(e(211)),F=r(e(215)),k=r(e(346)),e=r(e(204));function i(e){var o=this.context,a=e.indexHandler,s=e.timelineConverter,u=e.adapter,l=e.manifestModel,c=void 0,n=void 0,f=void 0,r=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0;return r=[],{initialize:function(e,t,n,r,i){f=e,p=i,v=t,c=(d=r).getStreamInfo().manifestInfo.isDynamic,a.initialize(this),(h=(0,T.default)(o).getInstance()).initialize(f,this),g=function(e){var t=null;t="video"===e||"audio"===e||"fragmentedText"===e?(0,w.default)(o).create({metricsModel:(0,P.default)(o).getInstance(),manifestModel:l,sourceBufferController:(0,C.default)(o).getInstance(),errHandler:(0,k.default)(o).getInstance(),streamController:(0,E.default)(o).getInstance(),mediaController:(0,x.default)(o).getInstance(),adapter:u,textSourceBuffer:(0,M.default)(o).getInstance()}):(0,S.default)(o).create({errHandler:(0,k.default)(o).getInstance(),sourceBufferController:(0,C.default)(o).getInstance()});return t}(e),m=(0,O.default)(o).create({metricsModel:(0,P.default)(o).getInstance(),manifestModel:l,adapter:u,dashMetrics:(0,L.default)(o).getInstance(),dashManifestModel:(0,N.default)(o).getInstance(),timelineConverter:s,rulesController:(0,A.default)(o).getInstance(),mediaPlayerModel:(0,I.default)(o).getInstance()}),g.initialize(f,n,this),m.initialize(f,this),_=(0,D.default)(o).create({metricsModel:(0,P.default)(o).getInstance(),errHandler:(0,k.default)(o).getInstance(),requestModifier:(0,R.default)(o).getInstance()}),(b=m.getFragmentModel()).setLoader(_),(y=(0,F.default)(o).create()).initialize(this)},isUpdating:function(){return y.isUpdating()},getType:function(){return f},getBufferController:function(){return g},getABRController:function(){return h},getFragmentLoader:function(){return _},getFragmentModel:function(){return b},getScheduleController:function(){return m},getEventController:function(){return p},getFragmentController:function(){return v},getRepresentationController:function(){return y},getIndexHandler:function(){return a},getCurrentRepresentationInfo:function(){return u.getCurrentRepresentationInfo(l.getValue(),y)},getRepresentationInfoForQuality:function(e){return u.getRepresentationInfoForQuality(l.getValue(),y,e)},isBufferingCompleted:function(){return g.getIsBufferingCompleted()},createBuffer:function(){return g.getBuffer()||g.createBuffer(n)},getStreamInfo:function(){return d.getStreamInfo()},updateMediaInfo:function(e,t){t===n||t&&n&&t.type!==n.type||(n=t),-1===r.indexOf(t)&&r.push(t),u.updateData(e,this)},getMediaInfoArr:function(){return r},getMediaInfo:function(){return n},getMediaSource:function(){return g.getMediaSource()},getBuffer:function(){return g.getBuffer()},setBuffer:function(e){g.setBuffer(e)},start:function(){m.start()},stop:function(){m.stop()},isDynamic:function(){return c},reset:function(e){a.reset(),g&&(g.reset(e),g=null),m&&(m.reset(),m=null),y&&(y.reset(),y=null),r=[],f=n=c=d=p=_=v=null}}}i.__dashjs_factory_name="StreamProcessor",n.default=e.default.getClassFactory(i),t.exports=n.default},{204:204,211:211,215:215,216:216,242:242,250:250,254:254,257:257,260:260,263:263,264:264,265:265,266:266,295:295,296:296,323:323,346:346,351:351}],250:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var Z=r(e(366)),h=r(e(226)),g=r(e(341)),m=r(e(343)),i=r(e(204)),y=r(e(202)),v=r(e(298)),_=r(e(251)),J=r(e(9)),ee=r(e(2));function o(){var i=this.context,R=(0,y.default)(i).getInstance().log,o=!1,F=0,C=void 0,M=void 0,a=void 0,s=void 0,u=void 0,N=void 0,n=void 0,r=void 0,L=void 0,k=void 0,U=void 0,j=void 0,l=void 0,B=void 0,$=void 0,c=void 0,V=void 0,f=void 0,G=void 0,z=void 0,H=void 0,q=void 0,K=void 0,W=void 0,Y=void 0;function d(){H=[],k=[],V=(0,v.default)(i).getInstance(),(U=(0,_.default)(i).getInstance()).setConfig({videoModel:V}),U.initialize(),C=(0,g.default)(i).getInstance(),(L=(0,h.default)(i).getInstance()).setConfig({boxParser:C}),j=!1,q=0,Y=[],W=[],o=!(K=z=null)}function p(e){return"red"==e?"rgb(255, 0, 0)":"green"==e?"rgb(0, 255, 0)":"blue"==e?"rgb(0, 0, 255)":"cyan"==e?"rgb(0, 255, 255)":"magenta"==e?"rgb(255, 0, 255)":"yellow"==e?"rgb(255, 255, 0)":"white"==e?"rgb(255, 255, 255)":"black"==e?"rgb(0, 0, 0)":e}function X(e,t){e=e.videoHeight/15;return t?"font-size: "+e+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?p(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?p(t.background):"transparent")+";":"font-size: "+e+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function Q(e){var t;return 0<=e.search("vtt")?t=n:(0<=e.search("ttml")||0<=e.search("stpp"))&&(t=r).setConfig({videoModel:V}),t}return{initialize:function(e,t){if(B=u=!1,$=NaN,c=[],G=l=N=null,o||d(),t=t.getStreamProcessor(),k=t.getMediaInfoArr(),U.setConfig({videoModel:V}),U.initialize(),j=!a.getIsTextTrack(e),C=(0,g.default)(i).getInstance(),(L=(0,h.default)(i).getInstance()).setConfig({boxParser:C}),j){l=t.getFragmentModel(),this.buffered=(0,m.default)(i).create(),c=s.getTracksFor("fragmentedText",f.getActiveStreamInfo());for(var n=s.getCurrentTrackFor("fragmentedText",f.getActiveStreamInfo()),r=0;r<c.length;r++)if(c[r]===n){z=r;break}}},append:function(e,t){var n,r,i=t.mediaInfo,o=i.type,a=i.mimeType;if(a=i.codec||a){if("fragmentedText"===o)if(B)if(r=L.getSamplesInfo(e).sampleList,!G&&0<r.length&&(G=r[0].cts-t.start*$),0<=a.search("stpp"))for(N=null!==N?N:Q(a),p=0;p<r.length;p++){var s=r[p],u=s.cts,l=u-G,c=(this.buffered.add(l/$,(l+s.duration)/$),new DataView(e,s.offset,s.size)),f=J.default.Utils.dataViewToString(c,"utf-8");try{n=N.parse(f,u/$,(u+s.duration)/$),U.addCaptions(z,G/$,n)}catch(e){R("TTML parser error: "+e.message)}}else{for(var d=[],p=0;p<r.length;p++)for(var h=r[p],g=(h.cts-=G,this.buffered.add(h.cts/$,(h.cts+h.duration)/$),e.slice(h.offset,h.offset+h.size)),m=J.default.parseBuffer(g),y=0;y<m.boxes.length;y++){var v=m.boxes[y];if(R("VTT box1: "+v.type),"vtte"!==v.type&&"vttc"===v.type){R("VTT vttc boxes.length = "+v.boxes.length);for(var _=0;_<v.boxes.length;_++){var b,T,w=v.boxes[_];R("VTT box2: "+w.type),"payl"===w.type&&(w=w.cue_text,R("VTT cue_text = "+w),b=h.cts/$,T=(h.cts+h.duration)/$,d.push({start:b,end:T,data:w,styles:{}}),R("VTT "+b+"-"+T+" : "+w))}}}0<d.length&&U.addCaptions(z,0,d)}else{for(B=!0,p=0;p<k.length;p++)D(null,k[p]);$=L.getMediaTimescaleFromMoov(e)}else if("text"===o){c=new DataView(e,0,e.byteLength);f=J.default.Utils.dataViewToString(c,"utf-8");try{D(n=Q(a).parse(f),i)}catch(e){M.timedTextError(e,"parse",f)}}else if("video"===o)if("InitializationSegment"===t.segmentType){if(0===q)for(q=L.getMediaTimescaleFromMoov(e),p=0;p<H.length;p++)D(null,H[p])}else if(0===q)R("CEA-608: No timescale for embeddedTextTrack yet");else{var E=function(e,i){return function(e,t,n){var r=null;(r=V.getTTMLRenderingDiv()?function(e,t,n,r){var i=null,o=!1,a=-1,s={start:t,end:n,spans:[]},u="style_cea608_white_black",l={},c={},f=[],d=void 0,p=void 0;for(d=0;d<15;++d){var h=r.rows[d],g="",m=null;if(!1===h.isEmpty()){var y=function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];t+=r.uchar}var i=t.length,o=t.replace(/^\s+/,"").length;return i-o}(h.chars);null===i&&(i={x:y,y1:d,y2:d+1,p:[]}),y!==a&&o&&(i.p.push(s),s={start:t,end:n,spans:[]},i.y2=d,i.name="region_"+i.x+"_"+i.y1+"_"+i.y2,!1===l.hasOwnProperty(i.name)?(f.push(i),l[i.name]=i):l[i.name].p.contat(i.p),i={x:y,y1:d,y2:d+1,p:[]});for(var v=0;v<h.chars.length;++v){var _,b=h.chars[v],T=b.penState;null!==m&&T.equals(m)||(0<g.trim().length&&(s.spans.push({name:u,line:g,row:d}),g=""),_="style_cea608_"+T.foreground+"_"+T.background,T.underline&&(_+="_underline"),T.italics&&(_+="_italics"),c.hasOwnProperty(_)||(c[_]=JSON.parse(JSON.stringify(T))),m=T,u=_),g+=b.uchar}0<g.trim().length&&s.spans.push({name:u,line:g,row:d}),o=!0,a=y}else o=!1,a=-1,i&&(i.p.push(s),s={start:t,end:n,spans:[]},i.y2=d,i.name="region_"+i.x+"_"+i.y1+"_"+i.y2,!1===l.hasOwnProperty(i.name)?(f.push(i),l[i.name]=i):l[i.name].p.contat(i.p),i=null)}i&&(i.p.push(s),i.y2=d+1,i.name="region_"+i.x+"_"+i.y1+"_"+i.y2,!1===l.hasOwnProperty(i.name)?(f.push(i),l[i.name]=i):l[i.name].p.contat(i.p),i=null);var w=[];for(d=0;d<f.length;++d){var E=f[d],x="sub_cea608_"+F++,S=document.createElement("div"),O=(S.id=x,function(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}(E)),O=(S.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+O,document.createElement("div")),A=(O.className="paragraph bodyStyle",O.style.cssText=X(e),document.createElement("div"));A.className="cueUniWrapper",A.style.cssText="unicode-bidi: normal; direction: ltr;";for(var I=0;I<E.p.length;++I){var P=E.p[I],D=0;for(p=0;p<P.spans.length;++p){var R,C,M,N=P.spans[p];0<N.line.length&&(0!==p&&D!=N.row&&((R=document.createElement("br")).className="lineBreak",A.appendChild(R)),R=!1,D===N.row&&(R=!0),D=N.row,C=c[N.name],(M=document.createElement("span")).className="spanPadding "+N.name+" customSpanColor",M.style.cssText=X(e,C),0!==p&&R?p===P.spans.length-1?M.textContent=function(e){return e.replace(/\s+$/g,"")}(N.line):M.textContent=N.line:0===p&&1<P.spans.length&&N.row===P.spans[1].row?M.textContent=function(e){return e.replace(/^\s+/g,"")}(N.line):M.textContent=N.line.trim(),A.appendChild(M))}}O.appendChild(A),S.appendChild(O);var L={bodyStyle:90};for(p in c)c.hasOwnProperty(p)&&(L[p]=90);w.push({type:"html",start:t,end:n,cueHTMLElement:S,cueID:x,cellResolution:[32,15],isFromCEA608:!0,regions:f,regionID:E.name,videoHeight:e.videoHeight,videoWidth:e.videoWidth,fontSize:L||{defaultFontSize:"100"},lineHeight:{},linePadding:{}})}return w}(V.getElement(),e,t,n):[{start:e,end:t,data:n.getDisplayText(),styles:{}}])&&U.addCaptions(i,0,r)}},a=L.getSamplesInfo(e).sequenceNumber;if(!Y[0]&&!Y[1]){var x,S=void 0;for(p=0;p<H.length;p++){if("CC1"===H[p].id?S=U.getTrackIdxForId("CC1"):"CC3"===H[p].id&&(S=U.getTrackIdxForId("CC3")),-1===S)return void R("CEA-608: data before track is ready.");x=E(0,S),Y[p]=new ee.default.Cea608Parser(p,{newCue:x},null)}}if(q&&-1==W.indexOf(a)){if(null!==K&&a!==K+1)for(p=0;p<Y.length;p++)Y[p]&&Y[p].reset();for(var O=function(e){var t=C.parse(e),n=t.getBox("moof"),r=t.getBox("tfdt"),t=t.getBoxes("trun"),i=null;if(0===t.length)return null;i=t[0],1<t.length&&R("Warning: Too many truns");for(var t=n.offset+i.data_offset,o=i.sample_count,a=t,s=r.baseMediaDecodeTime,u=new DataView(e),l={startTime:null,endTime:null,fields:[[],[]]},c=0,f=0;f<o;f++){for(var d=i.samples[f],p=s+c+d.sample_composition_time_offset,h=ee.default.findCea608Nalus(u,a,d.sample_size),g=0;g<h.length;g++)for(var m=ee.default.extractCea608DataFromRange(u,h[g]),y=0;y<2;y++)0<m[y].length&&!function(e,t,n){var r=e.length;if(0<r){if(t>=e[r-1][0])e.push([t,n]);else for(var i=r-1;0<=i;i--)if(t<e[i][0]){e.splice(i,0,[t,n]);break}}else e.push([t,n])}(l.fields[y],p,m[y]);c+=d.sample_duration,a+=d.sample_size}n=s+c;return l.startTime=s,l.endTime=n,l}(e),A=0;A<Y.length;A++){var I=O.fields[A],P=Y[A];if(P){for(p=0;p<I.length;p++)P.addData(I[p][0]/q,I[p][1]);O.endTime&&P.cueSplitAtTime(O.endTime/q)}}K=a,W.push(a)}}}else R("No text type defined");function D(e,t){var n=new Z.default,r={subtitle:"subtitles",caption:"captions"},t=(n.captionData=e,n.lang=t.lang,n.label=t.id,n.index=t.index,n.isTTML=(e=!1,t.codec&&0<=t.codec.search("stpp")&&(e=!0),e=!!(t.mimeType&&0<=t.mimeType.search("ttml"))||e),n.video=V.getElement(),n.defaultTrack=function(e){var t=!1;1<H.length?t=e.id&&"CC1"===e.id:1===H.length?e.id&&"CC"===e.id.substring(0,2)&&(t=!0):t=e.index===k[0].index;return t}(t),n.isFragmented=j,n.isEmbedded=!!t.isEmbedded,n.kind=(e=0<t.roles.length?r[t.roles[0]]:r.caption)===r.caption||e===r.subtitle?e:r.caption,(k?k.length:0)+H.length);U.addTextTrack(n,t)}},abort:function(){U.deleteAllTextTracks(),B=j=u=!1,$=NaN,o=!(c=[]),H=f=V=l=U=k=L=N=null},getAllTracksAreDisabled:function(){return u},setTextTrack:function(){for(var e=V.getElement().textTracks,t=e.length,n=t-H.length,r=U.getCurrentTrackIdx(),i=0;i<t;i++){var o,a=e[i];if(u="showing"!==a.mode,"showing"===a.mode){r!==i&&(U.setCurrentTrackIdx(i),U.addCaptions(i,0,null),j)&&i<n&&(a=s.getCurrentTrackFor("fragmentedText",f.getActiveStreamInfo()),(o=c[i])!==a)&&(l.abortRequests(),U.deleteTrackCues(a),s.setTrack(o),z=i);break}}u&&U.setCurrentTrackIdx(-1)},setConfig:function(e){e&&(e.errHandler&&(M=e.errHandler),e.adapter&&e.adapter,e.dashManifestModel&&(a=e.dashManifestModel),e.mediaController&&(s=e.mediaController),e.videoModel&&(V=e.videoModel),e.streamController&&(f=e.streamController),e.textTracks&&(U=e.textTracks),e.VTTParser&&(n=e.VTTParser),e.TTMLParser)&&(r=e.TTMLParser)},addEmbeddedTrack:function(e){o||d(),"CC1"===e.id||"CC3"===e.id?H.push(e):R("Warning: Embedded track "+e.id+" not supported!")},resetEmbedded:function(){o=!1,H=[],Y=[null,null],W=[],K=null}}}o.__dashjs_factory_name="TextSourceBuffer",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{2:2,202:202,204:204,226:226,251:251,298:298,341:341,343:343,366:366,9:9}],251:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var D=r(e(203)),R=r(e(207)),i=r(e(204)),C=r(e(202));function o(){var e=this.context,o=(0,D.default)(e).getInstance(),s=(0,C.default)(e).getInstance().log,u=void 0,a=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,w=void 0;function E(e){var t=c[e].kind,n=void 0!==c[e].label?c[e].label:c[e].lang,e=c[e].lang,r=_?document.createElement("track"):l.addTextTrack(t,n,e);return _&&(r.kind=t,r.label=n,r.srclang=e),r}function x(){var e=this.getCurrentTextTrack();if(e&&"html"===e.renderingType){var t=l.clientWidth/l.clientHeight,n=!1,t=(e.isFromCEA608&&(t=3.5/3,n=!0),function(e,t,n,r,i,o){var a=0,s=0,n=(n/r<e/t?a=(s=t)/r*n:s=(a=e)/n*r,0),r=0,u=0,l=0,r=i<a/s?(n=(e-(u=(l=s)/(1/i)))/2,0):(n=0,(t-(l=(u=a)/i))/2);return o?{x:n+.1*u,y:r+.1*l,w:.8*u,h:.8*l}:{x:n,y:r,w:u,h:l}}.call(this,l.clientWidth,l.clientHeight,l.videoWidth,l.videoHeight,t,n)),n=t.w,r=t.h;if(n!=g||r!=m){p=t.x,h=t.y,g=n,m=r,y.style.left=p+"px",y.style.top=h+"px",y.style.width=g+"px",y.style.height=m+"px";for(var i=0;e.activeCues&&i<e.activeCues.length;++i){var o=e.activeCues[i];o.scaleCue(o)}b&&document[b]||T?y.style.zIndex=w:y.style.zIndex=null}}}function S(e,t){return Math.round(.01*e*t).toString()+"px"}function O(e){var t,n,r=g,i=m;r*i!=0&&e.layout&&(t=S((e=e.layout).left,r),n=S(e.top,i),r=S(e.width,r),e=S(e.height,i),y.style.left=t,y.style.top=n,y.style.width=r,y.style.height=e,i=y.firstChild)&&i.style&&(i.style.left="0px",i.style.top="0px",i.style.width=r,i.style.height=e)}function A(e){var t,n=m,r=[g/e.cellResolution[0],n/e.cellResolution[1]];if(e.linePadding)for(t in e.linePadding)if(e.linePadding.hasOwnProperty(t))for(var i=(e.linePadding[t]*r[0]).toString(),o=document.getElementsByClassName("spanPadding"),a=0;a<o.length;a++)o[a].style.cssText=o[a].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i),o[a].style.cssText=o[a].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i);if(e.fontSize)for(t in e.fontSize)if(e.fontSize.hasOwnProperty(t)){i=(e.fontSize[t]/100*r[1]).toString();for(var s="defaultFontSize"!==t?document.getElementsByClassName(t):document.getElementsByClassName("paragraph"),u=0;u<s.length;u++)s[u].style.cssText=s[u].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.lineHeight)for(t in e.lineHeight)if(e.lineHeight.hasOwnProperty(t)){i=(e.lineHeight[t]/100*r[1]).toString(),s=document.getElementsByClassName(t);for(var l=0;l<s.length;l++)s[l].style.cssText=s[l].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}}function I(e){d=e,P.call(this),(0<=e&&"html"===l.textTracks[e].renderingType?function(){var e;!_||(e=document.getElementById("native-cue-style"))||((e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e),e=e.sheet,l.id?e.insertRule("#"+l.id+"::cue {background: transparent}",0):0!==l.classList.length?e.insertRule("."+l.className+"::cue {background: transparent}",0):e.insertRule("video::cue {background: transparent}",0))}:t).call(this)}function r(e){return l.textTracks[e]}function i(e){if(e.cues){for(var t=e.cues,n=t.length-1;0<=n;n--)e.removeCue(t[n]);e.mode="disabled"}}function t(){var e;_&&(e=document.getElementById("native-cue-style"))&&document.head.removeChild(e)}function P(){if(y)for(;y.firstChild;)y.removeChild(y.firstChild)}return{initialize:function(){u=window.VTTCue||window.TextTrackCue,c=[],f=[],m=g=h=p=0,v=y=null,T=!(d=-1),w=2147483647,_=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?b="fullscreenElement":void 0!==document.webkitIsFullScreen?b="webkitIsFullScreen":document.msFullscreenElement?b="msFullscreenElement":document.mozFullScreen&&(b="mozFullScreen")},displayCConTop:function(e){T=e,y&&!document[b]&&(y.style.zIndex=e?w:null)},addTextTrack:function(e,t){if(c.length===t)s("Trying to add too many tracks.");else if(c.push(e),void 0===l&&(l=e.video),c.length===t){c.sort(function(e,t){return e.index-t.index}),y=a.getTTMLRenderingDiv();for(var n=-1,r=0;r<c.length;r++){var i=E.call(this,r),i=(f.push(i),c[r].defaultTrack&&(i.default=!0,n=r),_&&l.appendChild(i),l.textTracks[r]);i.nonAddedCues=[],y&&(c[r].isTTML||c[r].isEmbedded)?i.renderingType="html":i.renderingType="default",this.addCaptions(r,0,c[r].captionData),o.trigger(R.default.TEXT_TRACK_ADDED)}I.call(this,n),0<=n&&(l.textTracks[n].mode="showing",this.addCaptions(n,0,null)),o.trigger(R.default.TEXT_TRACKS_ADDED,{index:d,tracks:c})}},addCaptions:function(e,t,n){var r=0<=e?l.textTracks[e]:null,i=this;if(r)if("showing"!==r.mode)n&&0<n.length&&(r.nonAddedCues=r.nonAddedCues.concat(n));else if(n||(n=r.nonAddedCues,r.nonAddedCues=[]),n&&0!==n.length)for(var o in n){var a,o=n[o];r.cellResolution=o.cellResolution,r.isFromCEA608=o.isFromCEA608,v||"html"!==o.type&&"image"!==o.type||(v=setInterval(x.bind(this),500)),"image"===o.type?((a=new u(o.start-t,o.end-t,"")).image=o.data,a.id=o.id,a.size=0,a.type="image",a.layout=o.layout,a.scaleCue=O.bind(i),a.onenter=function(){var e;y&&"showing"===r.mode&&((e=new Image).id="ttmlImage_"+this.id,e.src=this.image,e.style.cssText="z-index: 2147483648; pointer-events: none; display: block; visibility: visible !important; position: relative !important;",y.appendChild(e),O.call(i,this))},a.onexit=function(){if(y)for(var e=y.childNodes,t=0;t<e.length;t++)e[t].id==="ttmlImage_"+this.id&&y.removeChild(e[t])}):"html"===o.type?((a=new u(o.start-t,o.end-t,"")).cueHTMLElement=o.cueHTMLElement,a.regions=o.regions,a.regionID=o.regionID,a.cueID=o.cueID,a.videoWidth=o.videoWidth,a.videoHeight=o.videoHeight,a.cellResolution=o.cellResolution,a.fontSize=o.fontSize,a.lineHeight=o.lineHeight,a.linePadding=o.linePadding,a.scaleCue=A.bind(i),y.style.left=p+"px",y.style.top=h+"px",y.style.width=g+"px",y.style.height=m+"px",a.onenter=function(){"showing"===r.mode&&(s("Cue "+this.startTime+"-"+this.endTime+" : "+this.cueHTMLElement.id+" : "+this.cueHTMLElement.innerText),y.appendChild(this.cueHTMLElement),A.call(i,this))},a.onexit=function(){for(var e=y.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&y.removeChild(e[t])}):(a=new u(o.start-t,o.end-t,o.data),o.styles&&(void 0!==o.styles.align&&a.hasOwnProperty("align")&&(a.align=o.styles.align),void 0!==o.styles.line&&a.hasOwnProperty("line")&&(a.line=o.styles.line),void 0!==o.styles.position&&a.hasOwnProperty("position")&&(a.position=o.styles.position),void 0!==o.styles.size)&&a.hasOwnProperty("size")&&(a.size=o.styles.size)),r.addCue(a)}},getTextTrack:r,getCurrentTextTrack:function(){return 0<=d?l.textTracks[d]:null},getCurrentTrackIdx:function(){return d},setCurrentTrackIdx:I,getTrackIdxForId:function(e){for(var t=-1,n=0;n<l.textTracks.length;n++)if(l.textTracks[n].label===e){t=n;break}return t},deleteTrackCues:i,deleteAllTextTracks:function(){for(var e,t=f.length,n=0;n<t;n++)_?l.removeChild(f[n]):((e=r.call(this,n)).nonAddedCues=[],i.call(this,e));f=[],c=[],v&&(clearInterval(v),v=null),P.call(this)},deleteTextTrack:function(e){l.removeChild(f[e]),f.splice(e,1)},setConfig:function(e){e&&e.videoModel&&(a=e.videoModel)}}}o.__dashjs_factory_name="TextTracks",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{202:202,203:203,204:204,207:207}],252:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(n,"__esModule",{value:!0});var o=e(374),a=r(e(204)),s=r(e(295)),u=r(e(346));function l(e){var t=this.context,m=(0,s.default)(t).getInstance(),y=e.errHandler,v=e.metricsModel,_=e.requestModifier,b=void 0,T=void 0,w=void 0,E=void 0;function x(n,e){function t(e){l=!1,o.requestStartDate=c,o.requestEndDate=new Date,o.firstByteDate=o.firstByteDate||c,o.checkExistenceOnly||v.addHttpRequest(o.mediaType,null,o.type,o.url,a.responseURL||null,o.serviceLocation||null,o.range||null,o.requestStartDate,o.firstByteDate,o.requestEndDate,a.status,o.duration,a.getAllResponseHeaders(),e?s:null)}function r(){-1!==b.indexOf(a)&&(b.splice(b.indexOf(a),1),l)&&(t(!1),0<e?(e--,w.push(setTimeout(function(){x(n,e)},m.getRetryIntervalForType(o.type)))):(y.downloadError(E[o.type],o.url,o),n.error&&n.error(o,"error",a.statusText),n.complete&&n.complete(o,a.statusText)))}var i,o=n.request,a=new XMLHttpRequest,s=[],u=!0,l=!0,c=new Date,f=c,d=0;try{var p=_.modifyRequestURL(o.url),h=o.checkExistenceOnly?"HEAD":"GET",g=(a.open(h,p,!0),o.responseType&&(a.responseType=o.responseType),o.range&&a.setRequestHeader("Range","bytes="+o.range),o.requestStartDate||(o.requestStartDate=c),(a=_.modifyRequestHeader(a)).withCredentials=m.getXHRWithCredentials(),a.onload=function(){200<=a.status&&a.status<=299&&(t(!0),n.success&&n.success(a.response,a.statusText,a),n.complete)&&n.complete(o,a.statusText)},a.onloadend=r,a.onerror=r,a.onprogress=function(e){var t=new Date;u&&(u=!1,!e.lengthComputable||e.lengthComputable&&e.total!==e.loaded)&&(o.firstByteDate=t),e.lengthComputable&&(o.bytesLoaded=e.loaded,o.bytesTotal=e.total),s.push({s:f,d:t.getTime()-f.getTime(),b:[e.loaded?e.loaded-d:0]}),f=t,d=e.loaded,n.progress&&n.progress()},(new Date).getTime());isNaN(o.delayLoadingTime)||g>=o.delayLoadingTime?(b.push(a),a.send()):(i={xhr:a},T.push(i),i.delayTimeout=setTimeout(function(){if(-1!==T.indexOf(i)){T.splice(T.indexOf(i),1);try{b.push(i.xhr),i.xhr.send()}catch(e){i.xhr.onerror()}}},o.delayLoadingTime-g))}catch(e){a.onerror()}}return t={load:function(e){e.request&&x(e,m.getRetryAttemptsForType(e.request.type))},abort:function(){w.forEach(function(e){return clearTimeout(e)}),w=[],T.forEach(function(e){return clearTimeout(e.delayTimeout)}),T=[],b.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.abort()}),b=[]}},b=[],T=[],w=[],i(e={},o.HTTPRequest.MPD_TYPE,u.default.DOWNLOAD_ERROR_ID_MANIFEST),i(e,o.HTTPRequest.XLINK_EXPANSION_TYPE,u.default.DOWNLOAD_ERROR_ID_XLINK),i(e,o.HTTPRequest.INIT_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_INITIALIZATION),i(e,o.HTTPRequest.MEDIA_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,o.HTTPRequest.INDEX_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,o.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),i(e,o.HTTPRequest.OTHER_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),E=e,t}l.__dashjs_factory_name="XHRLoader";e=a.default.getClassFactory(l);n.default=e,t.exports=n.default},{204:204,295:295,346:346,374:374}],253:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(357)),i=r(e(252)),l=e(374),c=r(e(365)),f=r(e(203)),d=r(e(207)),e=r(e(204));function o(e){var o="urn:mpeg:dash:resolve-to-zero:2013",t=this.context,a=(0,f.default)(t).getInstance(),s=(0,i.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier});return{load:function(n,r,i){function t(e,t){r.resolved=!0,r.resolvedContent=e||null,a.trigger(d.default.XLINK_ELEMENT_LOADED,{element:r,resolveObject:i,error:e||t?null:new u.default(1,"Failed loading Xlink element: "+n)})}var e;n===o?t(null,!0):(e=new c.default(n,l.HTTPRequest.XLINK_TYPE),s.load({request:e,success:function(e){t(e)},error:function(){t(null)}}))},reset:function(){s&&(s.abort(),s=null)}}}o.__dashjs_factory_name="XlinkLoader";e=e.default.getClassFactory(o);e.XLINK_LOADER_ERROR_LOADING_FAILURE=1,n.default=e,t.exports=n.default},{203:203,204:204,207:207,252:252,357:357,365:365,374:374}],254:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function se(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0});var ue=r(e(324)),le=r(e(355)),ce=r(e(344)),fe=r(e(325)),de=r(e(295)),pe=r(e(293)),he=r(e(203)),ge=r(e(207)),i=r(e(204)),me=r(e(294)),ye=r(e(216)),ve=r(e(298)),_e=r(e(211)),be=r(e(296)),Te=(e(2),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(198))),we="abandonload",Ee="allowload",xe="xz2000.cn",Se=12397;function o(){var e,t=this.context,u=(0,he.default)(t).getInstance(),d=-1,f=[200,300,480,750,1200,1850,2850,4300,5300],p=5,k=10,U=1,s=[],l=[],j=[],B=5,h=0,g=1,$=12,m=[],y=0,V=[0,1,2,3,4,5,6,7,8,9],G=.85,v=-1,_=void 0,b=void 0,a=void 0,n=void 0,i=void 0,c=void 0,T=void 0,o=void 0,w=void 0,r=void 0,E=void 0,x=void 0,S=void 0,O=void 0,A=void 0,I=void 0,P=void 0,z=void 0,D=void 0,R=void 0,H=void 0,q=void 0,K=void 0,C=[];function W(){n={video:!0,audio:!0},i={},c={},T={},o={},w={},r={},x={},q=(A=O=!(E={}),ce.default)(t).getInstance(),H=(0,de.default)(t).getInstance(),I=(0,me.default)(t).getInstance(),P=(0,ye.default)(t).getInstance(),z=(0,ve.default)(t).getInstance(),D=(0,_e.default)(t).getInstance(),R=(0,be.default)(t).getInstance(),C=[];for(var e=0;e<6;e++)C.push(Array(8).fill(0))}function M(e){for(var t=0,n=0;n<e.trace.length;n++)t+=e.trace[n].b[0];return t}function N(e){return e<0||48<e?0:[[181801,155580,139857,155432,163442,126289,153295,173849,150710,139105,141840,156148,160746,179801,140051,138313,143509,150616,165384,140881,157671,157812,163927,137654,146754,153938,181901,111155,153605,149029,157421,157488,143881,163444,179328,159914,131610,124011,144254,149991,147968,161857,145210,172312,167025,160064,137507,118421,112270][e],[450283,398865,350812,382355,411561,318564,352642,437162,374758,362795,353220,405134,386351,434409,337059,366214,360831,372963,405596,350713,386472,399894,401853,343800,359903,379700,425781,277716,400396,400508,358218,400322,369834,412837,401088,365161,321064,361565,378327,390680,345516,384505,372093,438281,398987,393804,331053,314107,255954][e],[668286,611087,571051,617681,652874,520315,561791,709534,584846,560821,607410,594078,624282,687371,526950,587876,617242,581493,639204,586839,601738,616206,656471,536667,587236,590335,696376,487160,622896,641447,570392,620283,584349,670129,690253,598727,487812,575591,605884,587506,566904,641452,599477,634861,630203,638661,538612,550906,391450][e],[1034108,957685,877771,933276,996749,801058,905515,1060487,852833,913888,939819,917428,946851,1036454,821631,923170,966699,885714,987708,923755,891604,955231,968026,874175,897976,905935,1076599,758197,972798,975811,873429,954453,885062,1035329,1026056,943942,728962,938587,908665,930577,858450,1025005,886255,973972,958994,982064,830730,846370,598850][e],[1728879,1431809,1300868,1520281,1472558,1224260,1388403,1638769,1348011,1429765,1354548,1519951,1422919,1578343,1231445,1471065,1491626,1358801,1537156,1336050,1415116,1468126,1505760,1323990,1383735,1480464,1547572,1141971,1498470,1561263,1341201,1497683,1358081,1587293,1492672,1439896,1139291,1499009,1427478,1402287,1339500,1527299,1343002,1587250,1464921,1483527,1231456,1364537,889412][e],[2354772,2123065,2177073,2160877,2233056,1941625,2157535,2290172,2055469,2169201,2173522,2102452,2209463,2275376,2005399,2152483,2289689,2059512,2220726,2156729,2039773,2176469,2221506,2044075,2186790,2105231,2395588,1972048,2134614,2164140,2113193,2147852,2191074,2286761,2307787,2143948,1919781,2147467,2133870,2146120,2108491,2184571,2121928,2219102,2124950,2246506,1961140,2155012,1433658][e]]}function Y(e,t,n,r,i){var o=0,n=function(e,t){var n=0;if(1<=v)for(var r=Math.max(0,v+1-B);r<=v-1;r++)m[r]!=m[r+1]&&(n+=1);return e!=t&&(n+=1),Math.pow(2,n)}(e,n),o=Math.abs(i[e]/Math.min(r,i[t])-1);return n+$*o}function X(e,t,n){var r,i=0,o=0;if(n&&0<=e&&((r=(n._tfinish.getTime()-n.tresponse.getTime())/1e3)<.1&&(r=.1),n=M(n),s[e]=8*n/r/1e3,l[e]=r),0===s.length)return 0;for(var i=0,o=0,a=Math.max(0,e+1-B);a<=e;a++)i+=l[a]/s[a],o+=l[a];return j[e]=o/i}function L(e,t){return i[t]=i[t]||{},i[t].hasOwnProperty(e)||(i[t][e]=0),function(e,t){if("video"!==t||!O||!E[t])return e;var n=A&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1,r=z.getElement(),i=r.clientWidth*n,r=r.clientHeight*n,n=I.getValue(),o=P.getAdaptationForType(n,0,t).Representation,a=e;if(0<i&&0<r){for(;0<a&&o[a]&&i<o[a].width&&i-o[a-1].width<o[a].width-i;)a-=1;o.length-2>=a&&o[a].width===o[a+1].width&&(a=Math.min(e,a+1))}return a}(function(e,t,n){t=Z(t);if(isNaN(t)||1<=t||t<0)return e;return Math.min(e,Math.round(n*t))}(function(e,t){var n=Q(t);if(isNaN(n)||!E[t])return e;t=ie(E[t].getMediaInfo(),n);return Math.min(e,t)}(i[t][e],e),e,i[t][e]),e)}function Q(e){return o.hasOwnProperty("max")&&o.max.hasOwnProperty(e)?o.max[e]:NaN}function Z(e){return w.hasOwnProperty("max")&&w.max.hasOwnProperty(e)?w.max[e]:1}function J(e){return n[e]}function ee(t,n,r,i){var o,a,s,u,l,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:o=R.getReadOnlyMetricsFor("video"),o=D.getCurrentHttpRequest(o),a=X(n,0,o),e.t0=d,e.next=2===e.t0?6:3===e.t0?12:4===e.t0?18:5===e.t0?27:6===e.t0?34:7===e.t0?40:51;break;case 6:return(s=new XMLHttpRequest).open("POST","http://"+xe+":"+Se,!1),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&(console.log("GOT RESPONSE:"+s.responseText+"---"),"REFRESH"==s.responseText)&&document.location.reload(!0)},u={nextChunkSize:N(n+1),Type:"BB",lastquality:r,buffer:t,bufferAdjusted:c,bandwidthEst:a,lastRequest:n,RebufferTime:i,lastChunkFinishTime:o._tfinish.getTime(),lastChunkStartTime:o.tresponse.getTime(),lastChunkSize:M(o)},s.send(JSON.stringify(u)),e.abrupt("return",function(e){for(var t=0,n=0,t=e<=p?f[0]:p+k<e?f[8]:f[0]+(f[8]-f[0])*(e-p)/k,r=9;0<=r;r--){if(t>=f[r]){n=r;break}n=r}return n}(t));case 12:return(s=new XMLHttpRequest).open("POST","http://"+xe+":"+Se,!1),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&(console.log("GOT RESPONSE:"+s.responseText+"---"),"REFRESH"==s.responseText)&&document.location.reload(!0)},u={nextChunkSize:N(n+1),Type:"RB",lastquality:r,buffer:t,bufferAdjusted:c,bandwidthEst:a,lastRequest:n,RebufferTime:i,lastChunkFinishTime:o._tfinish.getTime(),lastChunkStartTime:o.tresponse.getTime(),lastChunkSize:M(o)},s.send(JSON.stringify(u)),e.abrupt("return",function(e){for(var t=0,n=e*U,r=9;0<=r;r--){if(n>=f[r]){t=r;break}t=r}return t}(a));case 18:return l=2,(s=new XMLHttpRequest).open("POST","http://"+xe+":"+Se,!1),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&(console.log("GOT RESPONSE:"+s.responseText+"---"),"REFRESH"!=s.responseText?l=parseInt(s.responseText,10):document.location.reload(!0))},c=t-.15-.4-4,u={nextChunkSize:N(n+1),lastquality:r,buffer:t,bufferAdjusted:c,bandwidthEst:a,lastRequest:n,RebufferTime:i,lastChunkFinishTime:o._tfinish.getTime(),lastChunkStartTime:o.tresponse.getTime(),lastChunkSize:M(o)},s.send(JSON.stringify(u)),console.log("QUALITY RETURNED IS: "+l),e.abrupt("return",l);case 27:return(s=new XMLHttpRequest).open("POST","http://"+xe+":"+Se,!1),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&(console.log("GOT RESPONSE:"+s.responseText+"---"),"REFRESH"==s.responseText)&&document.location.reload(!0)},u={nextChunkSize:N(n+1),Type:"Festive",lastquality:r,buffer:t,bufferAdjusted:c,bandwidthEst:a,lastRequest:n,RebufferTime:i,lastChunkFinishTime:o._tfinish.getTime(),lastChunkStartTime:o.tresponse.getTime(),lastChunkSize:M(o)},s.send(JSON.stringify(u)),c=t-.15-.4-4,e.abrupt("return",function(e,t,n,r){var i=0,o=0,a=0,s=e;m[n]=e,v=n;for(var u=G*t,l=9;0<=l;l--){if(r[l]<=u){o=l;break}o=l}return s<o?a=(y+=1)>V[s]?s+1:s:y=(a=o<s?s-1:s,0),a==s||Y(s,a,s,t,r)<=Y(a,a,s,t,r)?i=s:s<(i=a)&&(y=0),i}(r,a,n,f));case 34:return(s=new XMLHttpRequest).open("POST","http://"+xe+":"+Se,!1),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&(console.log("GOT RESPONSE:"+s.responseText+"---"),"REFRESH"==s.responseText)&&document.location.reload(!0)},u={nextChunkSize:N(n+1),Type:"Bola",lastquality:r,buffer:t,bufferAdjusted:c,bandwidthEst:a,lastRequest:n,RebufferTime:i,lastChunkFinishTime:o._tfinish.getTime(),lastChunkStartTime:o.tresponse.getTime(),lastChunkSize:M(o)},s.send(JSON.stringify(u)),e.abrupt("return",-1);case 40:return(s=new XMLHttpRequest).open("POST","http://"+xe+":"+Se,!1),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&(console.log("GOT RESPONSE:"+s.responseText+"---"),"REFRESH"==s.responseText)&&document.location.reload(!0)},console.log("[pensieve] next_chunk_size",N(n+1)),u={nextChunkSize:N(n+1),Type:"LocalPensieve",lastquality:r,buffer:t,bufferAdjusted:c,bandwidthEst:a,lastRequest:n,RebufferTime:i,lastChunkFinishTime:o._tfinish.getTime(),lastChunkStartTime:o.tresponse.getTime(),lastChunkSize:M(o)},s.send(JSON.stringify(u)),c=t-.15-.4-4,console.log("[pensieve] Using local pensieve."),e.next=50,regeneratorRuntime.awrap(function(t,n,r,i,o,a){var s,u,l,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e,n){var t=n.reduce(function(e,t){return e+t}),r=Math.random()*t;return e.find(function(e,t){return(r-=n[t])<0})},null==K)return e.next=4,regeneratorRuntime.awrap(Te.InferenceSession.create("./model.onnx"));e.next=6;break;case 4:K=e.sent,console.log("[pensieve] model.onnx loaded.");case 6:for(console.log("[pensieve] prevQuality:",t,", buffer:",n,", nextChunkSize:",i,", delay:",o),null!=t&&!isNaN(t)||(console.error("[pensieve] prevQuality is NaN or undefined! Changing it to 1."),t=1),s=0;s<6;s++)C[s].push(C[s].shift());for(C[0][7]=r[t]/Math.max.apply(Math,se(r)),C[1][7]=n/10,C[2][7]=i[t]/o/1e3,C[3][7]=o/1e3/10,s=0;s<i.length;s++)C[4][s]=i[s]/1e3/1e3;return C[5][7]=Math.min(a,48)/48,console.log("[pensieve] pensieveState:",C),u=Float32Array.from((u=[]).concat.apply(u,se(C))),u=new Te.Tensor("float32",u,[1,6,8]),u={state:u},e.next=21,regeneratorRuntime.awrap(K.run(u));case 21:return u=e.sent,c=u.probability.data,console.log("[pensieve] probability:",c),c=l(Array.from({length:r.length},function(e,t){return t}),c),console.log("[pensieve] bitrate:",c),null!=c&&!isNaN(c)||(console.error("[pensieve] bitrate is NaN or undefined! Changing it to "+t+"."),c=t),e.abrupt("return",c);case 28:case"end":return e.stop()}},null,this)}(r,t,f,u.nextChunkSize,u.lastChunkFinishTime-u.lastChunkStartTime,48-n));case 50:return e.abrupt("return",e.sent);case 51:return(s=new XMLHttpRequest).open("POST","http://"+xe+":"+Se,!1),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&(console.log("GOT RESPONSE:"+s.responseText+"---"),"REFRESH"==s.responseText)&&document.location.reload(!0)},u={nextChunkSize:N(n+1),Type:"Fixed Quality (0)",lastquality:0,buffer:t,bufferAdjusted:c,bandwidthEst:a,lastRequest:n,RebufferTime:i,lastChunkFinishTime:o._tfinish.getTime(),lastChunkStartTime:o.tresponse.getTime(),lastChunkSize:M(o)},s.send(JSON.stringify(u)),e.abrupt("return",0);case 57:case"end":return e.stop()}},null,this)}function te(e,t,n,r){var i=t.id,o=F(e,t);if(!(null!==n&&!isNaN(n)&&n%1==0))throw new Error("argument is not an integer");n!==o&&0<=n&&n<=L(e,i)&&ne(e,t,o,n,r)}function ne(e,t,n,r,i){var o,a,s;o=e,a=t.id,s=r,c[a]=c[a]||{},c[a][o]=s,u.trigger(ge.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:t,oldQuality:n,newQuality:r,reason:i})}function re(e,t){x[e].state=t}function ie(e,t){var n=oe(e);if(n&&0!==n.length)for(var r=n.length-1;0<=r;r--)if(1e3*t>=n[r].bitrate)return r;return 0}function oe(e){if(!e||!e.bitrateList)return null;for(var t,n=e.bitrateList,r=e.type,i=[],o=0,a=n.length;o<a;o++)(t=new le.default).mediaType=r,t.qualityIndex=o,t.bitrate=n[o].bandwidth,t.width=n[o].width,t.height=n[o].height,i.push(t);return i}function F(e,t){t=t.id;return c[t]=c[t]||{},c[t].hasOwnProperty(e)||(c[t][e]=0),c[t][e]}function ae(r){var i,o=r.request.mediaType;if(J(o)){e=_.getRules(fe.default.ABANDON_FRAGMENT_RULES);var e=(i=E[o].getScheduleController())?void b.applyRules(e,E[o],function(e){var t,n;e.confidence===ue.default.STRONG&&e.value<F(o,a.getActiveStreamInfo())&&(n=(t=i.getFragmentModel()).getRequests({state:pe.default.FRAGMENT_MODEL_LOADING,index:r.request.index})[0])&&(t.abortRequests(),re(o,we),te(o,a.getActiveStreamInfo(),e.value,e.reason),u.trigger(ge.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:E[o],request:n,mediaType:o}),clearTimeout(S),S=setTimeout(function(){re(o,Ee),S=null},H.getAbandonLoadTimeout()))},r,function(e,t){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}},null,this)}):{v:void 0};if("object"==typeof e)return e.v}}return e={isPlayingAtTopQuality:function(e){var t=e.id,n=F("audio",e),e=F("video",e);return n===L("audio",t)&&e===L("video",t)},updateTopQualityIndex:function(e){var t,n=e.type,r=e.streamInfo.id,e=e.representationCount-1;return n=n,t=e,i[r=r]=i[r]||{},i[r][n]=t,e},getAverageThroughput:function(e){return r[e]},getBitrateList:oe,getQualityForBitrate:ie,getMaxAllowedBitrateFor:Q,setMaxAllowedBitrateFor:function(e,t){o.max=o.max||{},o.max[e]=t},getMaxAllowedRepresentationRatioFor:Z,setMaxAllowedRepresentationRatioFor:function(e,t){w.max=w.max||{},w.max[e]=t},getInitialBitrateFor:function(e){var t,n,r=q.getSavedBitrateSettings(e);return o.hasOwnProperty(e)||(w.hasOwnProperty(e)?(t=I.getValue(),t=P.getAdaptationForType(t,0,e).Representation,Array.isArray(t)?(n=Math.max(Math.round(t.length*w[e])-1,0),o[e]=t[n].bandwidth):o[e]=0):isNaN(r)?o[e]="video"===e?1e3:100:o[e]=r),o[e]},setInitialBitrateFor:function(e,t){o[e]=t},getInitialRepresentationRatioFor:function(e){return w.hasOwnProperty(e)?w[e]:null},setInitialRepresentationRatioFor:function(e,t){w[e]=t},setAutoSwitchBitrateFor:function(e,t){n[e]=t},getAutoSwitchBitrateFor:J,setLimitBitrateByPortal:function(e){O=e},getLimitBitrateByPortal:function(){return O},getUsePixelRatioInLimitBitrateByPortal:function(){return A},setUsePixelRatioInLimitBitrateByPortal:function(e){A=e},getConfidenceFor:function(e,t){return T[t]=T[t]||{},T[t].hasOwnProperty(e)||(T[t][e]=0),T[t][e]},getQualityFor:F,getAbandonmentStateFor:function(e){return x[e].state},setAbandonmentStateFor:re,setPlaybackQuality:te,setAbrAlgorithm:function(e){d=e},getPlaybackQuality:function(t,a){var s,u,l,n,r,c=arguments.length<=2||void 0===arguments[2]?0:arguments[2],f=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:s=t.getType(),u=t.getStreamInfo(),l=u.id,n=function(e){var t,n,r,i=L(s,l),o=e.value,i=(i<(o=o<0?0:o)&&(o=i),F(s,u));o!==i&&(x[s].state===Ee||i<o)&&(t=s,n=l,r=e.confidence,T[n]=T[n]||{},T[n][t]=r,ne(s,u,i,o,e.reason)),a&&a()},J(s)?(r=_.getRules(fe.default.QUALITY_SWITCH_RULES),b.applyRules(r,t,n,F(s,u),function(t,n){var r,i,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t===ue.default.NO_CHANGE?0:t,0==d)return r=R.getReadOnlyMetricsFor("video"),r=D.getCurrentHttpRequest(r),o=X(h,0,r),(i=new XMLHttpRequest).open("POST","http://"+xe+":"+Se,!1),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&(console.log("GOT RESPONSE:"+i.responseText+"---"),"REFRESH"==i.responseText)&&document.location.reload(!0)},o={nextChunkSize:N(h+1),Type:"Default",lastquality:0,buffer:c,bufferAdjusted:c-.15-.4-4,bandwidthEst:o,lastRequest:h,RebufferTime:f,lastChunkFinishTime:r._tfinish.getTime(),lastChunkStartTime:r.tresponse.getTime(),lastChunkSize:M(r)},i.send(JSON.stringify(o)),e.abrupt("return",Math.max(t,n));e.next=12;break;case 12:return e.next=14,regeneratorRuntime.awrap(ee(c,h,g,f));case 14:if(g=e.sent,h+=1,6==d)return g=Math.max(t,n),e.abrupt("return",Math.max(t,n));e.next=19;break;case 19:return n=g,e.abrupt("return",g);case 21:case"end":return e.stop()}},null,this)})):a&&a();case 5:case"end":return e.stop()}},null,this)},setAverageThroughput:function(e,t){r[e]=t},getTopQualityIndexFor:L,initialize:function(e,t){E[e]=t,x[e]=x[e]||{},x[e].state=Ee,u.on(ge.default.LOADING_PROGRESS,ae,this)},setConfig:function(e){e&&(e.abrRulesCollection&&(_=e.abrRulesCollection),e.rulesController&&(b=e.rulesController),e.streamController)&&(a=e.streamController)},reset:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return u.off(ge.default.LOADING_PROGRESS,ae,this),clearTimeout(S),S=null,e.next=5,regeneratorRuntime.awrap(W());case 5:case"end":return e.stop()}},null,this)}},W(),e}o.__dashjs_factory_name="AbrController";e=i.default.getSingletonFactory(o);e.ABANDON_LOAD=we,e.QUALITY_DEFAULT=0,n.default=e,t.exports=n.default},{198:198,2:2,203:203,204:204,207:207,211:211,216:216,293:293,294:294,295:295,296:296,298:298,324:324,325:325,344:344,355:355}],255:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=r(e(292)),u=r(e(340)),l=r(e(353)),c=r(e(234)),i=r(e(204)),f=r(e(203)),d=r(e(207));function o(){var e=void 0,t=this.context,n=(0,f.default)(t).getInstance(),r=(0,l.default)(t).getInstance(),i=void 0,o=void 0;function a(e){i.invalidateSelectedIndexes(e.entry)}return e={reset:function(){i.reset(),o.reset()},initialize:function(e){e=e,i.update(e),o.chooseSelectorFromManifest(e)},resolve:function(e){if(e=i.getForPath(e).reduce(function(e,t){t=o.select(t);return t&&(r.isRelative(t.url)?e.url+=t.url:r.isPathAbsolute(t.url)?e.url=r.parseOrigin(e.url)+t.url:(e.url=t.url,e.serviceLocation=t.serviceLocation)),e},new c.default),!r.isRelative(e.url))return e}},i=(0,s.default)(t).create(),o=(0,u.default)(t).create(),n.on(d.default.SERVICE_LOCATION_BLACKLIST_CHANGED,a,e),e}o.__dashjs_factory_name="BaseURLController",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{203:203,204:204,207:207,234:234,292:292,340:340,353:353}],256:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),s=r(e(203));function o(e){var t=[],n=(0,s.default)(this.context).getInstance(),r=e.updateEventName,i=e.loadFailedEventName;function o(e){-1===t.indexOf(e)&&(t.push(e),n.trigger(r,{entry:e}))}function a(e){e.error&&o(e.request.serviceLocation)}return function(){i&&n.on(i,a,this)}(),{add:o,contains:function(e){return!!(t.length&&e&&e.length)&&-1!==t.indexOf(e)},reset:function(){t=[]}}}o.__dashjs_factory_name="BlackListController",n.default=i.default.getClassFactory(o),t.exports=n.default},{203:203,204:204}],257:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var oe=r(e(293)),ae=r(e(295)),se=r(e(264)),ue=r(e(254)),le=r(e(262)),ce=r(e(260)),fe=r(e(203)),de=r(e(207)),pe=r(e(341)),i=r(e(204)),he=r(e(202)),ge=r(e(347)),me="bufferLoaded",ye="bufferStalled";function o(e){var d=this.context,i=(0,he.default)(d).getInstance().log,o=(0,fe.default)(d).getInstance(),t=e.metricsModel,F=e.manifestModel,a=e.sourceBufferController,k=e.errHandler,U=e.streamController,j=e.mediaController,p=e.adapter,n=e.textSourceBuffer,r=0,s=-1,u=void 0,l=void 0,c=void 0,f=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,w=void 0,E=void 0,x=void 0,S=void 0,O=void 0,A=void 0,I=void 0,P=void 0,D=void 0;function R(e){e.fragmentModel===O.getFragmentModel()&&(i("Init fragment finished loading saving to",v+"'s init cache"),D.save(e.chunk),C(e.chunk))}function B(e){var t,n,r,i,o;e.fragmentModel===O.getFragmentModel()&&(t=(e=e.chunk).bytes,n=e.quality,o=O.getRepresentationInfoForQuality(n),i=F.getValue(),r=p.getEventsFor(i,o.mediaInfo,O),i=p.getEventsFor(i,o,O),(0<r.length||0<i.length)&&(o=function(e,t,n,r){for(var i=Math.max(isNaN(t.startTime)?0:t.startTime,0),o=[],a=[],s=(x=!1,n.concat(r)),u=0,l=s.length;u<l;u++)o[s[u].schemeIdUri]=s[u];for(var c=(0,pe.default)(d).getInstance().parse(e).getBoxes("emsg"),u=0,l=c.length;u<l;u++){var f=p.getEvent(c[u],o,i);f&&a.push(f)}return a}(t,O.getFragmentModel().getRequests({state:oe.default.FRAGMENT_MODEL_EXECUTED,quality:n,index:e.index})[0],r,i),O.getEventController().addInbandEvents(o)),e.bytes=function(e){if(!x)return e;var t=e.length,n=Math.pow(256,2),r=Math.pow(256,3),i=new Uint8Array(e.length),o=0,a=0;for(;o<t;){var s=String.fromCharCode(e[o+4],e[o+5],e[o+6],e[o+7]),u=e[o]*r+e[o+1]*n+256*e[o+2]+ +e[o+3];if("emsg"!=s)for(var l=o;l<o+u;l++)i[a]=e[l],a++;o+=u}return i.subarray(0,a)}(t),C(e))}function C(e){E=!0,T=e,a.append(_,e),"video"===e.mediaInfo.type&&e.mediaInfo.embeddedCaptions&&n.append(e.bytes,e)}function $(e){if(_===e.buffer)if(e.error||!N())e.error.code===se.default.QUOTA_EXCEEDED_ERROR_CODE&&(h=.8*a.getTotalBufferedTime(_)),e.error.code!==se.default.QUOTA_EXCEEDED_ERROR_CODE&&N()||(o.trigger(de.default.QUOTA_EXCEEDED,{sender:u,criticalBufferLevel:h}),X(Y()));else{isNaN(T.index)||(m=Math.max(T.index,m),q());var t=a.getAllRanges(_);if(t&&0<t.length)for(var n=0,r=t.length;n<r;n++)i("Buffered Range for type:",v,":",t.start(n)," - ",t.end(n));M(),E=!1,o.trigger(de.default.BYTES_APPENDED,{sender:u,quality:T.quality,startTime:T.start,index:T.index,bufferedRanges:t})}}function V(e){l!==e.newQuality&&v===e.mediaType&&O.getStreamInfo().id===e.streamInfo.id&&(L(O.getRepresentationInfoForQuality(e.newQuality).MSETimeOffset),l=e.newQuality)}function G(){y=0,c=!1,M()}function M(){z(),H()}function z(){f=a.getBufferLength(_,S.getTime()),o.trigger(de.default.BUFFER_LEVEL_UPDATED,{sender:u,bufferLevel:f}),K()}function H(){O.getStreamInfo().id===U.getActiveStreamInfo().id&&(t.addBufferState(v,b,I.getBufferTarget()),t.addBufferLevel(v,new Date,1e3*f))}function q(){m!==y-1||c||(c=!0,o.trigger(de.default.BUFFERING_COMPLETED,{sender:u,streamInfo:O.getStreamInfo()}))}function K(){var e;f<.5&&!c?(-1==s&&(s=Date.now()),W(ye)):(e=0,-1!=s&&(e=Date.now()-s,s=-1),r+=e,W(me))}function W(e){b===e||"fragmentedText"===v&&n.getAllTracksAreDisabled()||(b=e,H(),o.trigger(de.default.BUFFER_LEVEL_STATE_CHANGED,{sender:u,state:e,mediaType:v,streamInfo:O.getStreamInfo()}),o.trigger(e===me?de.default.BUFFER_LOADED:de.default.BUFFER_EMPTY,{mediaType:v}),i(e===me?"Got enough buffer to start.":"Waiting for more buffer before starting playback."))}function N(){return a.getTotalBufferedTime(_)<h}function Y(){var e,t,n;return _?(e=S.getTime(),n=O.getFragmentModel().getRequests({state:oe.default.FRAGMENT_MODEL_EXECUTED,time:e})[0],t=a.getBufferRange(_,e),n=n&&!isNaN(n.startTime)?n.startTime:Math.floor(e),null===t&&0<_.buffered.length&&(n=_.buffered.end(_.buffered.length-1)),{start:_.buffered.start(0),end:n}):null}function X(e){e&&_&&a.remove(_,e.start,e.end,g)}function Q(e){_===e.buffer&&(z(),o.trigger(de.default.BUFFER_CLEARED,{sender:u,from:e.from,to:e.to,hasEnoughSpaceToAppend:N()}))}function L(e){_&&_.timestampOffset!==e&&!isNaN(e)&&(_.timestampOffset=e)}function Z(e){e.sender.getStreamProcessor()!==O||e.error||L(e.currentRepresentation.MSETimeOffset)}function J(e){e.fragmentModel===O.getFragmentModel()&&(y=e.request.index,q())}function ee(e){_&&e.newMediaInfo.type===v&&e.newMediaInfo.streamInfo.id===O.getStreamInfo().id&&j.getSwitchMode(v)===ce.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&X(Y())}function te(){var e,t;++w*(P.getWallclockTimeUpdateInterval()/1e3)>=P.getBufferPruningInterval()&&!E&&(w=0,"fragmentedText"!==v)&&(e=_.buffered.length?_.buffered.start(0):0,0<(t=S.getTime()-e-P.getBufferToKeep()))&&(i("pruning buffer: "+t+" seconds."),a.remove(_,0,Math.round(e+t),g))}function ne(){K()}function re(e){_=e}function ie(e){g=e}return u={initialize:function(e,t,n){v=e,ie(t),O=n,P=(0,ae.default)(d).getInstance(),S=(0,le.default)(d).getInstance(),A=(0,ue.default)(d).getInstance(),D=(0,ge.default)(d).getInstance(),I=O.getScheduleController(),l=A.getQualityFor(v,O.getStreamInfo()),o.on(de.default.DATA_UPDATE_COMPLETED,Z,this),o.on(de.default.INIT_FRAGMENT_LOADED,R,this),o.on(de.default.MEDIA_FRAGMENT_LOADED,B,this),o.on(de.default.QUALITY_CHANGE_REQUESTED,V,this),o.on(de.default.STREAM_COMPLETED,J,this),o.on(de.default.PLAYBACK_PROGRESS,M,this),o.on(de.default.PLAYBACK_TIME_UPDATED,M,this),o.on(de.default.PLAYBACK_RATE_CHANGED,ne,this),o.on(de.default.PLAYBACK_SEEKING,G,this),o.on(de.default.WALLCLOCK_TIME_UPDATED,te,this),o.on(de.default.CURRENT_TRACK_CHANGED,ee,this,fe.default.EVENT_PRIORITY_HIGH),o.on(de.default.SOURCEBUFFER_APPEND_COMPLETED,$,this),o.on(de.default.SOURCEBUFFER_REMOVE_COMPLETED,Q,this)},createBuffer:function(e){if(!e||!g||!O)return null;var t=null;try{(t=a.createSourceBuffer(g,e))&&t.hasOwnProperty("initialize")&&t.initialize(v,this)}catch(e){k.mediaSourceError("Error creating "+v+" source buffer.")}return re(t),L(O.getRepresentationInfoForQuality(l).MSETimeOffset),t},getType:function(){return v},getStreamProcessor:function(){return O},setStreamProcessor:function(e){O=e},getBuffer:function(){return _},setBuffer:re,getBufferLevel:function(){return f},getRebufferTime:function(){return r},getCriticalBufferLevel:function(){return h},setMediaSource:ie,getMediaSource:function(){return g},getIsBufferingCompleted:function(){return c},switchInitData:function(e,t){(e=D.extract(e,v,t))?C(e):o.trigger(de.default.INIT_REQUESTED,{sender:u})},reset:function(e){o.off(de.default.DATA_UPDATE_COMPLETED,Z,this),o.off(de.default.QUALITY_CHANGE_REQUESTED,V,this),o.off(de.default.INIT_FRAGMENT_LOADED,R,this),o.off(de.default.MEDIA_FRAGMENT_LOADED,B,this),o.off(de.default.STREAM_COMPLETED,J,this),o.off(de.default.CURRENT_TRACK_CHANGED,ee,this),o.off(de.default.PLAYBACK_PROGRESS,M,this),o.off(de.default.PLAYBACK_TIME_UPDATED,M,this),o.off(de.default.PLAYBACK_RATE_CHANGED,ne,this),o.off(de.default.PLAYBACK_SEEKING,G,this),o.off(de.default.WALLCLOCK_TIME_UPDATED,te,this),o.off(de.default.SOURCEBUFFER_APPEND_COMPLETED,$,this),o.off(de.default.SOURCEBUFFER_REMOVE_COMPLETED,Q,this),h=Number.POSITIVE_INFINITY,b=ye,l=ue.default.QUALITY_DEFAULT,m=y=0,E=c=!1,I=A=O=S=T=null,e||(a.abort(g,_),a.removeSourceBuffer(g,_)),_=null}},l=ue.default.QUALITY_DEFAULT,c=!1,f=0,h=Number.POSITIVE_INFINITY,_=null,w=y=m=0,x=E=!(b=ye),u}o.__dashjs_factory_name="BufferController";e=i.default.getClassFactory(o);e.BUFFER_LOADED=me,e.BUFFER_EMPTY=ye,n.default=e,t.exports=n.default},{202:202,203:203,204:204,207:207,254:254,260:260,262:262,264:264,293:293,295:295,341:341,347:347}],258:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var v=r(e(262)),i=r(e(204)),_=r(e(202)),b=r(e(203));function o(){var u="urn:mpeg:dash:event:2012",l=1,e=this.context,c=(0,_.default)(e).getInstance().log,f=(0,b.default)(e).getInstance(),o=void 0,a=void 0,d=void 0,t=void 0,n=void 0,p=void 0,h=void 0,g=void 0,m=void 0,r=void 0;function i(){null!==t&&r&&(clearInterval(t),t=null,r=!1)}function s(){if(y(a),y(o),d)for(var e=m.getTime(),t=Object.keys(d),n=0;n<t.length;n++){var r=t[n],i=d[r];null!==i&&(i.duration+i.presentationTime)/i.eventStream.timescale<e&&(c("Remove Event "+r+" at time "+e),delete d[r])}}function y(e){var t,n,r=m.getTime();if(e)for(var i=Object.keys(e),o=0;o<i.length;o++){var a=i[o],s=e[a];void 0!==s&&(0==(t=s.presentationTime/s.eventStream.timescale)||t<=r&&r<t+p)&&(c("Start Event "+a+" at "+r),0<s.duration&&(d[a]=s),s.eventStream.schemeIdUri==u&&s.eventStream.value==l?(n=t=void 0,t=h.getValue(),n=t.url,t.hasOwnProperty("Location")&&(n=t.Location),c("Refresh manifest @ "+n),g.getManifestLoader().load(n)):f.trigger(s.eventStream.schemeIdUri,{event:s}),delete e[a])}}return{initialize:function(){r=!1,o={},a={},d={},p=(n=100)/1e3,m=(t=null,v.default)(e).getInstance()},addInlineEvents:function(e){if(o={},e)for(var t=0;t<e.length;t++){var n=e[t];o[n.id]=n,c("Add inline event with id "+n.id)}c("Added "+e.length+" inline events")},addInbandEvents:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.id in a?c("Repeated event with id "+n.id):(a[n.id]=n,c("Add inband event with id "+n.id))}},clear:i,start:function(){c("Start Event Controller"),r||isNaN(n)||(r=!0,t=setInterval(s,n))},setConfig:function(e){e&&(e.manifestModel&&(h=e.manifestModel),e.manifestUpdater)&&(g=e.manifestUpdater)},reset:function(){i(),m=d=a=o=null}}}o.__dashjs_factory_name="EventController",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{202:202,203:203,204:204,262:262}],259:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(374),f=r(e(356)),o=r(e(293)),a=r(e(296)),d=r(e(203)),p=r(e(207)),s=r(e(204)),h=r(e(202));function u(){var n=this.context,s=(0,h.default)(n).getInstance().log,u=(0,d.default)(n).getInstance(),e=void 0,l=void 0;function c(e){return e&&e.type&&e.type===i.HTTPRequest.INIT_SEGMENT_TYPE}function t(e){var t,n,r,i,o,a;l[e.request.mediaType]===e.sender&&(o=e.sender.getScheduleController(),t=e.request,r=e.response,n=c(t),o=o.getStreamProcessor().getStreamInfo().id,r?(r=r,i=t,o=o,(a=new f.default).streamId=o,a.mediaInfo=i.mediaInfo,a.segmentType=i.type,a.start=i.startTime,a.duration=i.duration,a.end=a.start+a.duration,a.bytes=r,a.index=i.index,a.quality=i.quality,o=a,u.trigger(n?p.default.INIT_FRAGMENT_LOADED:p.default.MEDIA_FRAGMENT_LOADED,{chunk:o,fragmentModel:e.sender})):s("No "+t.mediaType+" bytes to push."))}return e={process:function(e){var t=null;return t=null!=e&&0<e.byteLength?new Uint8Array(e):t},getModel:function(e){var t=l[e];return t||(t=(0,o.default)(n).create({metricsModel:(0,a.default)(n).getInstance()}),l[e]=t),t},isInitializationRequest:c,reset:function(){for(var e in u.off(p.default.FRAGMENT_LOADING_COMPLETED,t,this),l)l[e].reset();l={}}},l={},u.on(p.default.FRAGMENT_LOADING_COMPLETED,t,e),e}u.__dashjs_factory_name="FragmentController",n.default=s.default.getClassFactory(u),t.exports=n.default},{202:202,203:203,204:204,207:207,293:293,296:296,356:356,374:374}],260:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var w=r(e(207)),E=r(e(203)),i=r(e(204)),x=r(e(202)),S=r(e(250)),O=r(e(344)),A="neverReplace",I="alwaysReplace",P="highestBitrate",D="widestRange",R=P;function o(){var e=this.context,o=(0,x.default)(e).getInstance().log,i=(0,E.default)(e).getInstance(),t=(0,S.default)(e).getInstance(),a=(0,O.default)(e).getInstance(),s=void 0,n=void 0,r=void 0,u=void 0,l=[I,A],c=[P,D];function f(){s={},n={audio:null,video:null},u={audio:I,video:A}}function d(e,t){return e&&t&&(t=t.id,s[t])&&s[t][e]?s[t][e].list:[]}function p(e,t){return!e||!t||t&&!s[t.id]?null:s[t.id][e].current}function h(e){var t,n,r;e&&(t=e.type,n=(r=e.streamInfo).id,r=p(t,r),!s[n]||!s[n][t]||r&&_(e,r)||(s[n][t].current=e,r&&i.trigger(w.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:r,newMediaInfo:e,switchMode:u[t]}),(r=function(e){e={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};return e.lang||e.viewpoint||e.role&&0<e.role.length||e.accessibility&&0<e.accessibility.length||e.audioChannelConfiguration&&0<e.audioChannelConfiguration.length?e:null}(e))&&s[n][t].storeLastSettings&&(r.roles&&(r.role=r.roles[0],delete r.roles),r.accessibility&&(r.accessibility=r.accessibility[0]),r.audioChannelConfiguration&&(r.audioChannelConfiguration=r.audioChannelConfiguration[0]),a.setSavedMediaSettings(t,r))))}function g(e,t){e&&t&&(n[e]=t)}function m(e){return e?n[e]:null}function y(){return r||R}function v(e){return"audio"===e||"video"===e||"text"===e||"fragmentedText"===e}function _(e,t){var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),a=e.accessibility.toString()===t.accessibility.toString(),e=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&i&&o&&a&&e}function b(t,e){var n=!t.lang||t.lang===e.lang,r=!t.viewpoint||t.viewpoint===e.viewpoint,i=!t.role||!!e.roles.filter(function(e){return e===t.role})[0],o=!t.accessibility||!!e.accessibility.filter(function(e){return e===t.accessibility})[0],e=!t.audioChannelConfiguration||!!e.audioChannelConfiguration.filter(function(e){return e===t.audioChannelConfiguration})[0];return n&&r&&i&&o&&e}function T(e){function t(e){var t,n=0,r=[];return e.forEach(function(e){t=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})),n<t?(n=t,r=[e]):t===n&&r.push(e)}),r}function n(e){var t,n=0,r=[];return e.forEach(function(e){t=e.representationCount,n<t?(n=t,r=[e]):t===n&&r.push(e)}),r}var r=y(),i=[];switch(r){case P:1<(i=t(e)).length&&(i=n(i));break;case D:1<(i=n(e)).length&&(i=t(e));break;default:o("track selection mode is not supported: "+r)}return i[0]}return{initialize:f,checkInitialMediaSettingsForType:function(e,t){var n=m(e),t=d(e,t),r=[];"fragmentedText"===e?h(t[0]):(n||g(e,n=a.getSavedMediaSettings(e)),t&&0!==t.length&&(n&&t.forEach(function(e){b(n,e)&&r.push(e)}),h(0===r.length?T(t):1<r.length?T(r):r[0])))},addTrack:function(e){var t=e?e.type:null,n=e?e.streamInfo.id:null,r=m(t);return!(!e||!v(t)||(s[n]=s[n]||{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}},0<=s[n][t].list.indexOf(e))||(s[n][t].list.push(e),r&&b(r,e)&&!p(t,e.streamInfo)&&h(e),0))},getTracksFor:d,getCurrentTrackFor:p,isCurrentTrack:function(e){var t=e.type,n=e.streamInfo.id;return s[n]&&s[n][t]&&_(s[n][t].current,e)},setTrack:h,setInitialSettings:g,getInitialSettings:m,setSwitchMode:function(e,t){-1!==l.indexOf(t)?u[e]=t:o("track switch mode is not supported: "+t)},getSwitchMode:function(e){return u[e]},setSelectionModeForInitialTrack:function(e){-1!==c.indexOf(e)?r=e:o("track selection mode is not supported: "+e)},getSelectionModeForInitialTrack:y,isMultiTrackSupportedByType:v,isTracksEqual:_,setConfig:function(e){e&&e.errHandler&&e.errHandler},reset:function(){f(),t.resetEmbedded()}}}o.__dashjs_factory_name="MediaController";e=i.default.getSingletonFactory(o);e.TRACK_SWITCH_MODE_NEVER_REPLACE=A,e.TRACK_SWITCH_MODE_ALWAYS_REPLACE=I,e.TRACK_SELECTION_MODE_HIGHEST_BITRATE=P,e.TRACK_SELECTION_MODE_WIDEST_RANGE=D,e.DEFAULT_INIT_TRACK_SELECTION_MODE=R,n.default=e,t.exports=n.default},{202:202,203:203,204:204,207:207,250:250,344:344}],261:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){return{createMediaSource:function(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null},attachMediaSource:function(e,t){return e=window.URL.createObjectURL(e),t.setSource(e),e},detachMediaSource:function(e){e.setSource(null)},setDuration:function(e,t){return e.duration!=t&&(e.duration=t),e.duration},signalEndOfStream:function(e){var t=e.sourceBuffers,n=t.length,r=0;if("open"===e.readyState){for(;r<n;r++){if(t[r].updating)return;if(0===t[r].buffered.length)return}e.endOfStream()}}}}r.__dashjs_factory_name="MediaSourceController",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],262:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var Z=r(e(257)),J=r(e(297)),ee=r(e(295)),te=r(e(203)),ne=r(e(207)),i=r(e(204)),re=r(e(202));function o(){var e,o=this.context,t=(0,re.default)(o).getInstance().log,n=(0,te.default)(o).getInstance(),r=void 0,a=void 0,i=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0;function T(){p=0,h=NaN,v=g=null,_=(b=!(m={}),ee.default)(o).getInstance()}function F(e){e.fromStreamInfo&&m[e.fromStreamInfo.id]&&delete m[e.fromStreamInfo.id]}function w(){return D(!0)+y.duration-A()}function E(){var e;r?(r.autoplay=!0,(e=r.play())&&"undefined"!=typeof Promise&&e instanceof Promise&&e.catch(function(e){"NotAllowedError"===e.name&&n.trigger(ne.default.PLAYBACK_NOT_ALLOWED),t("Caught pending play exception - continuing ("+e+")")})):b=!0}function x(){if(r)return r.paused}function S(){r&&(r.pause(),r.autoplay=!1)}function O(e){d&&(t("Requesting seek to time: "+e),d.setCurrentTime(e))}function A(){if(r)return r.currentTime}function I(){if(r)return r.playbackRate}function P(){if(r)return r.ended}function D(e){var t=void 0,n=(0,J.default)(o).getInstance().getURIFragmentData(),r=parseInt(n.s,10),n=parseInt(n.t,10),i=NaN;return e||(i=isNaN(r)?n:r),t=v?(t=!isNaN(i)&&1262304e3<i&&(t=i-y.manifestInfo.availableFrom.getTime()/1e3,h<t||t<h-y.manifestInfo.DVRWindowSize)?null:t)||h:!isNaN(i)&&i<Math.max(y.manifestInfo.duration,y.duration)&&0<=i?i:(void 0===(e=m[y.id])&&(e=a.getActiveStreamCommonEarliestTime()),Math.max(e,y.start))}function R(){null===g&&(g=setInterval(function(){n.trigger(ne.default.WALLCLOCK_TIME_UPDATED,{isDynamic:v,time:new Date})},_.getWallclockTimeUpdateInterval()))}function C(){clearInterval(g),g=null}function M(){var e=D(!1);0<e&&(O(e),t("Starting playback at offset: "+e))}function N(){var e,t,n;!x()&&v&&0!==r.readyState&&(e=A(),t=e,n=s.getReadOnlyMetricsFor("video")||s.getReadOnlyMetricsFor("audio"),t=(n=(n=u.getCurrentDVRInfo(n))?n.range:null)?t>=n.start&&t<=n.end?t:Math.max(n.end-2*y.manifestInfo.minBufferTime,n.start):NaN,isNaN(t)||t===e||O(t))}function L(e){e.error||(e=f.convertDataToTrack(l.getValue(),e.currentRepresentation).mediaInfo.streamInfo,y.id===e.id&&(y=e,N()))}function k(e){e.error||0===r.readyState||M()}function U(){n.trigger(ne.default.CAN_PLAY)}function j(){t("Native video element event: play"),N(),R(),n.trigger(ne.default.PLAYBACK_STARTED,{startTime:A()})}function B(){t("Native video element event: playing"),n.trigger(ne.default.PLAYBACK_PLAYING,{playingTime:A()})}function $(){t("Native video element event: pause"),n.trigger(ne.default.PLAYBACK_PAUSED,{ended:P()})}function V(){var e=A();t("Seeking to: "+e),R(),n.trigger(ne.default.PLAYBACK_SEEKING,{seekTime:e})}function G(){t("Native video element event: seeked"),n.trigger(ne.default.PLAYBACK_SEEKED)}function z(){var e=A();e!==p&&(p=e,n.trigger(ne.default.PLAYBACK_TIME_UPDATED,{timeToEnd:w(),time:e}))}function H(){n.trigger(ne.default.PLAYBACK_PROGRESS)}function q(){var e=I();t("Native video element event: ratechange: ",e),n.trigger(ne.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function K(){t("Native video element event: loadedmetadata"),(!v&&y.isFirst||i.isTimeSyncCompleted())&&M(),n.trigger(ne.default.PLAYBACK_METADATA_LOADED),R()}function W(){t("Native video element event: ended"),S(),C(),n.trigger(ne.default.PLAYBACK_ENDED)}function Y(e){e=e.target||e.srcElement;n.trigger(ne.default.PLAYBACK_ERROR,{error:e.error})}function X(e){var e=e.bufferedRanges;e&&e.length&&(e=Math.max(e.start(0),y.start),(e=void 0===m[y.id]?e:Math.max(m[y.id],e))!==m[y.id])&&(!v&&D(!0)<e&&A()<e&&O(e),m[y.id]=e)}function Q(e){e.streamInfo.id===y.id&&d.setStallState(e.mediaType,e.state===Z.default.BUFFER_EMPTY)}return e={initialize:function(e){console.log("IN STREAM INITIALIZE"),y=e,(r=d.getElement()).addEventListener("canplay",U),r.addEventListener("play",j),r.addEventListener("playing",B),r.addEventListener("pause",$),r.addEventListener("error",Y),r.addEventListener("seeking",V),r.addEventListener("seeked",G),r.addEventListener("timeupdate",z),r.addEventListener("progress",H),r.addEventListener("ratechange",q),r.addEventListener("loadedmetadata",K),r.addEventListener("ended",W),v=y.manifestInfo.isDynamic,h=y.start,n.on(ne.default.DATA_UPDATE_COMPLETED,L,this),n.on(ne.default.LIVE_EDGE_SEARCH_COMPLETED,k,this),n.on(ne.default.BYTES_APPENDED,X,this),n.on(ne.default.BUFFER_LEVEL_STATE_CHANGED,Q,this),n.on(ne.default.PERIOD_SWITCH_STARTED,F,this),b&&(b=!1,E())},setConfig:function(e){e&&(e.streamController&&(a=e.streamController),e.timelineConverter&&(i=e.timelineConverter),e.metricsModel&&(s=e.metricsModel),e.dashMetrics&&(u=e.dashMetrics),e.manifestModel&&(l=e.manifestModel),e.dashManifestModel&&(c=e.dashManifestModel),e.adapter&&(f=e.adapter),e.videoModel)&&(d=e.videoModel)},getStreamStartTime:D,getTimeToStreamEnd:w,isPlaybackStarted:function(){return 0<A()},getStreamId:function(){return y.id},getStreamDuration:function(){return y.duration},getTime:A,getPlaybackRate:I,getPlayedRanges:function(){if(r)return r.played},getEnded:P,getIsDynamic:function(){return v},setLiveStartTime:function(e){h=e},getLiveStartTime:function(){return h},computeLiveDelay:function(e,t){var n=c.getMpd(l.getValue()),r=void 0,r=_.getUseSuggestedPresentationDelay()&&n.hasOwnProperty("suggestedPresentationDelay")?n.suggestedPresentationDelay:_.getLiveDelay()?_.getLiveDelay():isNaN(e)?2*y.manifestInfo.minBufferTime:e*_.getLiveDelayFragmentCount(),n=Math.max(t-10,t/2);return Math.min(r,n)},play:E,isPaused:x,pause:S,isSeeking:function(){if(r)return r.seeking},seek:O,reset:function(){d&&r&&(n.off(ne.default.DATA_UPDATE_COMPLETED,L,this),n.off(ne.default.BUFFER_LEVEL_STATE_CHANGED,Q,this),n.off(ne.default.LIVE_EDGE_SEARCH_COMPLETED,k,this),n.off(ne.default.BYTES_APPENDED,X,this),C(),r.removeEventListener("canplay",U),r.removeEventListener("play",j),r.removeEventListener("playing",B),r.removeEventListener("pause",$),r.removeEventListener("error",Y),r.removeEventListener("seeking",V),r.removeEventListener("seeked",G),r.removeEventListener("timeupdate",z),r.removeEventListener("progress",H),r.removeEventListener("ratechange",q),r.removeEventListener("loadedmetadata",K),r.removeEventListener("ended",W)),v=r=y=d=null,T()}},T(),e}o.__dashjs_factory_name="PlaybackController",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{202:202,203:203,204:204,207:207,257:257,295:295,297:297}],263:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),e(8);var ge=e(376),me=r(e(262)),ye=r(e(254)),ve=r(e(257)),_e=r(e(260)),be=r(e(335)),Te=r(e(336)),we=r(e(250)),Ee=r(e(296)),xe=r(e(293)),Se=r(e(211)),Oe=r(e(209)),Ae=r(e(264)),Ie=r(e(349)),Pe=r(e(203)),De=r(e(207)),i=r(e(204)),Re=r(e(265)),Ce=r(e(202));function o(e){var n=this.context,o=(0,Ce.default)(n).getInstance().log,r=(0,Pe.default)(n).getInstance(),i=e.metricsModel,F=e.manifestModel,a=e.adapter,k=e.dashMetrics,s=e.dashManifestModel,U=e.timelineConverter,j=e.mediaPlayerModel,u=void 0,l=void 0,c=void 0,B=void 0,f=void 0,t=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,$=void 0,T=void 0,w=void 0,E=void 0,V=void 0,G=void 0,x=void 0,S=void 0,z=void 0,H=void 0,O=void 0,A=void 0,I=void 0;function P(){l&&(he(),d=!1,t?C(f.quality):R(0),t=t&&!1,o("Schedule controller starting for "+u))}function D(){d||(d=!0,clearTimeout(v),o("Schedule controller stopping for "+u))}function q(){var r,i;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(d||m||!x||b.isPaused()&&!H)return e.abrupt("return");e.next=2;break;case 2:n=t=void 0,t=1.5*f.fragmentDuration,(n=c.getRequests({state:xe.default.FRAGMENT_MODEL_EXECUTED,time:b.getTime()+t,threshold:0})[0])&&-1===I.indexOf(n)&&!s.getIsTextTrack(u)&&(!$.isCurrentTrack(n.mediaInfo)||j.getFastSwitchEnabled()&&n.quality<f.quality&&x.getBufferLevel()>=t&&T.getAbandonmentStateFor(u)!==ye.default.ABANDON_LOAD?(M(n),o("Reloading outdated fragment at index: ",n.index)):n.quality>f.quality&&de(b.getTime()+x.getBufferLevel())),r=0<I.length,S.execute(w,u,E.isVideoTrackPresent())||r?(i=function(){var e;f.quality!==A?(A=f.quality,x.switchInitData(w.getStreamInfo().id,f.quality)):(e=z.execute(w,I.shift()))?c.executeRequest(e):(m=!1,R(250))},m=!0,r?i():(console.log("CALLING ABR STUFF"),T.getPlaybackQuality(w,i,x.getBufferLevel(),x.getRebufferTime()))):R(500);case 6:case"end":return e.stop()}var t,n},null,this)}function R(e){clearTimeout(v),v=setTimeout(q,e)}function K(e){e.sender.getStreamProcessor()===w&&C(f.quality)}function C(e){A=e;e=a.getInitRequest(w,e);e&&(m=!0,c.executeRequest(e))}function M(e){I.push(e)}function W(e){if(u===e.mediaType&&w.getStreamInfo().id===e.streamInfo.id){if(null==(f=w.getRepresentationInfoForQuality(e.newQuality)))throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");L(new Date,ge.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),he()}}function Y(e){var t=c.getRequests({state:xe.default.FRAGMENT_MODEL_EXECUTED,time:b.getTime(),threshold:0})[0];t&&b.getTime()>=t.startTime&&(t.quality!==O&&e&&r.trigger(De.default.QUALITY_CHANGE_RENDERED,{mediaType:u,oldQuality:O,newQuality:t.quality}),O=t.quality)}function X(e){e.error||e.sender.getStreamProcessor()!==w||(f=a.convertDataToTrack(F.getValue(),e.currentRepresentation))}function Q(e){e.error||w.getStreamInfo().id!==e.streamInfo.id||(f=w.getCurrentRepresentationInfo(),B&&null===G.getLiveEdge()||(l=!0),d&&P())}function Z(e){e.fragmentModel===c&&(D(),m=!1,o("Stream is complete"))}function J(e){e.sender===c&&(s.getIsTextTrack(u)&&(m=!1),e.error)&&e.serviceLocation&&!d&&M(e.request)}function ee(){Y(!0)}function te(e){e.sender.getStreamProcessor()===w&&(m=!1,R(0))}function ne(e){e.streamProcessor===w&&(M(e.request),m=!1,R(0))}function re(e){e.sender.getStreamProcessor()===w&&D()}function ie(e){e.sender.getStreamProcessor()===w&&(c.removeExecutedRequestsBeforeTime(e.to),e.hasEnoughSpaceToAppend)&&!x.getIsBufferingCompleted()&&d&&P()}function N(e){e.sender.getStreamProcessor()!==w||e.state!==ve.default.BUFFER_EMPTY||b.isSeeking()||(o("Buffer is empty! Stalling!"),L(new Date,ge.PlayListTrace.REBUFFERING_REASON))}function oe(e){e.sender.getStreamProcessor()===w&&D()}function ae(){c.abortRequests(),D()}function se(e){e.sender.getStreamProcessor()===w&&C(e.index)}function ue(){d&&P()}function le(e){_=e.seekTime,pe(0),d&&P();var e=k.getCurrentManifestUpdate(i.getMetricsFor("stream")),t=f.DVRWindow?f.DVRWindow.end-b.getTime():NaN;i.updateManifestUpdateInfo(e,{latency:t})}function ce(e){h&&(h.playbackspeed=e.playbackRate.toString())}function fe(e){var t,n,r;e.error||(r=f.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,r=e.liveEdge-b.computeLiveDelay(f.fragmentDuration,r),t=k.getCurrentManifestUpdate(i.getMetricsFor("stream")),n=b.getLiveStartTime(),r=a.getFragmentRequestForTime(w,f,r,{ignoreIsFinished:!0}),_=n,(isNaN(n)||r.startTime>n)&&(b.setLiveStartTime(r.startTime),_=r.startTime),i.updateManifestUpdateInfo(t,{currentTime:_,presentationStartTime:e.liveEdge,latency:e.liveEdge-_,clientTimeOffset:U.getClientTimeOffset()}),l=!0,d&&P())}function de(e){_=e}function pe(e){y=e}function L(e,t){var n;p&&!1===g&&(n=h.start,e=e.getTime()-n.getTime(),h.duration=e,h.stopreason=t,p.trace.push(h),g=!0)}function he(){p&&!0===g&&f&&(g=!1,(h=new ge.PlayListTrace).representationid=f.id,h.start=new Date,h.mstart=1e3*b.getTime(),h.playbackspeed=b.getPlaybackRate().toString())}return t=!0,d=!(I=[]),m=!(g=!(h=p=null)),y=0,_=O=A=NaN,{initialize:function(e,t){u=e,w=t,G=(0,Ie.default)(n).getInstance(),b=(0,me.default)(n).getInstance(),$=(0,_e.default)(n).getInstance(),T=(0,ye.default)(n).getInstance(),E=(0,Re.default)(n).getInstance(),V=w.getFragmentController(),x=w.getBufferController(),(c=V.getModel(u)).setScheduleController(this),B=w.isDynamic(),H=j.getScheduleWhilePaused(),S=(0,be.default)(n).create({dashMetrics:(0,Se.default)(n).getInstance(),metricsModel:(0,Ee.default)(n).getInstance(),textSourceBuffer:(0,we.default)(n).getInstance()}),z=(0,Te.default)(n).create({adapter:(0,Oe.default)(n).getInstance(),sourceBufferController:(0,Ae.default)(n).getInstance(),textSourceBuffer:(0,we.default)(n).getInstance()}),s.getIsTextTrack(u)&&r.on(De.default.TIMED_TEXT_REQUESTED,se,this),r.on(De.default.LIVE_EDGE_SEARCH_COMPLETED,fe,this),r.on(De.default.QUALITY_CHANGE_REQUESTED,W,this),r.on(De.default.DATA_UPDATE_STARTED,re,this),r.on(De.default.DATA_UPDATE_COMPLETED,X,this),r.on(De.default.FRAGMENT_LOADING_COMPLETED,J,this),r.on(De.default.STREAM_COMPLETED,Z,this),r.on(De.default.STREAM_INITIALIZED,Q,this),r.on(De.default.BUFFER_LEVEL_STATE_CHANGED,N,this),r.on(De.default.BUFFER_CLEARED,ie,this),r.on(De.default.BYTES_APPENDED,te,this),r.on(De.default.INIT_REQUESTED,K,this),r.on(De.default.QUOTA_EXCEEDED,oe,this),r.on(De.default.BUFFER_LEVEL_STATE_CHANGED,N,this),r.on(De.default.PLAYBACK_STARTED,ue,this),r.on(De.default.PLAYBACK_SEEKING,le,this),r.on(De.default.PLAYBACK_RATE_CHANGED,ce,this),r.on(De.default.PLAYBACK_TIME_UPDATED,ee,this),r.on(De.default.URL_RESOLUTION_FAILED,ae,this),r.on(De.default.FRAGMENT_LOADING_ABANDONED,ne,this)},getStreamProcessor:function(){return w},getSeekTarget:function(){return _},setSeekTarget:de,getFragmentModel:function(){return c},setTimeToLoadDelay:pe,getTimeToLoadDelay:function(){return y},replaceRequest:M,start:P,stop:D,reset:function(){r.off(De.default.LIVE_EDGE_SEARCH_COMPLETED,fe,this),r.off(De.default.DATA_UPDATE_STARTED,re,this),r.off(De.default.DATA_UPDATE_COMPLETED,X,this),r.off(De.default.BUFFER_LEVEL_STATE_CHANGED,N,this),r.off(De.default.QUALITY_CHANGE_REQUESTED,W,this),r.off(De.default.FRAGMENT_LOADING_COMPLETED,J,this),r.off(De.default.STREAM_COMPLETED,Z,this),r.off(De.default.STREAM_INITIALIZED,Q,this),r.off(De.default.QUOTA_EXCEEDED,oe,this),r.off(De.default.BYTES_APPENDED,te,this),r.off(De.default.BUFFER_CLEARED,ie,this),r.off(De.default.INIT_REQUESTED,K,this),r.off(De.default.PLAYBACK_RATE_CHANGED,ce,this),r.off(De.default.PLAYBACK_SEEKING,le,this),r.off(De.default.PLAYBACK_STARTED,ue,this),r.off(De.default.PLAYBACK_TIME_UPDATED,ee,this),r.off(De.default.URL_RESOLUTION_FAILED,ae,this),r.off(De.default.FRAGMENT_LOADING_ABANDONED,ne,this),s.getIsTextTrack(u)&&r.off(De.default.TIMED_TEXT_REQUESTED,se,this),D(),Y(!1),m=!1,y=0,_=NaN,p=b=null},setPlayList:function(e){p=e},getBufferTarget:function(){return S.getBufferTarget(w,u,E.isVideoTrackPresent())},finalisePlayList:function(e,t){L(e,t),p=null}}}o.__dashjs_factory_name="ScheduleController",n.default=i.default.getClassFactory(o),t.exports=n.default},{202:202,203:203,204:204,207:207,209:209,211:211,250:250,254:254,257:257,260:260,262:262,264:264,265:265,293:293,296:296,335:335,336:336,349:349,376:376,8:8}],264:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(250)),l=r(e(260)),c=r(e(209)),d=r(e(346)),p=r(e(265)),h=r(e(251)),g=r(e(354)),m=r(e(352)),y=r(e(298)),v=r(e(357)),_=r(e(203)),b=r(e(207)),e=r(e(204));function i(){var i=this.context,o=(0,_.default)(i).getInstance(),a=void 0;function r(e,t,n){var r,i,o,a,s=null,u=null,l=null,c=0,f=n||.15;try{s=e.buffered}catch(e){return null}if(null!=s){for(a=0,o=s.length;a<o;a++)if(r=s.start(a),i=s.end(a),null===u)c=Math.abs(r-t),(r<=t&&t<i||c<=f)&&(u=r,l=i);else{if(!((c=r-l)<=f))break;l=i}if(null!==u)return{start:u,end:l}}return null}function f(e){try{return e.buffered}catch(e){return null}}function s(e,t){function n(){e.updating||(clearInterval(i),t())}function r(){e.updating||(e.removeEventListener("updateend",r,!1),t())}var i;if(e.updating)if("function"==typeof e.addEventListener)try{e.addEventListener("updateend",r,!1)}catch(e){i=setInterval(n,50)}else i=setInterval(n,50);else t()}return{append:function(t,e){var n=e.bytes,r="append"in t?"append":"appendBuffer"in t?"appendBuffer":null,i="Object"===Object.prototype.toString.call(t).slice(8,-1);if(r)try{s(t,function(){i?t[r](n,e):t[r](n),s(t,function(){o.trigger(b.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:t,bytes:n})})})}catch(e){o.trigger(b.default.SOURCEBUFFER_APPEND_COMPLETED,{buffer:t,bytes:n,error:new v.default(e.code,e.message,null)})}},remove:function(t,n,r,e){try{s(t,function(){0<=n&&n<r&&"ended"!==e.readyState&&t.remove(n,r),s(t,function(){o.trigger(b.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:t,from:n,to:r})})})}catch(e){o.trigger(b.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:t,from:n,to:r,error:new v.default(e.code,e.message,null)})}},abort:function(e,t){try{("open"===e.readyState||t.setTextTrack&&"ended"===e.readyState)&&t.abort()}catch(e){}},createSourceBuffer:function(e,t){var n=t.codec,r=null;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt)"/i))throw new v.default("not really supported");r=e.addSourceBuffer(n)}catch(e){if(!t.isText&&-1===n.indexOf('codecs="stpp"')&&-1===n.indexOf('codecs="wvtt"'))throw e;(r=(0,u.default)(i).getInstance()).setConfig({errHandler:(0,d.default)(i).getInstance(),adapter:(0,c.default)(i).getInstance(),dashManifestModel:a,mediaController:(0,l.default)(i).getInstance(),videoModel:(0,y.default)(i).getInstance(),streamController:(0,p.default)(i).getInstance(),textTracks:(0,h.default)(i).getInstance(),VTTParser:(0,g.default)(i).getInstance(),TTMLParser:(0,m.default)(i).getInstance()})}return r},removeSourceBuffer:function(e,t){try{e.removeSourceBuffer(t)}catch(e){}},getBufferRange:r,getAllRanges:f,getTotalBufferedTime:function(e){var t,n,r=f(e),i=0;if(r)for(n=0,t=r.length;n<t;n++)i+=r.end(n)-r.start(n);return i},getBufferLength:function(e,t,n){return e=r(e,t,n),n=null===e?0:e.end-t},getRangeDifference:function(e,t){if(t){var n,r,i,o,a,s,u=f(t);if(u)for(var l=0,c=u.length;l<c;l++){if(i=e.length>l?{start:e.start(l),end:e.end(l)}:null,n=u.start(l),r=u.end(l),!i)return s={start:n,end:r};if(o=i.start===n,a=i.end===r,!o||!a){if(o)s={start:i.end,end:r};else{if(!a)return s={start:n,end:r};s={start:n,end:i.start}}return o=e.length>l+1?{start:e.start(l+1),end:e.end(l+1)}:null,a=l+1<c?{start:u.start(l+1),end:u.end(l+1)}:null,!o||a&&a.start===o.start&&a.end===o.end||(s.end=o.start),s}}}return null},setConfig:function(e){e&&e.dashManifestModel&&(a=e.dashManifestModel)}}}i.__dashjs_factory_name="SourceBufferController";e=e.default.getSingletonFactory(i);e.QUOTA_EXCEEDED_ERROR_CODE=22,n.default=e,t.exports=n.default},{203:203,204:204,207:207,209:209,250:250,251:251,260:260,265:265,298:298,346:346,352:352,354:354,357:357}],265:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var re=r(e(262)),ie=r(e(248)),oe=r(e(244)),ae=r(e(203)),se=r(e(207)),ue=r(e(297)),le=r(e(298)),ce=r(e(295)),i=r(e(204)),fe=e(376),de=r(e(202)),pe=r(e(347));function o(){var U=1,f=this.context,o=(0,de.default)(f).getInstance().log,d=(0,ae.default)(f).getInstance(),n=void 0,j=void 0,p=void 0,r=void 0,h=void 0,a=void 0,g=void 0,m=void 0,y=void 0,B=void 0,i=void 0,s=void 0,v=void 0,$=void 0,_=void 0,b=void 0,T=void 0,w=void 0,E=void 0,x=void 0,u=void 0,l=void 0,S=void 0,c=void 0,O=void 0,A=void 0,I=void 0,P=void 0,D=void 0,R=void 0,C=void 0,M=void 0,N=void 0;function L(t,n){n=n||new Date,M&&(w&&w.getProcessors().forEach(function(e){e=e.getScheduleController();e&&e.finalisePlayList(n,t)}),m.addPlayList(M),M=null)}function V(e){(M=new fe.PlayList).start=new Date,M.mstart=1e3*P.getTime(),M.starttype=e,w&&w.getProcessors().forEach(function(e){e=e.getScheduleController();e&&e.setPlayList(M)})}function F(e,t,n){d.trigger(e,{fromStreamInfo:t?t.getStreamInfo():null,toStreamInfo:n.getStreamInfo()})}function G(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}c=!0,e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),o("Video Element Error: "+t),e.error&&o(e.error),_.mediaSourceError(t),k()}}function z(t){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(ne()&&(n=I.getPlaybackQuality())&&m.addDroppedFrames("video",n),P.isSeeking())return e.abrupt("return");e.next=3;break;case 3:t.timeToEnd<U&&i.signalEndOfStream(A);case 4:case"end":return e.stop()}},null,this)}function H(){t=w.getStreamInfo().start,n=w.getStreamInfo().duration;var t,n,e=T.filter(function(e){return e.getStreamInfo().start===t+n})[0];e&&X(w,e,NaN),L(e?fe.PlayListTrace.END_OF_PERIOD_STOP_REASON:fe.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function q(e){var t=function(e){var t=0,n=null,r=T.length;0<r&&(t+=T[0].getStartTime());for(var i=0;i<r;i++)if(n=T[i],t+=n.getDuration(),e<t)return n;return null}(e.seekTime);t&&t!==w?(L(fe.PlayListTrace.END_OF_PERIOD_STOP_REASON),X(w,t,e.seekTime)):L(fe.PlayListTrace.USER_REQUEST_STOP_REASON),V(fe.PlayList.SEEK_START_REASON)}function K(){C?(C=!1,V(fe.PlayList.INITIAL_PLAYOUT_START_REASON)):R&&(R=!1,V(fe.PlayList.RESUME_FROM_PAUSE_START_REASON))}function W(e){e.ended||(R=!0,L(fe.PlayListTrace.USER_REQUEST_STOP_REASON))}function Y(e){A&&e.streamInfo.isLast&&i.signalEndOfStream(A)}function X(e,n,r){!l&&e&&n&&e!==n&&(l=!0,F(se.default.PERIOD_SWITCH_STARTED,e,n),e.deactivate(),w=n,P.initialize(w.getStreamInfo()),N=t(),Q(function(){var t;isNaN(r)?(t=P.getStreamStartTime(!0),w.getProcessors().forEach(function(e){g.setIndexHandlerTime(e,t)}),P.seek(t)):P.seek(r),P.play(),w.startEventController(),l=!1,F(se.default.PERIOD_SWITCH_COMPLETED,e,n)}))}function Q(t){var n=void 0;function r(){var e;o("MediaSource is open!"),window.URL.revokeObjectURL(n),A.removeEventListener("sourceopen",r),A.removeEventListener("webkitsourceopen",r),e=w.getStreamInfo().manifestInfo.duration,e=i.setDuration(A,e),o("Duration successfully set to: "+e),w.activate(A),t&&t()}A?i.detachMediaSource(I):A=i.createMediaSource(),A.addEventListener("sourceopen",r,!1),A.addEventListener("webkitsourceopen",r,!1),n=i.attachMediaSource(A,I),o("MediaSource attached to element.  Waiting on open...")}function Z(){if(!S){var e=T.length,t=0;for(w.isActivated()&&C&&0===w.getStreamInfo().index&&(w.startEventController(),u)&&P.play();t<e;t++)if(!T[t].isInitialized())return;d.trigger(se.default.STREAMS_COMPOSED)}}function J(){Z()}function ee(){!function(){var e,t,n,r,i,o,a,s=h.getValue(),u=m.getMetricsFor("stream"),l=y.getCurrentManifestUpdate(u),c=[];if(s){o=g.getStreamsInfo(s),E&&(d.trigger(se.default.PROTECTION_CREATED,{controller:E,manifest:s}),E.setMediaElement(I.getElement()),x)&&E.setProtectionData(x);try{if(0===o.length)throw new Error("There are no streams");for(m.updateManifestUpdateInfo(l,{currentTime:P.getTime(),buffered:I.getElement().buffered,presentationStartTime:o[0].start,clientTimeOffset:b.getClientTimeOffset()}),S=!0,r=0,t=o.length;r<t;r++){for(e=o[r],i=0,n=T.length;i<n;i++)T[i].getId()===e.id&&(a=T[i],c.push(a),a.updateData(e));a||((a=(0,ie.default)(f).create({manifestModel:h,manifestUpdater:p,adapter:g,timelineConverter:b,capabilities:j,errHandler:_,baseURLController:v})).initialize(e,E),d.on(se.default.STREAM_INITIALIZED,J,this),c.push(a),w&&a.updateData(e)),m.addManifestUpdateStreamInfo(l,e.id,e.index,e.start,e.duration),a=null}T=c,w||(w=T[0],F(se.default.PERIOD_SWITCH_STARTED,null,w),P.initialize(w.getStreamInfo()),F(se.default.PERIOD_SWITCH_COMPLETED,null,w)),A||Q(),S=!1,Z()}catch(e){_.manifestError(e.message,"nostreamscomposed",s),O=!0,k()}}}()}function te(e){var t,n,r,i;e.error?(O=!0,k()):(t=e.manifest,r=g.getStreamsInfo(t)[0],(r=g.getMediaInfoForType(t,r,"video")||g.getMediaInfoForType(t,r,"audio"))&&(r=g.getDataForMedia(r),n=a.getRepresentationsForAdaptation(t,r)[0].useCalculatedLiveEdgeTime)&&(o("SegmentTimeline detected using calculated Live Edge Time"),D.setUseManifestDateHeaderTimeSource(!1)),r=a.getUTCTimingSources(e.manifest),e=!a.getIsDynamic(t)||n?r:r.concat(D.getUTCTimingSources()),i=(0,ue.default)(f).getInstance().isManifestHTTPS(),e.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===ce.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(i?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),i?"https://":"http://"),o("Matching default timing source protocol to manifest protocol: ",e.value))}),v.initialize(t),s.setConfig({metricsModel:m,dashMetrics:y}),s.initialize(e,D.getUseManifestDateHeaderTimeSource()))}function ne(){return N=void 0===N?t():N}function t(){var t=!1;return w.getProcessors().forEach(function(e){"video"===e.getMediaInfo().type&&(t=!0)}),t}function k(){s.reset(),L(c||O?fe.PlayListTrace.FAILURE_STOP_REASON:fe.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=T.length;e<t;e++){var n=T[e];d.off(se.default.STREAM_INITIALIZED,J,this),n.reset(c)}T=[],d.off(se.default.PLAYBACK_TIME_UPDATED,z,this),d.off(se.default.PLAYBACK_SEEKING,q,this),d.off(se.default.PLAYBACK_ERROR,G,this),d.off(se.default.PLAYBACK_STARTED,K,this),d.off(se.default.PLAYBACK_PAUSED,W,this),d.off(se.default.PLAYBACK_ENDED,H,this),d.off(se.default.MANIFEST_UPDATED,te,this),d.off(se.default.STREAM_BUFFERING_COMPLETED,Y,this),v.reset(),p.reset(),m.clearAllCurrentMetrics(),h.setValue(null),r.reset(),b.reset(),B.reset(),g.reset(),$.reset(),w=null,O=c=S=l=!1,R=!(C=!(N=void 0)),A&&(i.detachMediaSource(I),A=null),I=null,E&&(E.setMediaElement(null),x=E=null,h.getValue())&&d.trigger(se.default.PROTECTION_DESTROYED,{data:h.getValue().url}),d.trigger(se.default.STREAM_TEARDOWN_COMPLETE)}return n={initialize:function(e,t){u=e,x=t,b.initialize(),$=(0,pe.default)(f).getInstance(),(p=(0,oe.default)(f).getInstance()).setConfig({log:o,manifestModel:h,dashManifestModel:a}),p.initialize(r),I=(0,le.default)(f).getInstance(),(P=(0,re.default)(f).getInstance()).setConfig({streamController:n,timelineConverter:b,metricsModel:m,dashMetrics:y,manifestModel:h,dashManifestModel:a,adapter:g,videoModel:I}),d.on(se.default.TIME_SYNCHRONIZATION_COMPLETED,ee,this),d.on(se.default.PLAYBACK_SEEKING,q,this),d.on(se.default.PLAYBACK_TIME_UPDATED,z,this),d.on(se.default.PLAYBACK_ENDED,H,this),d.on(se.default.PLAYBACK_ERROR,G,this),d.on(se.default.PLAYBACK_STARTED,K,this),d.on(se.default.PLAYBACK_PAUSED,W,this),d.on(se.default.MANIFEST_UPDATED,te,this),d.on(se.default.STREAM_BUFFERING_COMPLETED,Y,this)},getAutoPlay:function(){return u},getActiveStreamInfo:function(){return w?w.getStreamInfo():null},isStreamActive:function(e){return w.getId()===e.id},isVideoTrackPresent:ne,getStreamById:function(t){return T.filter(function(e){return e.getId()===t})[0]},getTimeRelativeToStreamId:function(e,t){for(var n,r,i=null,o=0,a=T.length,s=0;s<a;s++){if(n=(i=T[s]).getStartTime(),r=i.getDuration(),Number.isFinite(n)&&(o=n),i.getId()===t)return e-o;Number.isFinite(r)&&(o+=r)}return null},load:function(e){r.load(e)},loadWithManifest:function(e){p.setManifest(e)},getActiveStreamCommonEarliestTime:function(){var t=[];return w.getProcessors().forEach(function(e){t.push(e.getIndexHandler().getEarliestTime())}),Math.min.apply(Math,t)},setConfig:function(e){e&&(e.capabilities&&(j=e.capabilities),e.manifestLoader&&(r=e.manifestLoader),e.manifestModel&&(h=e.manifestModel),e.dashManifestModel&&(a=e.dashManifestModel),e.protectionController&&(E=e.protectionController),e.adapter&&(g=e.adapter),e.metricsModel&&(m=e.metricsModel),e.dashMetrics&&(y=e.dashMetrics),e.liveEdgeFinder&&(B=e.liveEdgeFinder),e.mediaSourceController&&(i=e.mediaSourceController),e.timeSyncController&&(s=e.timeSyncController),e.baseURLController&&(v=e.baseURLController),e.errHandler&&(_=e.errHandler),e.timelineConverter)&&(b=e.timelineConverter)},reset:k},T=[],D=(E=null,ce.default)(f).getInstance(),O=c=!(C=!(R=S=l=!(u=!(M=null)))),n}o.__dashjs_factory_name="StreamController",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{202:202,203:203,204:204,207:207,244:244,248:248,262:262,295:295,297:297,298:298,347:347,376:376}],266:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var p=r(e(203)),h=r(e(207)),e=r(e(204));function i(e){var t=this.context,n=(0,p.default)(t).getInstance(),r=e.sourceBufferController,i=e.errHandler,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0;function c(e){a=e}function f(e){e.sender.getStreamProcessor()===l&&n.trigger(h.default.TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function d(e){e.fragmentModel===l.getFragmentModel()&&e.chunk.bytes&&r.append(s,e.chunk)}return t={initialize:function(e,t,n){u=e,c(t),(l=n).getRepresentationController()},createBuffer:function(e){try{s=r.createSourceBuffer(a,e),o||(s.hasOwnProperty("initialize")&&s.initialize(u,this),o=!0)}catch(e){i.mediaSourceError("Error creating "+u+" source buffer.")}return s},getBuffer:function(){return s},setBuffer:function(e){s=e},getStreamProcessor:function(){return l},setMediaSource:c,reset:function(e){n.off(h.default.DATA_UPDATE_COMPLETED,f,this),n.off(h.default.INIT_FRAGMENT_LOADED,d,this),e||(r.abort(a,s),r.removeSourceBuffer(a,s))}},function(){o=!1,l=u=s=a=null,n.on(h.default.DATA_UPDATE_COMPLETED,f,this),n.on(h.default.INIT_FRAGMENT_LOADED,d,this)}(),t}i.__dashjs_factory_name="TextController",n.default=e.default.getClassFactory(i),t.exports=n.default},{203:203,204:204,207:207}],267:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var T=r(e(357)),w=r(e(203)),E=r(e(207)),i=r(e(204)),x=r(e(202));function o(){var e=this.context,o=(0,x.default)(e).getInstance().log,r=(0,w.default)(e).getInstance(),n=void 0,i=void 0,a=void 0,s=void 0,t=void 0,u=void 0;function l(e){i=e}function c(e){0}function f(e){n=e}function d(e){var t,n,r=Date.parse(e);return isNaN(r)&&(e=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e=e),n=Date.UTC(parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10),parseInt(e[4],10),parseInt(e[5],10),e[6]&&(parseInt(e[6],10)||0),e[7]&&1e3*parseFloat(e[7])||0),e[9]&&e[10]&&(t=60*parseInt(e[9],10)+parseInt(e[10],10),n+=("+"===e[8]?-1:1)*t*60*1e3),r=new Date(n).getTime()),r}function p(e){return Date.parse(e)}function h(e){return Date.parse(e)}function g(e,t,n){n()}function m(e,t,n){e=d(e);isNaN(e)?n():t(e)}function y(t,e,n,r,i){var o,a,s=!1,u=new XMLHttpRequest,l=i?"HEAD":"GET",c=e.match(/\S+/g);e=c.shift(),o=function(){s||(s=!0,c.length?y(t,c.join(" "),n,r,i):r())},a=function(){var e;200===u.status&&(e=i?u.getResponseHeader("Date"):u.response,e=t(e),isNaN(e)||(n(e),s=!0))},u.open(l,e),u.timeout=5e3,u.onload=a,u.onloadend=o,u.send()}function v(e,t,n){y(h,e,t,n,!0)}function _(){var e=t.getReadOnlyMetricsFor("stream"),e=u.getLatestMPDRequestHeaderValueByID(e,"Date"),e=null!==e?new Date(e).getTime():Number.NaN;isNaN(e)?b(!0):(f(e-(new Date).getTime()),b(!1,e/1e3,n))}function b(e,t,n){l(!1),r.trigger(E.default.TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:n,error:e?new T.default(1):null})}return{initialize:function(e,t){a=t,n=0,i=!1,s={"urn:mpeg:dash:utc:http-head:2014":v,"urn:mpeg:dash:utc:http-xsdate:2014":y.bind(null,d),"urn:mpeg:dash:utc:http-iso:2014":y.bind(null,p),"urn:mpeg:dash:utc:direct:2014":m,"urn:mpeg:dash:utc:http-head:2012":v,"urn:mpeg:dash:utc:http-xsdate:2012":y.bind(null,d),"urn:mpeg:dash:utc:http-iso:2012":y.bind(null,p),"urn:mpeg:dash:utc:direct:2012":m,"urn:mpeg:dash:utc:http-ntp:2014":g,"urn:mpeg:dash:utc:ntp:2014":g,"urn:mpeg:dash:utc:sntp:2014":g},i||(function e(t,n){var r=n||0;n=t[r];var i=function(e,t){var n=!e||!t;n&&a?_():b(n,e,t)};l(!0);n?s.hasOwnProperty(n.schemeIdUri)?s[n.schemeIdUri](n.value,function(e){var t=(new Date).getTime(),n=e-t;f(n),o("Local time:      "+new Date(t)),o("Server time:     "+new Date(e)),o("Difference (ms): "+n),i(e,n)},function(){e(t,r+1)}):e(t,r+1):(f(0),i())}(e),c(!0))},getOffsetToDeviceTimeMs:function(){return n},setConfig:function(e){e&&(e.metricsModel&&(t=e.metricsModel),e.dashMetrics)&&(u=e.dashMetrics)},reset:function(){c(!1),l(!1)}}}o.__dashjs_factory_name="TimeSyncController";e=i.default.getSingletonFactory(o);e.TIME_SYNC_FAILED_ERROR_CODE=1,e.HTTP_TIMEOUT_MS=5e3,n.default=e,t.exports=n.default},{202:202,203:203,204:204,207:207,357:357}],268:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(253)),c=r(e(203)),y=r(e(207)),i=r(e(204)),f=r(e(4)),v=r(e(353)),_="onLoad",b="Period",T="AdaptationSet",w="EventStream";function o(e){var t=this.context,d=(0,c.default)(t).getInstance(),s=(0,v.default)(t).getInstance(),n=void 0,r=void 0,p=void 0,h=void 0,i=void 0,u=void 0;function g(e,t,n){var r,i,o,a={};for(a.elements=e,a.type=t,a.resolveType=n,0===a.elements.length&&l(a),o=0;o<a.elements.length;o++)r=a.elements[o],i=s.isHTTPURL(r.url)?r.url:r.originalContent.BaseURL+r.url,u.load(i,r,a)}function o(e){var t,n=e.element,e=e.resolveObject;n.resolvedContent&&(t=n.resolvedContent.indexOf(">")+1,t=n.resolvedContent.substr(0,t)+"<response>"+n.resolvedContent.substr(t)+"</response>",n.resolvedContent=i.xml_str2json(t)),function(e){var t;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return;return 1}(e)&&l(e)}function l(e){var t,n,r,i,o,a,s,u,l=[],c=e,f=[];for(a=c.elements.length-1;0<=a;a--){if(r=c.elements[a],i=r.type+"_asArray",r.resolvedContent){if(r.resolvedContent)for(s=0;s<r.resolvedContent[i].length;s++)o=r.resolvedContent[i][s],f.push(o)}else delete r.originalContent["xlink:actuate"],delete r.originalContent["xlink:href"],f.push(r.originalContent);for(r.parentElement[i].splice(r.index,1),u=0;u<f.length;u++)r.parentElement[i].splice(r.index+u,0,f[u]);f=[]}if(0<c.elements.length&&p.run(h),"onActuate"===e.resolveType&&d.trigger(y.default.XLINK_READY,{manifest:h}),e.resolveType===_)switch(e.type){case b:for(t=0;t<h.Period_asArray.length;t++)(n=h.Period_asArray[t]).hasOwnProperty(T+"_asArray")&&(l=l.concat(m(n[T+"_asArray"],n,T,_))),n.hasOwnProperty(w+"_asArray")&&(l=l.concat(m(n[w+"_asArray"],n,w,_)));g(l,T,_);break;case T:d.trigger(y.default.XLINK_READY,{manifest:h})}}function m(e,t,n,r){for(var i,o,a=[],s=e.length-1;0<=s;s--)(i=e[s]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===i["xlink:href"]&&e.splice(s,1);for(s=0;s<e.length;s++)(i=e[s]).hasOwnProperty("xlink:href")&&i.hasOwnProperty("xlink:actuate")&&i["xlink:actuate"]===r&&(o={url:i["xlink:href"],parentElement:t,type:n,index:s,resolveType:r,originalContent:i,resolvedContent:null,resolved:!1},a.push(o));return a}return n={resolveManifestOnLoad:function(e){i=new f.default(r,"",!0),g(m((h=e).Period_asArray,h,b,_),b,_)},setMatchers:function(e){r=e},setIron:function(e){p=e},reset:function(){d.off(y.default.XLINK_ELEMENT_LOADED,o,n),u&&(u.reset(),u=null)}},d.on(y.default.XLINK_ELEMENT_LOADED,o,n),u=(0,a.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),n}o.__dashjs_factory_name="XlinkController",n.default=i.default.getClassFactory(o),t.exports=n.default},{203:203,204:204,207:207,253:253,353:353,4:4}],269:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(283)),o=r(e(270)),a=r(e(271)),s=r(e(276)),u=r(e(281)),e=r(e(204));function l(){var t=this.context;return{createMetricsReporting:function(e){return(0,i.default)(t).getInstance({eventBus:e.eventBus,metricsModel:e.metricsModel}),(0,a.default)(t).create(e)},getReportingFactory:function(){return(0,u.default)(t).getInstance()},getMetricsHandlerFactory:function(){return(0,s.default)(t).getInstance()}}}l.__dashjs_factory_name="MetricsReporting";e=e.default.getClassFactory(l);e.events=o.default,n.default=e,t.exports=n.default},{204:204,270:270,271:271,276:276,281:281,283:283}],270:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(208),e=new(function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");!function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(((e=e)&&e.__esModule?e:{default:e}).default));n.default=e,t.exports=n.default},{208:208}],271:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=r(e(272)),u=r(e(285)),i=r(e(204)),l=r(e(270)),c=r(e(207));function o(i){var o={},a=this.context,t=i.eventBus;function e(e){var r;e.error||(r=Object.keys(o),(0,u.default)(a).getInstance({dashManifestModel:i.dashManifestModel}).getMetrics(e.manifest).forEach(function(e){var t=JSON.stringify(e);if(o.hasOwnProperty(t))r.splice(t,1);else try{var n=(0,s.default)(a).create(i);n.initialize(e),o[t]=n}catch(e){}}),r.forEach(function(e){o[e].reset(),delete o[e]}),t.trigger(l.default.METRICS_INITIALISATION_COMPLETE))}function n(){Object.keys(o).forEach(function(e){o[e].reset()}),o={}}return t.on(c.default.MANIFEST_UPDATED,e),t.on(c.default.STREAM_TEARDOWN_COMPLETE,n),{}}o.__dashjs_factory_name="MetricsCollectionController",n.default=i.default.getClassFactory(o),t.exports=n.default},{204:204,207:207,270:270,272:272,285:285}],272:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),s=r(e(274)),u=r(e(275)),l=r(e(273));function o(t){var n=void 0,r=void 0,i=void 0,o=this.context;function a(){n&&n.reset(),r&&r.reset(),i&&i.reset()}return{initialize:function(e){try{(i=(0,s.default)(o).create({mediaElement:t.mediaElement})).initialize(e.Range),(r=(0,u.default)(o).create({log:t.log})).initialize(e.Reporting,i),(n=(0,l.default)(o).create({log:t.log,eventBus:t.eventBus})).initialize(e.metrics,r)}catch(e){throw a(),e}},reset:a}}o.__dashjs_factory_name="MetricsController",n.default=i.default.getClassFactory(o),t.exports=n.default},{204:204,273:273,274:274,275:275}],273:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(276)),o=r(e(204)),u=r(e(246));function a(e){var o=[],t=void 0,n=this.context,r=e.eventBus,a=(0,i.default)(n).getInstance({log:e.log,eventBus:e.eventBus});function s(t){o.forEach(function(e){e.handleNewMetric(t.metric,t.value,t.mediaType)})}return t={initialize:function(e,i){e.split(",").forEach(function(e,t,n){var r;-1!==e.indexOf("(")&&-1===e.indexOf(")")&&(r=n[t+1])&&-1===r.indexOf("(")&&-1!==r.indexOf(")")&&(e+=","+r,delete n[t+1]),(r=a.create(e,i))&&o.push(r)}),r.on(u.default.METRIC_ADDED,s,t),r.on(u.default.METRIC_UPDATED,s,t)},reset:function(){r.off(u.default.METRIC_ADDED,s,t),r.off(u.default.METRIC_UPDATED,s,t),o.forEach(function(e){return e.reset()}),o=[]}}}a.__dashjs_factory_name="MetricsHandlersController",n.default=o.default.getClassFactory(a),t.exports=n.default},{204:204,246:246,276:276}],274:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),u=r(e(343));function o(e){var o=!1,t=this.context,a=void 0,s=e.mediaElement;return e={initialize:function(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,e=t+e.duration;a.add(t,e)}),o=!!e[0]._useWallClockTime)},reset:function(){a.clear()},isEnabled:function(){var e=a.length;if(!e)return!0;for(var t=o?(new Date).getTime()/1e3:s.currentTime,n=0;n<e;n+=1){var r=a.start(n),i=a.end(n);if(r<=t&&t<i)return!0}return!1}},a=(0,u.default)(t).create(),e}o.__dashjs_factory_name="RangeController",n.default=i.default.getClassFactory(o),t.exports=n.default},{204:204,343:343}],275:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),o=r(e(281));function a(e){var r=[],n=(0,o.default)(this.context).getInstance({log:e.log});return{initialize:function(e,t){e.some(function(e){e=n.create(e,t);if(e)return r.push(e),!0})},reset:function(){r.forEach(function(e){return e.reset()}),r=[]},report:function(t,n){r.forEach(function(e){return e.report(t,n)})}}}a.__dashjs_factory_name="ReportingController",n.default=i.default.getClassFactory(a),t.exports=n.default},{204:204,281:281}],276:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),u=r(e(277)),l=r(e(278)),c=r(e(280)),f=r(e(279));function o(r){var i=r.log,o=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,a=this.context,s={BufferLevel:u.default,DVBErrors:l.default,HttpList:c.default,PlayList:f.default,RepSwitchList:f.default,TcpList:f.default};return{create:function(t,e){var n;if(t=t.match(o)){try{(n=s[t[1]](a).create({eventBus:r.eventBus})).initialize(t[1],e,t[3],t[5])}catch(e){n=null,i("MetricsHandlerFactory: Could not create handler for type "+t[1]+" with args "+t[3]+", "+t[5]+" ("+e.message+")")}return n}},register:function(e,t){s[e]=t},unregister:function(e){delete s[e]}}}o.__dashjs_factory_name="MetricsHandlerFactory",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{204:204,277:277,278:278,279:279,280:280}],277:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),c=r(e(284));function o(){var r=void 0,i=void 0,o=void 0,a=void 0,t=void 0,e=this.context,s=(0,c.default)(e).getInstance(),u=[];function l(){var e=function(){try{return Object.keys(u).map(function(e){return u[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){}}();e&&t!==e.t&&(t=e.t,r.report(o,e))}return{initialize:function(e,t,n){t&&(i=s.validateN(n),r=t,o=s.reconstructFullMetricName(e,n),a=setInterval(l,i))},reset:function(){clearInterval(a),i=0,t=r=a=null},handleNewMetric:function(e,t,n){"BufferLevel"===e&&(u[n]=t)}}}o.__dashjs_factory_name="BufferLevelHandler",n.default=i.default.getClassFactory(o),t.exports=n.default},{204:204,284:284}],278:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),o=r(e(270));n.default=i.default.getClassFactory(function(e){var n=void 0,r=e.eventBus;function i(){r.off(o.default.METRICS_INITIALISATION_COMPLETE,i,this),r.trigger(o.default.BECAME_REPORTING_PLAYER)}return{initialize:function(e,t){t&&(n=t,r.on(o.default.METRICS_INITIALISATION_COMPLETE,i,this))},reset:function(){n=null},handleNewMetric:function(e,t){"DVBErrors"===e&&n&&n.report(e,t)}}}),t.exports=n.default},{204:204,270:270}],279:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){var n=void 0,r=void 0;return{initialize:function(e,t){n=e,r=t},reset:function(){r=null,n=void 0},handleNewMetric:function(e,t){e===n&&r&&r.report(n,t)}}}r.__dashjs_factory_name="GenericMetricHandler",n.default=e.default.getClassFactory(r),t.exports=n.default},{204:204}],280:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),f=r(e(284));function o(){var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,n=[],l=(0,f.default)(this.context).getInstance();function c(){var e=n;e.length&&i&&i.report(s,e),n=[]}return{initialize:function(e,t,n,r){t&&(o=l.validateN(n),i=t,r&&r.length&&(a=r),s=l.reconstructFullMetricName(e,n,r),u=setInterval(c,o))},reset:function(){clearInterval(u),n=[],i=a=o=u=null},handleNewMetric:function(e,t){"HttpList"!==e||a&&a!==t.type||n.push(t)}}}o.__dashjs_factory_name="HttpListHandler",n.default=i.default.getClassFactory(o),t.exports=n.default},{204:204,284:284}],281:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),a=r(e(282));function o(e){var r={"urn:dvb:dash:reporting:2014":a.default},i=this.context,o=e.log;return{create:function(t,e){var n;try{(n=r[t.schemeIdUri](i).create()).initialize(t,e)}catch(e){n=null,o("ReportingFactory: could not create Reporting with schemeIdUri "+t.schemeIdUri+" ("+e.message+")")}return n},register:function(e,t){r[e]=t},unregister:function(e){delete r[e]}}}o.__dashjs_factory_name="ReportingFactory",n.default=i.default.getSingletonFactory(o),t.exports=n.default},{204:204,282:282}],282:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),f=r(e(286)),d=r(e(287));function o(){var e=this.context,n=(0,f.default)(e).getInstance(),r=(0,d.default)(e).getInstance(),i=!0,o=!1,a=!1,s=null,u=null,t=!0,l=[];function c(e,t,n){function r(){var e=l.indexOf(i);-1!==e&&(l.splice(e,1),200<=i.status&&i.status<300?t&&t():n&&n())}var i=new XMLHttpRequest;l.push(i);try{i.open("GET",e),i.onloadend=r,i.onerror=r,i.send()}catch(e){i.onerror()}}return{report:function(t,e){Array.isArray(e)||(e=[e]),o&&u.isEnabled()&&e.forEach(function(e){e=n.serialise(e);c(e=s+"?"+(e=i&&"DVBErrors"!==t?"metricname="+t+"&"+e:e),null,function(){o=!1})})},initialize:function(e,t){if(u=t,!(s=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");a||((t=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===t||t/1e3>=r.random())&&(o=!0),a=!0)},reset:function(){t||(l.forEach(function(e){return e.abort()}),l=[]),o=a=!1,u=s=null}}}o.__dashjs_factory_name="DVBReporting",n.default=i.default.getClassFactory(o),t.exports=n.default},{204:204,286:286,287:287}],283:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var d=r(e(288)),p=r(e(207)),h=r(e(246)),g=r(e(270)),e=r(e(204));function i(e){var t=void 0,n=e.eventBus,r=e.metricsModel,i=void 0;function o(e){var t=new d.default;if(i){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=i.originalUrl||i.url),t.terror||(t.terror=new Date),r.addDVBErrors(t)}}function a(e){e.error||(i=e.manifest)}function s(e){o({errorcode:d.default.BASE_URL_CHANGED,servicelocation:e.entry})}function u(){o({errorcode:d.default.BECAME_REPORTER})}function l(e){"HttpList"===e.metric&&(0===(e=e.value).responsecode||400<=e.responsecode||e.responsecode<100||600<=e.responsecode)&&o({errorcode:e.responsecode||d.default.CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function c(e){var t;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=d.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=d.default.CORRUPT_MEDIA_OTHER;break;default:return}o({errorcode:t})}function f(){n.on(p.default.MANIFEST_UPDATED,a,t),n.on(p.default.SERVICE_LOCATION_BLACKLIST_CHANGED,s,t),n.on(h.default.METRIC_ADDED,l,t),n.on(h.default.METRIC_UPDATED,l,t),n.on(h.default.PLAYBACK_ERROR,c,t),n.on(g.default.BECAME_REPORTING_PLAYER,u,t)}return t={initialise:f,reset:function(){n.off(p.default.MANIFEST_UPDATED,a,t),n.off(p.default.SERVICE_LOCATION_BLACKLIST_CHANGED,s,t),n.off(h.default.METRIC_ADDED,l,t),n.off(h.default.METRIC_UPDATED,l,t),n.off(h.default.PLAYBACK_ERROR,c,t),n.off(g.default.BECAME_REPORTING_PLAYER,u,t)}},f(),t}i.__dashjs_factory_name="DVBErrorsTranslator",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{204:204,207:207,246:246,270:270,288:288}],284:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){return{reconstructFullMetricName:function(e,t,n){return t&&(e+="("+t,n&&n.length&&(e+=","+n),e+=")"),e},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}r.__dashjs_factory_name="HandlerHelpers",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],285:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(289)),s=r(e(290)),u=r(e(291)),e=r(e(204));function i(e){var o=e.dashManifestModel;return{getMetrics:function(i){var t=[];return i.Metrics_asArray&&i.Metrics_asArray.forEach(function(e){var r=new a.default,n=o.getIsDynamic(i);e.hasOwnProperty("metrics")&&(r.metrics=e.metrics,e.Range_asArray&&e.Range_asArray.forEach(function(e){var t=new s.default;t.starttime=function(e,t,n){var r=o.getMpd(e),i=0;return t?i=r.availabilityStartTime.getTime()/1e3:(t=this.getRegularPeriods(e,r)).length&&(i=t[0].start),e=i,n&&n.hasOwnProperty("starttime")&&(e+=n.starttime),e}(i,n,e),e.hasOwnProperty("duration")?t.duration=e.duration:t.duration=o.getDuration(i),t._useWallClockTime=n,r.Range.push(t)}),e.Reporting_asArray)&&(e.Reporting_asArray.forEach(function(e){var t=new u.default;if(e.hasOwnProperty("schemeIdUri")){for(var n in t.schemeIdUri=e.schemeIdUri,e)e.hasOwnProperty(n)&&(t[n]=e[n]);r.Reporting.push(t)}}),t.push(r))}),t}}}i.__dashjs_factory_name="ManifestParsing",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{204:204,289:289,290:290,291:291}],286:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){return{serialise:function n(e){var t,r,i=[],o=[];for(t in e)if(e.hasOwnProperty(t)&&0!==t.indexOf("_")){if(null==(r=e[t])&&(r=""),Array.isArray(r)){if(!r.length)continue;o=[],r.forEach(function(e){var t="Object"!==Object.prototype.toString.call(e).slice(8,-1);o.push(t?e:n(e))}),r=encodeURIComponent(o.join(","))}else"string"==typeof r?r=encodeURIComponent(r):r instanceof Date?r=r.toISOString():"number"==typeof r&&(r=Math.round(r));i.push(t+"="+r)}return i.join("&")}}}r.__dashjs_factory_name="MetricSerialiser",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],287:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){var e,r=window.crypto||window.msCrypto,t=Uint32Array,i=Math.pow(2,8*t.BYTES_PER_ELEMENT)-1,n=10,o=void 0,a=void 0;function s(){r&&(o=o||new t(n),r.getRandomValues(o),a=0)}return e={random:function(e,t){var n;return e=e||0,t=t||1,r?(a===o.length&&s(),n=o[a]/i,a+=1):n=Math.random(),n*(t-e)+e}},s(),e}r.__dashjs_factory_name="RNG",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],288:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null}r.SSL_CONNECTION_FAILED_PREFIX="SSL",r.DNS_RESOLUTION_FAILED="C00",r.HOST_UNREACHABLE="C01",r.CONNECTION_REFUSED="C02",r.CONNECTION_ERROR="C03",r.CORRUPT_MEDIA_ISOBMFF="M00",r.CORRUPT_MEDIA_OTHER="M01",r.BASE_URL_CHANGED="F00",r.BECAME_REPORTER="S00",n.default=r,t.exports=n.default},{}],289:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.metrics="",this.Range=[],this.Reporting=[]},t.exports=n.default},{}],290:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},t.exports=n.default},{}],291:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.schemeIdUri="",this.value=""},t.exports=n.default},{}],292:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});function s(e,t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.data={baseUrls:e||null,selectedIdx:t||c},this.children=[]}var u=r(e(216)),l=r(e(350)),e=r(e(204)),c=NaN;function i(){var i=void 0,e=this.context,o=(0,u.default)(e).getInstance(),r=(0,l.default)(e).getInstance();function a(e,t,n){n=o.getBaseURLsFromElement(n);e[t]?r.areSimpleEquivalent(n,e[t].data.baseUrls)||(e[t].data.baseUrls=n,e[t].data.selectedIdx=c):e[t]=new s(n)}return e={reset:function(){i=new s},update:function(e){var t;e=e,t=o.getBaseURLsFromElement(e),r.areSimpleEquivalent(t,i.data.baseUrls)||(i.data.baseUrls=t,i.data.selectedIdx=c),e.Period_asArray&&e.Period_asArray.forEach(function(e,r){a(i.children,r,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach(function(e,n){a(i.children[r].children,n,e),e.Representation_asArray&&e.Representation_asArray.sort(o.getRepresentationSortFunction()).forEach(function(e,t){a(i.children[r].children[n].children,t,e)})})})},getForPath:function(e){var t=i,n=[t.data];return e.forEach(function(e){(t=t.children[e])&&n.push(t.data)}),n.filter(function(e){return e.baseUrls.length})},invalidateSelectedIndexes:function(t){!function t(n,e){e=e||i;n(e.data),e.children&&e.children.forEach(function(e){return t(n,e)})}(function(e){isNaN(e.selectedIdx)||t===e.baseUrls[e.selectedIdx].serviceLocation&&(e.selectedIdx=c)})}},i=new s,e}i.__dashjs_factory_name="BaseURLTreeModel",n.default=e.default.getClassFactory(i),t.exports=n.default},{204:204,216:216,350:350}],293:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var d=r(e(203)),p=r(e(207)),i=r(e(204)),h=r(e(358)),g=r(e(202)),m="loading",y="executed";function o(e){var t=this.context,n=(0,g.default)(t).getInstance().log,r=(0,d.default)(t).getInstance(),i=e.metricsModel,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0;function c(e,t){i.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),i.addRequestsQueue(e.mediaType,u,s)}function f(e){e.sender===l&&(u.splice(u.indexOf(e.request),1),e.response&&!e.error&&s.push(e.request),c(e.request,e.error?"failed":y),r.trigger(p.default.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}return o={setLoader:function(e){l=e},setScheduleController:function(e){a=e},getScheduleController:function(){return a},getRequests:function(t){var e=t.state instanceof Array?t.state:[t.state],n=[];return e.forEach(function(e){e=function(e){var t=void 0;switch(e){case m:t=u;break;case y:t=s;break;default:t=[]}return t}(e);n=n.concat(function(e,n){if(n.hasOwnProperty("time"))return[function(e,t,n){for(var r=e.length-1;0<=r;r--){var i=e[r],o=i.startTime,a=o+i.duration;if(n=void 0!==n?n:i.duration/2,!isNaN(o)&&!isNaN(a)&&o<=t+n&&t-n<a||isNaN(o)&&isNaN(t))return i}return null}(e,n.time,n.threshold)];return e.filter(function(e){for(var t in n)if("state"!==t&&n.hasOwnProperty(t)&&e[t]!=n[t])return!1;return!0})}(e,t))}),n},isFragmentLoaded:function(r){var i;return i=!1,s.some(function(e){if(t=r,n=e,!isNaN(t.index)&&t.startTime===n.startTime&&t.adaptationIndex===n.adaptationIndex||(t=r,n=e,isNaN(t.index)&&isNaN(n.index)&&t.quality===n.quality)||(t=e,(n=r).action===h.default.ACTION_COMPLETE&&n.action===t.action))return i=!0;var t,n}),i},removeExecutedRequestsBeforeTime:function(t){s=s.filter(function(e){return isNaN(e.startTime)||e.startTime>=t})},abortRequests:function(){l.abort(),u=[]},executeRequest:function(e){switch(e.action){case h.default.ACTION_COMPLETE:s.push(e),c(e,y),r.trigger(p.default.STREAM_COMPLETED,{request:e,fragmentModel:this});break;case h.default.ACTION_DOWNLOAD:c(e,m),u.push(e),t=e,r.trigger(p.default.FRAGMENT_LOADING_STARTED,{sender:o,request:t}),l.load(t);break;default:n("Unknown request action.")}var t},reset:function(){r.off(p.default.LOADING_COMPLETED,f,this),l&&(l.reset(),l=null),s=[],u=[]}},l=a=null,s=[],u=[],r.on(p.default.LOADING_COMPLETED,f,o),o}o.__dashjs_factory_name="FragmentModel";e=i.default.getClassFactory(o);e.FRAGMENT_MODEL_LOADING=m,e.FRAGMENT_MODEL_EXECUTED=y,e.FRAGMENT_MODEL_CANCELED="canceled",e.FRAGMENT_MODEL_FAILED="failed",n.default=e,t.exports=n.default},{202:202,203:203,204:204,207:207,358:358}],294:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(203)),o=r(e(207)),e=r(e(204));function a(){var e=this.context,t=(0,i.default)(e).getInstance(),n=void 0;return{getValue:function(){return n},setValue:function(e){(n=e)&&t.trigger(o.default.MANIFEST_LOADED,{data:e})}}}a.__dashjs_factory_name="ManifestModel",n.default=e.default.getSingletonFactory(a),t.exports=n.default},{203:203,204:204,207:207}],295:[function(e,t,n){"use strict";function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(n,"__esModule",{value:!0});var r=e(204),r=(r=r)&&r.__esModule?r:{default:r},A=e(374);function i(){var e,t,n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,T=void 0,w=void 0,E=void 0,x=void 0,S=void 0;return e={setBufferOccupancyABREnabled:function(e){w=e},getBufferOccupancyABREnabled:function(){return w},setrlABREnabled:function(e){E=e},getrlABREnabled:function(){return E},setBandwidthSafetyFactor:function(e){y=e},getBandwidthSafetyFactor:function(){return y},setAbandonLoadTimeout:function(e){v=e},getAbandonLoadTimeout:function(){return v},setLastBitrateCachingInfo:function(e,t){c.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(c.ttl=t)},getLastBitrateCachingInfo:function(){return c},setLastMediaSettingsCachingInfo:function(e,t){f.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(f.ttl=t)},getLastMediaSettingsCachingInfo:function(){return f},setStableBufferTime:function(e){d=e},getStableBufferTime:function(){return isNaN(d)?S?20:12:d},setBufferTimeAtTopQuality:function(e){p=e},getBufferTimeAtTopQuality:function(){return p},setBufferTimeAtTopQualityLongForm:function(e){h=e},getBufferTimeAtTopQualityLongForm:function(){return h},setLongFormContentDurationThreshold:function(e){g=e},getLongFormContentDurationThreshold:function(){return g},setRichBufferThreshold:function(e){m=e},getRichBufferThreshold:function(){return m},setBufferToKeep:function(e){u=e},getBufferToKeep:function(){return u},setBufferPruningInterval:function(e){l=e},getBufferPruningInterval:function(){return l},setFragmentRetryAttempts:function(e){_[A.HTTPRequest.MEDIA_SEGMENT_TYPE]=e},getFragmentRetryAttempts:function(){return _[A.HTTPRequest.MEDIA_SEGMENT_TYPE]},setRetryAttemptsForType:function(e,t){_[e]=t},getRetryAttemptsForType:function(e){return _[e]},setFragmentRetryInterval:function(e){b[A.HTTPRequest.MEDIA_SEGMENT_TYPE]=e},getFragmentRetryInterval:function(){return b[A.HTTPRequest.MEDIA_SEGMENT_TYPE]},setRetryIntervalForType:function(e,t){b[e]=t},getRetryIntervalForType:function(e){return b[e]},setWallclockTimeUpdateInterval:function(e){T=e},getWallclockTimeUpdateInterval:function(){return T},setScheduleWhilePaused:function(e){s=e},getScheduleWhilePaused:function(){return s},getUseSuggestedPresentationDelay:function(){return r},setUseSuggestedPresentationDelay:function(e){r=e},setLiveDelayFragmentCount:function(e){o=e},getLiveDelayFragmentCount:function(){return o},getLiveDelay:function(){return a},setLiveDelay:function(e){a=e},setUseManifestDateHeaderTimeSource:function(e){n=e},getUseManifestDateHeaderTimeSource:function(){return n},setUTCTimingSources:function(e){i=e},getUTCTimingSources:function(){return i},setXHRWithCredentials:function(e){x=!!e},getXHRWithCredentials:function(){return x},setFastSwitchEnabled:function(e){S=e},getFastSwitchEnabled:function(){return S},reset:function(){}},c={enabled:!(S=E=w=!(s=n=!(r=!(i=[])))),ttl:36e4},f={enabled:!0,ttl:36e4},o=4,a=void 0,d=NaN,p=l=u=30,h=60,g=600,m=20,y=.9,v=1e4,x=!(T=50),O(t={},A.HTTPRequest.MPD_TYPE,3),O(t,A.HTTPRequest.XLINK_EXPANSION_TYPE,1),O(t,A.HTTPRequest.MEDIA_SEGMENT_TYPE,3),O(t,A.HTTPRequest.INIT_SEGMENT_TYPE,3),O(t,A.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),O(t,A.HTTPRequest.INDEX_SEGMENT_TYPE,3),O(t,A.HTTPRequest.OTHER_TYPE,3),_=t,O(t={},A.HTTPRequest.MPD_TYPE,500),O(t,A.HTTPRequest.XLINK_EXPANSION_TYPE,500),O(t,A.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),O(t,A.HTTPRequest.INIT_SEGMENT_TYPE,1e3),O(t,A.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),O(t,A.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),O(t,A.HTTPRequest.OTHER_TYPE,1e3),b=t,e}i.__dashjs_factory_name="MediaPlayerModel";e=r.default.getSingletonFactory(i);e.DEFAULT_UTC_TIMING_SOURCE={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},n.default=e,t.exports=n.default},{204:204,374:374}],296:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(363)),s=r(e(380)),_=e(374),a=r(e(377)),u=r(e(370)),c=r(e(371)),f=r(e(372)),d=r(e(373)),p=e(375),h=r(e(379)),g=r(e(203)),b=r(e(378)),T=r(e(207)),i=r(e(204)),w=r(e(369));function l(){var e=this.context,r=(0,g.default)(e).getInstance(),m=void 0,n=void 0;function t(){r.trigger(T.default.METRICS_CHANGED)}function i(e){r.trigger(T.default.METRIC_CHANGED,{mediaType:e}),t()}function l(e,t,n){r.trigger(T.default.METRIC_UPDATED,{mediaType:e,metric:t,value:n}),i(e)}function y(e,t,n){r.trigger(T.default.METRIC_ADDED,{mediaType:e,metric:t,value:n}),i(e)}function v(e){var t;return n.hasOwnProperty(e)?t=n[e]:(t=new o.default,n[e]=t),t}return n={},{metricsChanged:t,metricChanged:i,metricUpdated:l,metricAdded:y,clearCurrentMetricsForType:function(e){delete n[e],i(e)},clearAllCurrentMetrics:function(){n={},t()},getReadOnlyMetricsFor:function(e){return n.hasOwnProperty(e)?n[e]:null},getMetricsFor:v,addTcpConnection:function(e,t,n,r,i,o){var a=new s.default;return a.tcpid=t,a.dest=n,a.topen=r,a.tclose=i,a.tconnect=o,v(e).TcpList.push(a),y(e,m.metricsList.TCP_CONNECTION,a),a},addHttpRequest:function e(t,n,r,i,o,a,s,u,l,c,f,d,p,h){var g=new _.HTTPRequest;return o&&o!==i&&(e(t,null,r,i,null,null,s,u,null,null,null,d,null,null),g.actualurl=o),g.tcpid=n,g.type=r,g.url=i,g.range=s,g.trequest=u,g.tresponse=l,g.responsecode=f,g._tfinish=c,g._stream=t,g._mediaduration=d,g._responseHeaders=p,g._serviceLocation=a,h?h.forEach(function(e){var t,n,r,i;t=g,n=e.s,r=e.d,e=e.b,(i=new _.HTTPRequestTrace).s=n,i.d=r,i.b=e,t.trace.push(i),t.interval||(t.interval=0),t.interval+=r}):(delete g.interval,delete g.trace),v(t).HttpList.push(g),y(t,m.metricsList.HTTP_REQUEST,g),g},addRepresentationSwitch:function(e,t,n,r,i){var o=new a.default;return o.t=t,o.mt=n,o.to=r,i?o.lto=i:delete o.lto,v(e).RepSwitchList.push(o),y(e,m.metricsList.TRACK_SWITCH,o),o},addBufferLevel:function(e,t,n){var r=new u.default;return r.t=t,r.level=n,v(e).BufferLevel.push(r),y(e,m.metricsList.BUFFER_LEVEL,r),r},addBufferState:function(e,t,n){var r=new c.default;return r.target=n,r.state=t,v(e).BufferState.push(r),y(e,m.metricsList.BUFFER_STATE,r),r},addDVRInfo:function(e,t,n,r){var i=new f.default;return i.time=t,i.range=r,i.manifestInfo=n,v(e).DVRInfo.push(i),y(e,m.metricsList.DVR_INFO,i),i},addDroppedFrames:function(e,t){var n=new d.default,r=v(e).DroppedFrames;return n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,0<r.length&&r[r.length-1]==n?r[r.length-1]:(r.push(n),y(e,m.metricsList.DROPPED_FRAMES,n),n)},addSchedulingInfo:function(e,t,n,r,i,o,a,s,u){var l=new h.default;return l.mediaType=e,l.t=t,l.type=n,l.startTime=r,l.availabilityStartTime=i,l.duration=o,l.quality=a,l.range=s,l.state=u,v(e).SchedulingInfo.push(l),y(e,m.metricsList.SCHEDULING_INFO,l),l},addRequestsQueue:function(e,t,n){var r=new b.default;r.loadingRequests=t,r.executedRequests=n,v(e).RequestsQueue=r,y(e,m.metricsList.REQUESTS_QUEUE,r)},addManifestUpdate:function(e,t,n,r,i,o,a,s,u,l){var c=new p.ManifestUpdate,f=v("stream");return c.mediaType=e,c.type=t,c.requestTime=n,c.fetchTime=r,c.availabilityStartTime=i,c.presentationStartTime=o,c.clientTimeOffset=a,c.currentTime=s,c.buffered=u,c.latency=l,f.ManifestUpdate.push(c),y(e,m.metricsList.MANIFEST_UPDATE,c),c},updateManifestUpdateInfo:function(e,t){if(e){for(var n in t)e[n]=t[n];l(e.mediaType,m.metricsList.MANIFEST_UPDATE,e)}},addManifestUpdateStreamInfo:function(e,t,n,r,i){var o;return e?((o=new p.ManifestUpdateStreamInfo).id=t,o.index=n,o.start=r,o.duration=i,e.streamInfo.push(o),l(e.mediaType,m.metricsList.MANIFEST_UPDATE_STREAM_INFO,e),o):null},addManifestUpdateRepresentationInfo:function(e,t,n,r,i,o,a,s){var u;return e?((u=new p.ManifestUpdateTrackInfo).id=t,u.index=n,u.streamIndex=r,u.mediaType=i,u.startNumber=a,u.fragmentInfoType=s,u.presentationTimeOffset=o,e.trackInfo.push(u),l(e.mediaType,m.metricsList.MANIFEST_UPDATE_TRACK_INFO,e),u):null},addPlayList:function(e){return e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,v("stream").PlayList.push(e),y("stream",m.metricsList.PLAY_LIST,e),e},addDVBErrors:function(e){return v("stream").DVBErrors.push(e),y("stream",m.metricsList.DVB_ERRORS,e),e},updateBolaState:function(e,t){var n=new w.default;return n._s=t,v(e).BolaState=[n],y(e,"BolaState",n),n},setConfig:function(e){e&&e.adapter&&(m=e.adapter)}}}l.__dashjs_factory_name="MetricsModel",n.default=i.default.getSingletonFactory(l),t.exports=n.default},{203:203,204:204,207:207,363:363,369:369,370:370,371:371,372:372,373:373,374:374,375:375,377:377,378:378,379:379,380:380}],297:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(368)),e=r(e(204));function o(){var u=void 0,l=void 0,c=void 0;return{initialize:function(){u=new i.default,c=!(l=[])},parseURI:function(e){var r,t,n,i,o,a;return e?(r=[],t=new RegExp(/[?]/),n=new RegExp(/[#]/),i=new RegExp(/^(https:)?\/\//i),o=t.test(e),a=n.test(e),c=i.test(e),e.split(/[?#]/).map(function(e,t,n){return 0<t&&(o&&0===l.length?l=n[t].split(/[&]/):a&&(r=n[t].split(/[&]/))),n}),0<l.length&&(l=l.reduce(s,null)),0<r.length&&(r=r.reduce(s,null)).forEach(function(e){u[e.key]=e.value}),e):null;function s(e,t,n,r){var i=r[0].split(/[=]/);return r.push({key:i[0],value:i[1]}),r.shift(),r}},getURIFragmentData:function(){return u},getURIQueryData:function(){return l},isManifestHTTPS:function(){return c}}}o.__dashjs_factory_name="URIQueryAndFragmentModel",n.default=e.default.getSingletonFactory(o),t.exports=n.default},{204:204,368:368}],298:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){var r=void 0,t=void 0,n=void 0,i=void 0,o=void 0;function a(e){!r||r.readyState<2||(r.playbackRate=e)}return{initialize:function(){i=[]},setCurrentTime:function(t){if(r.currentTime!=t)try{r.currentTime=t}catch(e){0===r.readyState&&e.code===e.INVALID_STATE_ERR&&setTimeout(function(){r.currentTime=t},400)}},setStallState:function(e,t){(t?function(e){var t=void 0;null===e||r.seeking||-1!==i.indexOf(e)||(i.push(e),1===i.length&&((t=document.createEvent("Event")).initEvent("waiting",!0,!1),o=r.playbackRate,a(0),r.dispatchEvent(t)))}:function(e){var t=i.indexOf(e),n=void 0;null!==e&&(-1!==t&&i.splice(t,1),0<i.length==!1)&&0===r.playbackRate&&((n=document.createEvent("Event")).initEvent("playing",!0,!1),a(o||1),r.dispatchEvent(n))})(e)},getElement:function(){return r},setElement:function(e){(r=e).preload="auto"},setSource:function(e){e?r.src=e:(r.removeAttribute("src"),r.load())},getSource:function(){return r.src},getVideoContainer:function(){return n},setVideoContainer:function(e){n=e},getTTMLRenderingDiv:function(){return t},setTTMLRenderingDiv:function(e){(t=e).style.position="absolute",t.style.display="flex",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.top=0,t.style.left=0},getPlaybackQuality:function(){var e="webkitDroppedFrameCount"in r,t=null;return"getVideoPlaybackQuality"in r?t=r.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:r.webkitDroppedFrameCount,creationTime:new Date}),t}}}r.__dashjs_factory_name="VideoModel",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],299:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e=e(1),o=(e=e)&&e.__esModule?e:{default:e},e=(r(a,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"===r.schemeIdUri.toLowerCase()&&"cenc"===r.value.toLowerCase()&&(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,0<r&&(t+=4+16*n.getUint32(t)),e.slice(t+=4)}},{key:"getPSSHForKeySystem",value:function(e,t){t=a.parsePSSHList(t);return t.hasOwnProperty(e.uuid.toLowerCase())?t[e.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e){return"pssh"in e?o.default.decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e),n={},r=0;;){var i,o,a,s,u,l=r;if(r>=t.buffer.byteLength)break;if(i=r+t.getUint32(r),r+=4,1886614376!==t.getUint32(r));else if(r+=4,0===(o=t.getUint8(r))||1===o){for(r++,r+=3,a="",s=0;s<4;s++)a+=1===(u=t.getUint8(r+s).toString(16)).length?"0"+u:u;for(r+=4,a+="-",s=0;s<2;s++)a+=1===(u=t.getUint8(r+s).toString(16)).length?"0"+u:u;for(r+=2,a+="-",s=0;s<2;s++)a+=1===(u=t.getUint8(r+s).toString(16)).length?"0"+u:u;for(r+=2,a+="-",s=0;s<2;s++)a+=1===(u=t.getUint8(r+s).toString(16)).length?"0"+u:u;for(r+=2,a+="-",s=0;s<6;s++)a+=1===(u=t.getUint8(r+s).toString(16)).length?"0"+u:u;r+=6,a=a.toLowerCase(),t.getUint32(r),r+=4,n[a]=t.buffer.slice(l,i)}r=i}return n}}]),a);function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function")}n.default=e,t.exports=n.default},{1:1}],300:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(302)),l=r(e(303)),i=r(e(301)),c=r(e(308)),f=r(e(309)),d=r(e(307)),e=r(e(204)),p=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],h=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function o(){var a=this.context;function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[Object.keys(r)[0]]])return r}return null}return{createProtectionSystem:function(e){var t,n,r=null,i=(0,l.default)(a).getInstance(),o=(i.setConfig({log:e.log}),i.initialize(),n=(t=e).log,o=t.eventBus,void 0!==(t=t.videoModel.getElement()).onencrypted&&void 0!==t.mediaKeys&&void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?(n("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,c.default)(a).create({log:n,eventBus:o})):s(t,h)?(n("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,f.default)(a).create({log:n,eventBus:o,api:s(t,h)})):s(t,p)?(n("EME detected on this user agent! (ProtectionModel_01b)"),(0,d.default)(a).create({log:n,eventBus:o,api:s(t,p)})):(n("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null));return!r&&o&&(r=(0,u.default)(a).create({protectionModel:o,protectionKeyController:i,adapter:e.adapter,eventBus:e.eventBus,log:e.log}),e.capabilities.setEncryptedMediaSupported(!0)),r}}}o.__dashjs_factory_name="Protection";e=e.default.getClassFactory(o);e.events=i.default,n.default=e,t.exports=n.default},{204:204,301:301,302:302,303:303,307:307,308:308,309:309}],301:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(208),e=new(function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");!function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(((e=e)&&e.__esModule?e:{default:e}).default));n.default=e,t.exports=n.default},{208:208}],302:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var x=r(e(299)),S=r(e(207)),O=r(e(320)),A=r(e(319)),i=r(e(204)),s=r(e(300));function o(e){var f=e.protectionKeyController,d=e.protectionModel,i=e.adapter,p=e.eventBus,h=e.log,g=void 0,m=void 0,y=void 0,v=void 0,o=void 0,_=void 0,b=void 0,T=void 0;function w(e){var t=x.default.getPSSHForKeySystem(T,e);if(t){for(var n=d.getAllInitData(),r=0;r<n.length;r++)if(f.initDataEquals(t,n[r]))return void h("DRM: Ignoring initData because we have already seen it!");try{d.createKeySession(t,_)}catch(e){p.trigger(S.default.KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+e.message})}}else p.trigger(S.default.KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+T.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function t(e){e?(d.setMediaElement(e),p.on(S.default.NEED_KEY,r,this),p.on(S.default.INTERNAL_KEY_MESSAGE,n,this)):null===e&&(d.setMediaElement(e),p.off(S.default.NEED_KEY,r,this),p.off(S.default.INTERNAL_KEY_MESSAGE,n,this))}function a(n,r){var i,o=this,e=[],t=[],a=(y&&t.push(new O.default(y.codec,b)),m&&e.push(new O.default(m.codec,b)),new A.default(e,t,"optional","temporary"===_?"optional":"required",[_])),s=[];if(T){for(i=0;i<n.length;i++)if(T===n[i].ks){s.push({ks:n[i].ks,configs:[a]}),p.on(S.default.KEY_SYSTEM_ACCESS_COMPLETE,function e(t){p.off(S.default.KEY_SYSTEM_ACCESS_COMPLETE,e,o),t.error?r||p.trigger(S.default.KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+t.error}):(h("DRM: KeySystem Access Granted"),p.trigger(S.default.KEY_SYSTEM_SELECTED,{data:t.data}),w(n[i].initData))},o),d.requestKeySystemAccess(s);break}}else if(void 0===T){T=null,g.push(n);for(var u,l=0;l<n.length;l++)s.push({ks:n[l].ks,configs:[a]});var c=function e(t){p.off(S.default.KEY_SYSTEM_ACCESS_COMPLETE,e,o),t.error?(T=void 0,p.off(S.default.INTERNAL_KEY_SYSTEM_SELECTED,f,o),r||p.trigger(S.default.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+t.error})):(u=t.data,h("DRM: KeySystem Access Granted ("+u.keySystem.systemString+")!  Selecting key system..."),d.selectKeySystem(u))},f=function e(t){if(p.off(S.default.INTERNAL_KEY_SYSTEM_SELECTED,e,o),p.off(S.default.KEY_SYSTEM_ACCESS_COMPLETE,c,o),t.error)T=void 0,r||p.trigger(S.default.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+t.error});else{T=d.getKeySystem(),p.trigger(S.default.KEY_SYSTEM_SELECTED,{data:u});for(var n=0;n<g.length;n++)for(i=0;i<g[n].length;i++)if(T===g[n][i].ks){w(g[n][i].initData);break}}};p.on(S.default.INTERNAL_KEY_SYSTEM_SELECTED,f,o),p.on(S.default.KEY_SYSTEM_ACCESS_COMPLETE,c,o),d.requestKeySystemAccess(s)}else g.push(n)}function E(e,t){p.trigger(S.default.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function n(e){if(h("DRM: onKeyMessage"),e.error)h(e.error);else{var t=e.data,n=(p.trigger(S.default.KEY_MESSAGE,{data:t}),t.messageType||"license-request"),r=t.message,i=t.sessionToken,o=(t=null,o=(o=T).systemString,t=v?o in v?v[o]:null:t),a=T.systemString,s=f.getLicenseServer(T,o,n),u={sessionToken:i,messageType:n};if(s){if(f.isClearKey(T)){t=f.processClearKeyLicenseRequest(o,r);if(t)return h("DRM: ClearKey license request handled by application!"),E(u),void d.updateKeySession(i,t)}var l,c=new XMLHttpRequest,t=null;o?o.serverURL?"string"==typeof(l=o.serverURL)&&""!==l?t=l:"object"==typeof l&&l.hasOwnProperty(n)&&(t=l[n]):o.laURL&&""!==o.laURL&&(t=o.laURL):t=(t=T.getLicenseServerURLFromInitData(x.default.getPSSHData(i.initData)))||e.data.laURL,(t=s.getServerURLFromMessage(t,r,n))?(c.open(s.getHTTPMethod(n),t,!0),c.responseType=s.getResponseType(a,n),c.onload=function(){200==this.status?(E(u),d.updateKeySession(i,s.getLicenseMessage(this.response,a,n))):E(u,"DRM: "+a+' update, XHR status is "'+this.statusText+'" ('+this.status+"), expected to be 200. readyState is "+this.readyState+".  Response is "+(this.response?s.getErrorResponse(this.response,a,n):"NONE"))},c.onabort=function(){E(u,"DRM: "+a+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},c.onerror=function(){E(u,"DRM: "+a+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},l=function(e){if(e)for(var t in e)"authorization"===t.toLowerCase()&&(c.withCredentials=!0),c.setRequestHeader(t,e[t])},o&&l(o.httpRequestHeaders),l(T.getRequestHeadersFromMessage(r)),o&&o.withCredentials&&(c.withCredentials=!0),c.send(T.getLicenseRequestFromMessage(r))):E(u,"DRM: No license server URL specified!")}else h("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+i.getSessionID()),E(u)}}function r(e){h("DRM: onNeedKey"),"cenc"!==e.key.initDataType?h("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType):(e=e.key.initData,ArrayBuffer.isView(e)&&(e=e.buffer),h("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(e))),0===(e=f.getSupportedKeySystems(e,v)).length?h("DRM: Received needkey event with initData, but we don't support any of the key systems!"):a(e,!1))}return e={initialize:function(e,t,n){var r;o||(t||n||(r=i.getStreamsInfo(e)[0]),m=t||(r?i.getMediaInfoForType(e,r,"audio"):null),t=(y=n||(r?i.getMediaInfoForType(e,r,"video"):null))||m,(n=f.getSupportedKeySystemsFromContentProtection(t.contentProtection))&&0<n.length&&a(n,!0),o=!0)},createKeySession:w,loadKeySession:function(e){d.loadKeySession(e)},removeKeySession:function(e){d.removeKeySession(e)},closeKeySession:function(e){d.closeKeySession(e)},setServerCertificate:function(e){d.setServerCertificate(e)},setMediaElement:t,setSessionType:function(e){_=e},setRobustnessLevel:function(e){b=e},setProtectionData:function(e){v=e},reset:function(){t(null),T=void 0,d&&(d.reset(),d=null)}},f.getKeySystems(),o=!(g=[]),_="temporary",b="",S.default.extend(s.default.events),e}o.__dashjs_factory_name="ProtectionController",n.default=i.default.getClassFactory(o),t.exports=n.default},{204:204,207:207,299:299,300:300,319:319,320:320}],303:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=r(e(299)),o=r(e(304)),u=r(e(306)),l=r(e(305)),c=r(e(311)),f=r(e(312)),d=r(e(313)),p=r(e(310)),e=r(e(204));function i(){var r=this.context,n=void 0,a=void 0,i=void 0;return{initialize:function(){var e;a=[],e=(0,l.default)(r).getInstance(),a.push(e),e=(0,u.default)(r).getInstance(),a.push(e),e=(0,o.default)(r).getInstance(),a.push(e),i=e},isClearKey:function(e){return e===i},initDataEquals:function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0},getKeySystems:function(){return a},getKeySystemBySystemString:function(e){for(var t=0;t<a.length;t++)if(a[t].systemString===e)return a[t];return null},getSupportedKeySystemsFromContentProtection:function(e){var t,n,r,i,o=[];if(e)for(n=0;n<a.length;++n)for(t=a[n],r=0;r<e.length;++r)(i=e[r]).schemeIdUri.toLowerCase()===t.schemeIdURI&&(i=t.getInitData(i))&&o.push({ks:a[n],initData:i});return o},getSupportedKeySystems:function(e,t){for(var n=[],r=s.default.parsePSSHList(e),i=0;i<a.length;++i){var o=a[i].systemString,o=!t||o in t;a[i].uuid in r&&o&&n.push({ks:a[i],initData:r[a[i].uuid]})}return n},getLicenseServer:function(e,t,n){return"license-release"===n||"individualization-request"===n?null:(n=null,t&&t.hasOwnProperty("drmtoday")?n=(0,c.default)(r).getInstance():"com.widevine.alpha"===e.systemString?n=(0,d.default)(r).getInstance():"com.microsoft.playready"===e.systemString?n=(0,f.default)(r).getInstance():"org.w3.clearkey"===e.systemString&&(n=(0,p.default)(r).getInstance()),n)},processClearKeyLicenseRequest:function(e,t){try{return i.getClearKeysFromProtectionData(e,t)}catch(e){return n("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(e){e&&e.log&&(n=e.log)}}}i.__dashjs_factory_name="ProtectionKeyController",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{204:204,299:299,304:304,305:305,306:306,310:310,311:311,312:312,313:313}],304:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(317)),l=r(e(314)),i=r(e(299)),e=r(e(204)),o="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b";function a(){return{uuid:o,schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:"org.w3.clearkey",getInitData:function(e){return i.default.parseInitDataFromContentProtection(e)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[],o=0;o<r.kids.length;o++){var a=r.kids[o],s=e.clearkeys.hasOwnProperty(a)?e.clearkeys[a]:null;if(!s)throw new Error("DRM: ClearKey keyID ("+a+") is not known!");i.push(new u.default(a,s))}n=new l.default(i)}return n}}}a.__dashjs_factory_name="KeySystemClearKey",n.default=e.default.getSingletonFactory(a),t.exports=n.default},{204:204,299:299,314:314,317:317}],305:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(299)),i=r(e(357)),o=r(e(204)),l=r(e(1)),s="9a04f079-9840-4286-ab92-e65be0885f95";function a(){var a="utf16";return{uuid:s,schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:"com.microsoft.playready",getInitData:function(e){var t,n,r,i=new Uint8Array([112,115,115,104,0,0,0,0]),o=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),a=0,s=null;if("pssh"in e)return u.default.parseInitDataFromContentProtection(e);if("pro"in e)s=l.default.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;s=l.default.decodeArray(e.prheader.__text)}return e=s.length,t=4+i.length+o.length+4+e,r=new ArrayBuffer(t),n=new Uint8Array(r),(r=new DataView(r)).setUint32(0,t),a+=4,n.set(i,4),a+=i.length,n.set(o,a),a+=o.length,r.setUint32(a,e),n.set(s,a+=4),n.buffer},getRequestHeadersFromMessage:function(e){for(var t={},n=new DOMParser,e=new("utf16"===a?Uint16Array:Uint8Array)(e),e=String.fromCharCode.apply(null,e),r=(n=n.parseFromString(e,"application/xml")).getElementsByTagName("name"),i=n.getElementsByTagName("value"),o=0;o<r.length;o++)t[r[o].childNodes[0].nodeValue]=i[o].childNodes[0].nodeValue;return t.hasOwnProperty("Content")&&(t["Content-Type"]=t.Content,delete t.Content),t},getLicenseRequestFromMessage:function(e){var t=null,n=new DOMParser,e=new("utf16"===a?Uint16Array:Uint8Array)(e),e=String.fromCharCode.apply(null,e),n=n.parseFromString(e,"application/xml");return t=n.getElementsByTagName("Challenge")[0]&&(e=n.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue)?l.default.decode(e):t},getLicenseServerURLFromInitData:function(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,o=0;o<n;o++){var a=t.getUint16(r,!0),s=(r+=2,t.getUint16(r,!0));if(r+=2,1!==a)r+=s;else{a=e.slice(r,r+s),s=String.fromCharCode.apply(null,new Uint16Array(a)),a=i.parseFromString(s,"application/xml");if(a.getElementsByTagName("LA_URL")[0]){s=a.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(s)return s}if(a.getElementsByTagName("LUI_URL")[0]){s=a.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(s)return s}}}return null},setPlayReadyMessageFormat:function(e){if("utf8"!==e&&"utf16"!==e)throw new i.default("Illegal PlayReady message format! -- "+e);a=e}}}a.__dashjs_factory_name="KeySystemPlayReady",n.default=o.default.getSingletonFactory(a),t.exports=n.default},{1:1,204:204,299:299,357:357}],306:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(299)),e=r(e(204)),o="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function a(){return{uuid:o,schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:"com.widevine.alpha",getInitData:function(e){return i.default.parseInitDataFromContentProtection(e)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null}}}a.__dashjs_factory_name="KeySystemWidevine",n.default=e.default.getSingletonFactory(a),t.exports=n.default},{204:204,299:299}],307:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var m=r(e(303)),y=r(e(321)),v=r(e(315)),_=r(e(316)),b=r(e(319)),T=r(e(318)),w=r(e(207)),E=r(e(346)),e=r(e(204));function i(e){var t=this.context,d=e.eventBus,i=e.log,o=e.api,p=void 0,a=void 0,h=void 0,s=void 0,u=void 0,l=void 0,c=void 0,n=void 0;function r(e){p[o.cancelKeyRequest](a.systemString,e.sessionID)}function f(e,t){if(t&&e)for(var n=e.length,r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}function g(){p.removeEventListener(o.keyerror,n),p.removeEventListener(o.needkey,n),p.removeEventListener(o.keymessage,n),p.removeEventListener(o.keyadded,n)}return e={getAllInitData:function(){for(var e=[],t=0;t<u.length;t++)e.push(u[t].initData);for(t=0;t<l.length;t++)e.push(l[t].initData);return e},requestKeySystemAccess:function(e){for(var t=(t=p)||document.createElement("video"),n=!1,r=0;r<e.length;r++)for(var i=e[r].ks.systemString,o=e[r].configs,a=null,s=0;s<o.length;s++){var u=o[s].videoCapabilities;if(u&&0!==u.length)for(var a=[],l=0;l<u.length;l++)""!==t.canPlayType(u[l].contentType,i)&&a.push(u[l]);if(a&&0!==a.length){var n=!0,c=new b.default(null,a),f=h.getKeySystemBySystemString(i);d.trigger(w.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new T.default(f,c)});break}}n||d.trigger(w.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return a},selectKeySystem:function(e){a=e.keySystem,d.trigger(w.default.INTERNAL_KEY_SYSTEM_SELECTED)},setMediaElement:function(e){p!==e&&(p&&g(),p=e)&&(p.addEventListener(o.keyerror,n),p.addEventListener(o.needkey,n),p.addEventListener(o.keymessage,n),p.addEventListener(o.keyadded,n),d.trigger(w.default.VIDEO_ELEMENT_SELECTED))},createKeySession:function(e){if(!a)throw new Error("Can not create sessions until you have selected a key system");var t;if(c||0===l.length)return u.push(t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}}),p[o.generateKeyRequest](a.systemString,new Uint8Array(e)),t;throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){var n=e.sessionID;if(h.isClearKey(a))for(var r=0;r<t.keyPairs.length;r++)p[o.addKey](a.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n);else p[o.addKey](a.systemString,new Uint8Array(t),e.initData,n)},closeKeySession:r,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},reset:function(){p&&g();for(var e=0;e<l.length;e++)r(l[e]);d.trigger(w.default.TEARDOWN_COMPLETE)}},u=[],l=[],h=(a=p=null,m.default)(t).getInstance(),s=(0,E.default)(t).getInstance(),n={handleEvent:function(e){var t=null;switch(e.type){case o.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;d.trigger(w.default.NEED_KEY,{key:new y.default(n,"cenc")});break;case o.keyerror:if(t=(t=f(l,e.sessionId))||f(u,e.sessionId)){var r="";switch(e.errorCode.code){case 1:r+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:r+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:r+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:r+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:r+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:r+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}r+="  System Code = "+e.systemCode,d.trigger(w.default.KEY_ERROR,{data:new v.default(t,r)})}else i("No session token found for key error");break;case o.keyadded:(t=(t=f(l,e.sessionId))||f(u,e.sessionId))?(i("DRM: Key added."),d.trigger(w.default.KEY_ADDED,{data:t})):i("No session token found for key added");break;case o.keymessage:(c=null!==e.sessionId&&void 0!==e.sessionId)?!(t=f(l,e.sessionId))&&0<u.length&&(t=u.shift(),l.push(t),t.sessionID=e.sessionId):0<u.length&&(t=u.shift(),l.push(t),0!==u.length)&&s.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!"),t?(n=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,t.keyMessage=n,d.trigger(w.default.INTERNAL_KEY_MESSAGE,{data:new _.default(t,n,e.defaultURL)})):i("No session token found for key message")}}},e}i.__dashjs_factory_name="ProtectionModel_01b",n.default=e.default.getClassFactory(i),t.exports=n.default},{204:204,207:207,303:303,315:315,316:316,318:318,319:319,321:321,346:346}],308:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var h=r(e(303)),g=r(e(321)),m=r(e(315)),y=r(e(316)),v=r(e(318)),_=r(e(207)),e=r(e(204));function i(e){var i,o,a,s,u,r,t=this.context,l=e.eventBus,c=e.log;function f(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function d(e){for(var t=0;t<s.length;t++)if(s[t]===e){s.splice(t,1);break}}function p(e,t,n){var r={session:e,initData:t,handleEvent:function(e){switch(e.type){case"keystatuseschange":l.trigger(_.default.KEY_STATUSES_CHANGED,{data:this});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;l.trigger(_.default.INTERNAL_KEY_MESSAGE,{data:new y.default(this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getSessionType:function(){return n}};return e.addEventListener("keystatuseschange",r),e.addEventListener("message",r),e.closed.then(function(){d(r),c("DRM: Session closed.  SessionID = "+r.getSessionID()),l.trigger(_.default.KEY_SESSION_CLOSED,{data:r.getSessionID()})}),s.push(r),r}return e={getAllInitData:function(){for(var e=[],t=0;t<s.length;t++)e.push(s[t].initData);return e},requestKeySystemAccess:function(e){!function r(i,e){!function(e){var n=i[e].ks,t=i[e].configs;navigator.requestMediaKeySystemAccess(n.systemString,t).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,t=new v.default(n,t);t.mksa=e,l.trigger(_.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:t})}).catch(function(){++e<i.length?r(i,e):l.trigger(_.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied!"})})}(e)}(e,0)},getKeySystem:function(){return i},selectKeySystem:function(t){t.mksa.createMediaKeys().then(function(e){i=t.keySystem,a=e,o&&o.setMediaKeys(a),l.trigger(_.default.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){l.trigger(_.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+t.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})},setMediaElement:function(e){o!==e&&(o&&(o.removeEventListener("encrypted",u),o.setMediaKeys(null)),o=e)&&(o.addEventListener("encrypted",u),a)&&o.setMediaKeys(a)},setServerCertificate:function(e){if(!i||!a)throw new Error("Can not set server certificate until you have selected a key system");a.setServerCertificate(e).then(function(){c("DRM: License server certificate successfully updated."),l.trigger(_.default.SERVER_CERTIFICATE_UPDATED)}).catch(function(e){l.trigger(_.default.SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+e.name})})},createKeySession:function(e,t){if(!i||!a)throw new Error("Can not create sessions until you have selected a key system");var n=a.createSession(t),r=p(n,e,t);n.generateRequest("cenc",e).then(function(){c("DRM: Session created.  SessionID = "+r.getSessionID()),l.trigger(_.default.KEY_SESSION_CREATED,{data:r})}).catch(function(e){d(r),l.trigger(_.default.KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+e.name})})},updateKeySession:function(t,e){var n=t.session;r.isClearKey(i)&&(e=e.toJWK()),n.update(e).catch(function(e){l.trigger(_.default.KEY_ERROR,{data:new m.default(t,"Error sending update() message! "+e.name)})})},loadKeySession:function(t){if(!i||!a)throw new Error("Can not load sessions until you have selected a key system");var n=a.createSession();n.load(t).then(function(e){e?(e=p(n),c("DRM: Session created.  SessionID = "+e.getSessionID()),l.trigger(_.default.KEY_SESSION_CREATED,{data:e})):l.trigger(_.default.KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+t+")"})}).catch(function(e){l.trigger(_.default.KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+t+")! "+e.name})})},removeKeySession:function(t){t.session.remove().then(function(){c("DRM: Session removed.  SessionID = "+t.getSessionID()),l.trigger(_.default.KEY_SESSION_REMOVED,{data:t.getSessionID()})},function(e){l.trigger(_.default.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+t.getSessionID()+"). "+e.name})})},closeKeySession:function(t){f(t).catch(function(e){d(t),l.trigger(_.default.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+t.getSessionID()+") "+e.name})})},reset:function(){var t,e=s.length;if(0!==e)for(var n=function(e){d(e),0===s.length&&(o?(o.removeEventListener("encrypted",u),o.setMediaKeys(null).then(function(){l.trigger(_.default.TEARDOWN_COMPLETE)})):l.trigger(_.default.TEARDOWN_COMPLETE))},r=0;r<e;r++)!function(e){t.session.closed.then(function(){n(e)}),f(t).catch(function(){n(e)})}(t=s[r]);else l.trigger(_.default.TEARDOWN_COMPLETE)}},s=[],r=(a=o=i=null,h.default)(t).getInstance(),u={handleEvent:function(e){var t;"encrypted"===e.type&&e.initData&&(t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData,l.trigger(_.default.NEED_KEY,{key:new g.default(t,e.initDataType)}))}},e}i.__dashjs_factory_name="ProtectionModel_21Jan2015",n.default=e.default.getClassFactory(i),t.exports=n.default},{204:204,207:207,303:303,315:315,316:316,318:318,321:321}],309:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var f=r(e(303)),d=r(e(321)),p=r(e(315)),y=r(e(316)),v=r(e(319)),_=r(e(318)),b=r(e(207)),e=r(e(204));function i(e){var t=this.context,h=e.eventBus,n=e.log,g=e.api,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,m=void 0;function l(e){var t=e.session;t.removeEventListener(g.error,e),t.removeEventListener(g.message,e),t.removeEventListener(g.ready,e),t.removeEventListener(g.close,e);for(var n=0;n<s.length;n++)if(s[n]===e){s.splice(n,1);break}t[g.release]()}function c(){function e(){r.removeEventListener("loadedmetadata",t),r[g.setMediaKeys](o),h.trigger(b.default.VIDEO_ELEMENT_SELECTED)}var t=null;1<=r.readyState?e():(t=e.bind(this),r.addEventListener("loadedmetadata",t))}return e={getAllInitData:function(){for(var e=[],t=0;t<s.length;t++)e.push(s[t].initData);return e},requestKeySystemAccess:function(e){for(var t=!1,n=0;n<e.length;n++)for(var r=e[n].ks.systemString,i=e[n].configs,o=null,a=null,s=0;s<i.length;s++){var u=i[s].audioCapabilities,l=i[s].videoCapabilities;if(u&&0!==u.length)for(var o=[],c=0;c<u.length;c++)window[g.MediaKeys].isTypeSupported(r,u[c].contentType)&&o.push(u[c]);if(l&&0!==l.length)for(var a=[],f=0;f<l.length;f++)window[g.MediaKeys].isTypeSupported(r,l[f].contentType)&&a.push(l[f]);if(!(!o&&!a||o&&0===o.length||a&&0===a.length)){var t=!0,d=new v.default(o,a),p=m.getKeySystemBySystemString(r);h.trigger(b.default.KEY_SYSTEM_ACCESS_COMPLETE,{data:new _.default(p,d)});break}}t||h.trigger(b.default.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return i},selectKeySystem:function(e){try{o=e.mediaKeys=new window[g.MediaKeys](e.keySystem.systemString),i=e.keySystem,a=e,r&&c(),h.trigger(b.default.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){h.trigger(b.default.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+i.systemString+")! Could not create MediaKeys -- TODO"})}},setMediaElement:function(e){r!==e&&(r&&r.removeEventListener(g.needkey,u),r=e)&&(r.addEventListener(g.needkey,u),o)&&c()},createKeySession:function(e){if(!i||!o||!a)throw new Error("Can not create sessions until you have selected a key system");var t=null;if(null===(t=null===(t=null!==a.ksConfiguration.videoCapabilities&&0<a.ksConfiguration.videoCapabilities.length?a.ksConfiguration.videoCapabilities[0]:t)&&null!==a.ksConfiguration.audioCapabilities&&0<a.ksConfiguration.audioCapabilities.length?a.ksConfiguration.audioCapabilities[0]:t))throw new Error("Can not create sessions for unknown content types.");t=t.contentType,t=o.createSession(t,new Uint8Array(e)),e={session:t,initData:e,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case g.error:h.trigger(b.default.KEY_ERROR,{data:new p.default(this,"KeyError")});break;case g.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;h.trigger(b.default.INTERNAL_KEY_MESSAGE,{data:new y.default(this,t,e.destinationURL)});break;case g.ready:n("DRM: Key added."),h.trigger(b.default.KEY_ADDED);break;case g.close:n("DRM: Session closed.  SessionID = "+this.getSessionID()),h.trigger(b.default.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}},t.addEventListener(g.error,e),t.addEventListener(g.message,e),t.addEventListener(g.ready,e),t.addEventListener(g.close,e),s.push(e),n("DRM: Session created.  SessionID = "+e.getSessionID()),h.trigger(b.default.KEY_SESSION_CREATED,{data:e})},updateKeySession:function(e,t){e=e.session,m.isClearKey(i)?e.update(new Uint8Array(t.toJWK())):e.update(new Uint8Array(t))},closeKeySession:l,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},reset:function(){try{for(var e=0;e<s.length;e++)l(s[e]);r&&r.removeEventListener(g.needkey,u),h.trigger(b.default.TEARDOWN_COMPLETE)}catch(e){h.trigger(b.default.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}},s=[],m=(a=o=i=r=null,f.default)(t).getInstance(),u={handleEvent:function(e){e.type===g.needkey&&e.initData&&(e=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData,h.trigger(b.default.NEED_KEY,{key:new d.default(e,"cenc")}))}},e}i.__dashjs_factory_name="ProtectionModel_3Feb2014",n.default=e.default.getClassFactory(i),t.exports=n.default},{204:204,207:207,303:303,315:315,316:316,318:318,319:319,321:321}],310:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(317)),a=r(e(314)),e=r(e(204));function i(){return{getServerURLFromMessage:function(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e=e.substring(0,e.length-1)},getHTTPMethod:function(){return"GET"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var r=e.keys[n],i=r.kid.replace(/=/g,""),r=r.k.replace(/=/g,"");t.push(new o.default(i,r))}return new a.default(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}i.__dashjs_factory_name="ClearKey",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{204:204,314:314,317:317}],311:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),o=r(e(1));function a(){var n={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function(e){return o.default.decodeArray(e.license)},getErrorResponse:function(e){return e}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}};return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return n[e].responseType},getLicenseMessage:function(e,t){return n[t].getLicenseMessage(e)},getErrorResponse:function(e,t){return n[t].getErrorResponse(e)}}}a.__dashjs_factory_name="DRMToday",n.default=i.default.getSingletonFactory(a),t.exports=n.default},{1:1,204:204}],312:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}r.__dashjs_factory_name="PlayReady",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],313:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}r.__dashjs_factory_name="Widevine",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],314:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0});(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)})(o,[{key:"toJWK",value:function(){for(var e=this.keyPairs.length,t={keys:[]},n=0;n<e;n++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[n].keyID,k:this.keyPairs[n].key};t.keys.push(r)}this.type&&(t.type=this.type);var i=JSON.stringify(t),o=i.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(n=0;n<o;n++)s[n]=i.charCodeAt(n);return a}}]);var i=o;function o(e,t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");if(t&&"persistent"!==t&&"temporary"!==t)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=e,this.type=t}n.default=i,t.exports=n.default},{}],315:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.sessionToken=t,this.error=n},t.exports=n.default},{}],316:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n,r,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.sessionToken=t,this.message=n,this.defaultURL=r,this.messageType=i||"license-request"},t.exports=n.default},{}],317:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.keyID=t,this.key=n},t.exports=n.default},{}],318:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.keySystem=t,this.ksConfiguration=n},t.exports=n.default},{}],319:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n,r,i,o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.initDataTypes=["cenc"],this.audioCapabilities=t,this.videoCapabilities=n,this.distinctiveIdentifier=r,this.persistentState=i,this.sessionTypes=o},t.exports=n.default},{}],320:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.contentType=t,this.robustness=n},t.exports=n.default},{}],321:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.initData=t,this.initDataType=n},t.exports=n.default},{}],322:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(e){var t=e.streamProcessor.getCurrentRepresentationInfo(),n=e.streamProcessor,r=e.currentValue;return{getStreamInfo:function(){return t.mediaInfo.streamInfo},getMediaInfo:function(){return t.mediaInfo},getTrackInfo:function(){return t},getCurrentValue:function(){return r},getManifestInfo:function(){return t.mediaInfo.streamInfo.manifestInfo},getStreamProcessor:function(){return n}}}r.__dashjs_factory_name="RulesContext",n.default=e.default.getClassFactory(r),t.exports=n.default},{204:204}],323:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var h=r(e(322)),g=r(e(324)),s=r(e(325)),u=r(e(339)),e=r(e(204));function i(){var p=this.context,a=void 0;return{initialize:function(){a={}},setConfig:function(e){e&&(e.abrRulesCollection&&(a[0]=e.abrRulesCollection),e.synchronizationRulesCollection)&&(a[1]=e.synchronizationRulesCollection)},applyRules:function(e,t,a,s,u){function n(t){var n,r,i,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.value!==g.default.NO_CHANGE)return e.next=3,regeneratorRuntime.awrap(u(l[t.priority],t.value));e.next=5;break;case 3:(o=e.sent)!==l[t.priority]&&(l[t.priority]=o,c[t.priority]=t.reason);case 5:if(--f)return e.abrupt("return");e.next=7;break;case 7:l[g.default.WEAK]!==g.default.NO_CHANGE&&(i=g.default.WEAK,n=l[g.default.WEAK],r=c[g.default.WEAK]),l[g.default.DEFAULT]!==g.default.NO_CHANGE&&(i=g.default.DEFAULT,n=l[g.default.DEFAULT],r=c[g.default.DEFAULT]),l[g.default.STRONG]!==g.default.NO_CHANGE&&(i=g.default.STRONG,n=l[g.default.STRONG],r=c[g.default.STRONG]),i!=g.default.STRONG&&i!=g.default.WEAK&&(i=g.default.DEFAULT),a(void 0!==n?{value:n,confidence:i,reason:r}:{value:s,confidence:i,reason:{name:"NO_CHANGE"}});case 12:case"end":return e.stop()}},null,this)}var r,i,l={},c={},f=e.length,o=f,d=(t=t,i=s,(0,h.default)(p).create({streamProcessor:t,currentValue:i}));for(l[g.default.STRONG]=g.default.NO_CHANGE,l[g.default.WEAK]=g.default.NO_CHANGE,l[g.default.DEFAULT]=g.default.NO_CHANGE,r=0;r<o;r++)e[r].execute(d,n)},reset:function(){for(var e,t=a[0],n=a[1],r=(t.getRules(s.default.QUALITY_SWITCH_RULES)||[]).concat(t.getRules(s.default.ABANDON_FRAGMENT_RULES)||[]).concat(n.getRules(u.default.TIME_SYNCHRONIZED_RULES)||[]).concat(n.getRules(u.default.BEST_GUESS_RULES)||[]),i=r.length,o=0;o<i;o++)"function"==typeof(e=r[o]).reset&&e.reset();a={}}}}i.__dashjs_factory_name="RulesController";e=e.default.getSingletonFactory(i);e.ABR_RULE=0,e.SYNC_RULE=1,n.default=e,t.exports=n.default},{204:204,322:322,324:324,325:325,339:339}],324:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(e,t,n){return{value:void 0===e?999:e,priority:void 0===t?.5:t,reason:void 0===n?null:n}}r.__dashjs_factory_name="SwitchRequest";e=e.default.getClassFactory(r);e.NO_CHANGE=999,e.DEFAULT=.5,e.STRONG=1,e.WEAK=0,n.default=e,t.exports=n.default},{204:204}],325:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(332)),s=r(e(329)),u=r(e(331)),l=r(e(330)),c=r(e(326)),f=r(e(328)),d=r(e(327)),p=r(e(295)),h=r(e(296)),g=r(e(211)),e=r(e(204)),m="qualitySwitchRules",y="abandonFragmentRules";function i(){var r=this.context,i=void 0,o=void 0;return{initialize:function(){i=[],o=[];var e=(0,h.default)(r).getInstance(),t=(0,g.default)(r).getInstance(),n=(0,p.default)(r).getInstance();n.getBufferOccupancyABREnabled()?(i.push((0,f.default)(r).create({metricsModel:e,dashMetrics:(0,g.default)(r).getInstance()})),o.push((0,d.default)(r).create({metricsModel:e,dashMetrics:(0,g.default)(r).getInstance()}))):n.getrlABREnabled()?i.push((0,u.default)(r).create({metricsModel:e,dashMetrics:t})):(i.push((0,a.default)(r).create({metricsModel:e,dashMetrics:t})),i.push((0,s.default)(r).create({metricsModel:e,dashMetrics:t})),i.push((0,l.default)(r).create({metricsModel:e})),o.push((0,c.default)(r).create()))},getRules:function(e){switch(e){case m:return i;case y:return o;default:return null}}}}i.__dashjs_factory_name="ABRRulesCollection";e=e.default.getSingletonFactory(i);e.QUALITY_SWITCH_RULES=m,e.ABANDON_FRAGMENT_RULES=y,n.default=e,t.exports=n.default},{204:204,211:211,295:295,296:296,326:326,327:327,328:328,329:329,330:330,331:331,332:332}],326:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var v=r(e(324)),i=r(e(295)),o=r(e(204)),a=r(e(202));function _(){var l=1.8,c=500,f=5,d=this.context,p=(0,a.default)(d).getInstance().log,h=void 0,g=void 0,m=void 0,y=void 0;function e(){h={},g={},m=[],y=(0,i.default)(d).getInstance()}var t={execute:function(e,t){var n=e.getMediaInfo(),r=n.type,i=e.getCurrentValue().request,o=(0,v.default)(d).create(v.default.NO_CHANGE,v.default.WEAK,{name:_.__dashjs_factory_name});if(!isNaN(i.index)){a=r,u=i.index,h[a]=h[a]||{},h[a][u]=h[a][u]||{};var a=h[r][i.index];if(null===a||null===i.firstByteDate||g.hasOwnProperty(a.id))return void t(o);if(void 0===a.firstByteTime&&(m[r]=[],a.firstByteTime=i.firstByteDate.getTime(),a.segmentDuration=i.duration,a.bytesTotal=i.bytesTotal,a.id=i.index),a.bytesLoaded=i.bytesLoaded,a.elapsedTime=(new Date).getTime()-a.firstByteTime,0<a.bytesLoaded&&0<a.elapsedTime&&(u=r,i=Math.round(8*a.bytesLoaded/a.elapsedTime),m[u]=m[u]||[],m[u].push(i)),m[r].length>=f&&a.elapsedTime>c&&a.bytesLoaded<a.bytesTotal){var s,u=m[r].reduce(function(e,t){return e+t},0);if(a.measuredBandwidthInKbps=Math.round(u/m[r].length),a.estimatedTimeOfDownload=(8*a.bytesTotal/a.measuredBandwidthInKbps/1e3).toFixed(2),a.estimatedTimeOfDownload<a.segmentDuration*l||0===e.getTrackInfo().quality)return void t(o);g.hasOwnProperty(a.id)||(i=e.getStreamProcessor().getABRController(),u=a.bytesTotal-a.bytesLoaded,e=i.getBitrateList(n),s=i.getQualityForBitrate(n,a.measuredBandwidthInKbps*y.getBandwidthSafetyFactor()),a.bytesTotal*e[s].bitrate/e[i.getQualityFor(r,n.streamInfo)].bitrate<u&&(o.value=s,o.priority=v.default.STRONG,o.reason.throughput=a.measuredBandwidthInKbps,g[a.id]=a,p("AbandonRequestsRule ( ",r,"frag id",a.id,") is asking to abandon and switch to quality to ",s," measured bandwidth was",a.measuredBandwidthInKbps),delete h[r][a.id]))}else a.bytesLoaded===a.bytesTotal&&delete h[r][a.id]}t(o)},reset:function(){e()}};return e(),t}_.__dashjs_factory_name="AbandonRequestsRule",n.default=o.default.getClassFactory(_),t.exports=n.default},{202:202,204:204,295:295,324:324}],327:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var L=r(e(324)),i=r(e(295)),o=r(e(204)),a=r(e(202)),F=r(e(328));function k(e){var I=500,P=200,D=this.context,R=(0,a.default)(D).getInstance().log,C=e.dashMetrics,M=e.metricsModel,N=void 0;return e={execute:function(e,t){var n=e.getMediaInfo().type,r=M.getReadOnlyMetricsFor(n),e=e.getCurrentValue().request,i=(0,L.default)(D).create(L.default.NO_CHANGE,L.default.WEAK,{name:k.__dashjs_factory_name});if(0===r.BolaState.length)R("WARNING: executing BolaAbandonRule before initializing BolaRule"),N[n]=null;else{var o=r.BolaState[0]._s,a=e.index,s=e.quality;if(!isNaN(a)&&0!==s&&(u=a,l=s,!(f=N[f=n])||u!==f.index||l<f.quality)&&e.firstByteDate){var u=Date.now()-e.firstByteDate.getTime(),l=e.bytesLoaded,c=e.bytesTotal,f=c-l,d=e.duration,r=C.getCurrentBufferLevel(r)?C.getCurrentBufferLevel(r):0,p=r+o.virtualBuffer,h=8*l/(.001*u),g=o.bandwidthSafetyFactor*h,m=.001*(e.firstByteDate.getTime()-e.requestStartDate.getTime()),y=(m=m<.001*P?.001*P:m)+8*c/g,v="",_=(F.default.BOLA_DEBUG&&(v="index="+a+" quality="+s+" bytesLoaded/bytesTotal="+l+"/"+c+" bufferLevel="+r+" timeSince1stByte="+(u/1e3).toFixed(3)+" estThroughput="+(g/1e6).toFixed(3)+" latency="+m.toFixed(3)),c*o.bitrates[0]/o.bitrates[s]),b=f-m*g/8;if(b<1&&(b=1),!(u<I||f<=_||r>o.bufferTarget||b<=_||y<=d)){for(var T=p-m,w=(T<0&&(T=0),0);w+1<s&&c*o.bitrates[w+1]/o.bitrates[s]<b;)++w;var E=s;if(o.state===F.default.BOLA_STATE_STARTUP)for(var E=0,x=0;x<=w&&!(g<8*(_=c*o.bitrates[x]/o.bitrates[s])/d);++x)E=x;else for(var S=(o.Vp*(o.utilities[s]+o.gp)-T)/b,x=0;x<=w;++x){var _=c*o.bitrates[x]/o.bitrates[s],O=(o.Vp*(o.utilities[x]+o.gp)-T)/_;S<O&&(E=x,S=O)}var A=o.rebufferSafetyFactor*h*(r-m)/8;if((E=E===s&&A<b?w:E)!==s){for(;0<E&&!((_=c*o.bitrates[E]/o.bitrates[s])<=A);)--E;o.lastQuality=E,M.updateBolaState(n,o),F.default.BOLA_DEBUG&&R("BolaDebug "+n+" BolaAbandonRule abandon to "+E+" - "+v),N[n]={index:a,quality:s},i.value=E,i.priority=L.default.STRONG,i.reason.state=o.state,i.reason.throughput=h,i.reason.bufferLevel=r,i.reason.bytesLoaded=e.bytesLoaded,i.reason.bytesTotal=e.bytesTotal,i.reason.elapsedTimeMs=u}}}}t(i)},reset:function(){N={}}},N={},(0,i.default)(D).getInstance(),e}k.__dashjs_factory_name="BolaAbandonRule",n.default=o.default.getClassFactory(k),t.exports=n.default},{202:202,204:204,295:295,324:324,328:328}],328:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var M=r(e(324)),i=r(e(204)),s=r(e(295)),u=r(e(262)),l=e(374),c=r(e(209)),f=r(e(203)),d=r(e(207)),p=r(e(202));function N(e){var T=2,w=3,E=this.context,x=((0,p.default)(E).getInstance().log,e.dashMetrics),S=e.metricsModel,t=(0,f.default)(E).getInstance(),n=void 0,O=void 0,A=void 0,I=void 0;function r(){O={},A=[],I=(0,s.default)(E).getInstance(),(0,u.default)(E).getInstance(),(0,c.default)(E).getInstance(),t.on(d.default.BUFFER_EMPTY,i,n),t.on(d.default.PLAYBACK_SEEKING,o,n),t.on(d.default.PERIOD_SWITCH_STARTED,a,n)}function P(e,t,n,r){var i=NaN;return r?(i=0,r.forEach(function(e,t){e>r[i]&&(i=t)})):(r=n.map(function(e){return Math.log(e)}),i=r.length-1),0===i?null:(n=1-r[0]+(r[i]-r[0])/(t/e-1),t=e/(r[0]+n-1),{utilities:r,gp:n,Vp:t})}function D(e,t){for(var n=x.getHttpRequests(e),r=[],i=n.length-1;0<=i&&r.length<t;--i){var o=n[i];o.type===l.HTTPRequest.MEDIA_SEGMENT_TYPE&&o._tfinish&&o.tresponse&&o.trace&&r.push(o)}return r}function R(e,t){var n=D(e,t);if(0===n.length)return 0;for(var r=0,i=0;i<n.length;++i){var o=.001*(n[i]._tfinish.getTime()-n[i].trequest.getTime()),a=8*n[i].trace.reduce(function(e,t){return e+t.b[0]},0);r+=o/a}return n.length/r}function C(e,n){var r=0;return e.bitrates.some(function(e,t){return n<e||(r=t,!1)}),r}function i(){A.forEach(function(e){var t=S.getReadOnlyMetricsFor(e);0!==t.BolaState.length&&2===(t=t.BolaState[0]._s).state&&(t.virtualBuffer=0,S.updateBolaState(e,t))})}function o(e){A.forEach(function(e){var t=S.getReadOnlyMetricsFor(e);0!==t.BolaState.length&&(0!==(t=t.BolaState[0]._s).state&&(t.state=1),S.updateBolaState(e,t))})}function a(){}return n={execute:function(e,t){var n=e.getStreamProcessor(),r=(n.getScheduleController().setTimeToLoadDelay(0),(0,M.default)(E).create(M.default.NO_CHANGE,M.default.WEAK,{name:N.__dashjs_factory_name})),i=e.getMediaInfo().type;if(0===(h=S.getReadOnlyMetricsFor(i)).BolaState.length){u={},o=(e=e).getMediaInfo(),l=e.getStreamProcessor(),p=e.getStreamInfo(),e=e.getTrackInfo(),l=l.isDynamic(),p=p.manifestInfo.duration,e=e.fragmentDuration,null===(c=P(10,30,o=o.bitrateList.map(function(e){return e.bandwidth}),null))?u.state=0:(u.state=1,u.bitrates=o,u.utilities=c.utilities,u.Vp=c.Vp,u.gp=c.gp,u.isDynamic=l,u.movieDuration=p,u.fragmentDuration=e,u.bandwidthSafetyFactor=I.getBandwidthSafetyFactor(),u.rebufferSafetyFactor=.5,u.bufferTarget=I.getStableBufferTime(),u.lastQuality=0,u.virtualBuffer=0,u.throughputCount=l?T:w);var o=u,a=(S.updateBolaState(i,o),0);if(0!==o.state){A.push(i);c=R(h,o.throughputCount);if(0===c)return void t(r);a=C(o,c*o.bandwidthSafetyFactor),o.lastQuality=a,r.value=a,r.priority=M.default.DEFAULT,r.reason.state=o.state,r.reason.throughput=c}}else{var s=h.BolaState[0]._s;if(0!==s.state){var u,l,c,f=s.bitrates,d=s.utilities,p=x.getCurrentBufferLevel(h)?x.getCurrentBufferLevel(h):0,e=R(h,s.throughputCount),h=(p<=.1&&(s.virtualBuffer=0),l=i,0===(u=D(u=h,1)).length||(u=u[0],(o=Date.now())<(u=u._tfinish.getTime())&&(u=o),c=O[l],O[l]=o,l=0,(l=c&&u<c?o-c:o-u)<=0)?0:.001*l),h=(0<h&&(s.virtualBuffer+=h),s.virtualBuffer<0&&(s.virtualBuffer=0),p+s.virtualBuffer),g=function(e,t){for(var n=e.bitrates.length,r=NaN,i=NaN,o=0;o<n;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(i)||i<=a)&&(i=a,r=o)}return r}(s,h);if(1===s.state){var a=C(s,e*s.bandwidthSafetyFactor);if(p>s.fragmentDuration/.5){s.state=2;for(var m=0,y=0;y<a;++y){var v=s.Vp*(s.gp+(f[a]*d[y]-f[y]*d[a])/(f[a]-f[y]));m<v&&(m=v)}p<m&&(s.virtualBuffer=m-p)}s.lastQuality=a,S.updateBolaState(i,s),r.value=a,r.priority=M.default.DEFAULT,r.reason.state=1,r.reason.throughput=e}else{if(g>s.lastQuality&&(a=C(s,e))<g&&(g=a=a<s.lastQuality?s.lastQuality:a),0<e)for(var _=.5*e*p/s.fragmentDuration;0<g&&f[g]>_;)--g;var b=0;0<(b=h-s.Vp*(d[g]+s.gp))&&(b>s.virtualBuffer?(b-=s.virtualBuffer,s.virtualBuffer=0):(s.virtualBuffer-=b,b=0)),!(0<b)||g===f.length-1?b=0:n.getScheduleController().setTimeToLoadDelay(1e3*b),s.lastQuality=g,S.updateBolaState(i,s),r.value=g,r.priority=M.default.DEFAULT,r.reason.state=s.state,r.reason.throughput=e,r.reason.bufferLevel=p}}}t(r)},reset:function(){t.off(d.default.BUFFER_EMPTY,i,n),t.off(d.default.PLAYBACK_SEEKING,o,n),t.off(d.default.PERIOD_SWITCH_STARTED,a,n),r()}},r(),n}N.__dashjs_factory_name="BolaRule";e=i.default.getClassFactory(N);e.BOLA_STATE_ONE_BITRATE=0,e.BOLA_STATE_STARTUP=1,e.BOLA_STATE_STEADY=2,e.BOLA_DEBUG=!1,n.default=e,t.exports=n.default},{202:202,203:203,204:204,207:207,209:209,262:262,295:295,324:324,374:374}],329:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var y=r(e(324)),i=r(e(295)),v=r(e(254)),o=r(e(204)),a=r(e(202));function _(e){var f=this.context,d=(0,a.default)(f).getInstance().log,p=e.metricsModel,h=e.dashMetrics,g=void 0,m=void 0;return e={execute:function(e,t){var n=(new Date).getTime()/1e3,r=e.getMediaInfo(),i=e.getTrackInfo(),o=r.type,i=isNaN(i.fragmentDuration)?2:i.fragmentDuration/2,a=e.getCurrentValue(),e=e.getStreamProcessor().getABRController(),s=p.getReadOnlyMetricsFor(o),u=h.getCurrentBufferLevel(s),s=0<s.BufferState.length?s.BufferState[s.BufferState.length-1]:null,l=r.representationCount-1,c=(0,y.default)(f).create(y.default.NO_CHANGE,y.default.WEAK,{name:_.__dashjs_factory_name});n-g<i||e.getAbandonmentStateFor(o)===v.default.ABANDON_LOAD||(null!==s&&u>s.target&&u-s.target>m.getRichBufferThreshold()&&1<r.representationCount&&(c.value=l,c.priority=y.default.STRONG,c.reason.bufferLevel=u,c.reason.bufferTarget=s.target),c.value!==y.default.NO_CHANGE&&c.value!==a&&d("BufferOccupancyRule requesting switch to index: ",c.value,"type: ",o," Priority: ",c.priority===y.default.DEFAULT?"Default":c.priority===y.default.STRONG?"Strong":"Weak")),t(c)},reset:function(){g=0}},m=(g=0,i.default)(f).getInstance(),e}_.__dashjs_factory_name="BufferOccupancyRule",n.default=o.default.getClassFactory(_),t.exports=n.default},{202:202,204:204,254:254,295:295,324:324}],330:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var h=r(e(324)),g=r(e(257)),i=r(e(203)),o=r(e(207)),a=r(e(204)),s=r(e(202));function m(e){var u=this.context,l=(0,s.default)(u).getInstance().log,t=(0,i.default)(u).getInstance(),c=e.metricsModel,n=void 0,f=void 0,d=void 0,p=void 0;function r(){f={}}return n={execute:function(e,t){var n,r,i=(new Date).getTime(),o=e.getMediaInfo().type,e=e.getCurrentValue(),a=0<(a=c.getReadOnlyMetricsFor(o)).BufferState.length?a.BufferState[a.BufferState.length-1]:null,s=(0,h.default)(u).create(h.default.NO_CHANGE,h.default.WEAK,{name:m.__dashjs_factory_name});i-d<p||null===a||(n=o,r=a.state,f[n]=f[n]||{},(f[n].state=r)!==g.default.BUFFER_LOADED||f[n].firstBufferLoadedEvent||(f[n].firstBufferLoadedEvent=!0),a.state===g.default.BUFFER_EMPTY&&void 0!==f[o].firstBufferLoadedEvent&&(s.value=0,s.priority=h.default.STRONG,s.reason.bufferState=a.state,s=(0,h.default)(u).create(0,h.default.STRONG)),s.value!==h.default.NO_CHANGE&&s.value!==e&&l("InsufficientBufferRule requesting switch to index: ",s.value,"type: ",o," Priority: ",s.priority===h.default.DEFAULT?"Default":s.priority===h.default.STRONG?"Strong":"Weak"),d=i),t(s)},reset:function(){t.off(o.default.PLAYBACK_SEEKING,r,n),f={},d=0}},f={},d=0,p=1e3,t.on(o.default.PLAYBACK_SEEKING,r,n),n}m.__dashjs_factory_name="InsufficientBufferRule",n.default=a.default.getClassFactory(m),t.exports=n.default},{202:202,203:203,204:204,207:207,257:257,324:324}],331:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var d=r(e(324)),i=r(e(295)),o=(r(e(254)),r(e(204))),a=r(e(202)),p=e(374);function h(e){var u=this.context,l=((0,a.default)(u).getInstance().log,e.metricsModel),c=e.dashMetrics,f=0;return e={execute:function(e,t){for(var n=(0,d.default)(u).create(1e6,d.default.WEAK,{name:h.__dashjs_factory_name}),r=c.getHttpRequests(l.getReadOnlyMetricsFor("video")),i=[],o=[],a=0;a<r.length;a++){var s=r[a];s.type===p.HTTPRequest.MEDIA_SEGMENT_TYPE&&s._tfinish&&s.tresponse&&s.trace&&i.push(s),s.type===p.HTTPRequest.MEDIA_SEGMENT_TYPE&&!s._tfinish&&s.tresponse&&s.trace&&o.push(s)}console.log("NUMBER OF COMPLETE: "+i.length+" AT "+Date.now()),i.length<=f?n=(0,d.default)(u).create(d.default.NO_CHANGE,d.default.WEAK,{name:h.__dashjs_factory_name}):f=i.length,t(n)},reset:function(){0}},(0,i.default)(u).getInstance(),e}h.__dashjs_factory_name="RLRule",n.default=o.default.getClassFactory(h),t.exports=n.default},{202:202,204:204,254:254,295:295,324:324,374:374}],332:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var v=r(e(324)),_=r(e(257)),b=r(e(254)),c=r(e(295)),T=e(374),i=r(e(204)),w=r(e(202));function E(e){var i=20,o=3,a=4,t=50,n=5,s=1.3,u=1.3,f=this.context,d=(0,w.default)(f).getInstance().log,p=e.dashMetrics,h=e.metricsModel,g=void 0,m=void 0,l=void 0;function r(){g=[],m={audio:{threshold:n,value:NaN},video:{threshold:t,value:NaN}},l=(0,c.default)(f).getInstance()}function y(e,t){r=e,t=t,n=Math.min(g[r].length,t?o:a),1<(t=g[r].slice(-1*n,g[r].length)).length&&t.reduce(function(e,t){return(e*u<=t||t*s<=e)&&n++,t}),n=Math.min(g[r].length,n);var n,t=g[r].slice(-1*n,g[r].length),r=0;return 0<t.length&&(r=t.reduce(function(e,t){return e+t},0)/t.length),g[e].length>=i&&g[e].shift(),r/1e3*l.getBandwidthSafetyFactor()}e={execute:function(e,t){var n=e.getMediaInfo(),r=n.type,i=e.getCurrentValue(),o=h.getReadOnlyMetricsFor(r),a=(e=e.getStreamProcessor()).getABRController(),s=e.isDynamic(),u=p.getCurrentHttpRequest(o),l=0<o.BufferState.length?o.BufferState[o.BufferState.length-1]:null,c=(0,v.default)(f).create(v.default.NO_CHANGE,v.default.WEAK,{name:E.__dashjs_factory_name});o&&u&&u.type===T.HTTPRequest.MEDIA_SEGMENT_TYPE&&l&&(o=void 0,u.trace&&u.trace.length&&(o=u._tfinish.getTime()-u.tresponse.getTime()+1,u=u.trace.reduce(function(e,t){return e+t.b[0]},0),u=Math.round(8*u/(o/1e3)),o<=m[r].threshold?m[r].value=u/1e3:(m[r].value=NaN,o=u,g[u=r]=g[u]||[],g[u].push(o))),u=Math.round(isNaN(m[r].value)?y(r,s):m[r].value),a.setAverageThroughput(r,u),a.getAbandonmentStateFor(r)!==b.default.ABANDON_LOAD)&&(l.state!==_.default.BUFFER_LOADED&&!s||(o=a.getQualityForBitrate(n,u),e.getScheduleController().setTimeToLoadDelay(0),c.value=o,c.priority=v.default.DEFAULT,c.reason.throughput=u),c.value!==v.default.NO_CHANGE)&&c.value!==i&&d("ThroughputRule requesting switch to index: ",c.value,"type: ",r," Priority: ",c.priority===v.default.DEFAULT?"Default":c.priority===v.default.STRONG?"Strong":"Weak","Average throughput",Math.round(u),"kbps"),t(c)},reset:function(){r()}};return r(),e}E.__dashjs_factory_name="ThroughputRule",n.default=i.default.getClassFactory(E),t.exports=n.default},{202:202,204:204,254:254,257:257,295:295,324:324,374:374}],333:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(e){var r=e.blacklistController;return{select:function(e){var t,n=0;return t=e&&e.some(function(e,t){return n=t,!r.contains(e.serviceLocation)})?e[n]:t}}}r.__dashjs_factory_name="BasicSelector",n.default=e.default.getClassFactory(r),t.exports=n.default},{204:204}],334:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(e){var n=e.blacklistController;return{select:function(e){return e&&function(e){var n,t=0,r=[],i=0;if((e=e.sort(function(e,t){e=e.dvb_priority-t.dvb_priority;return isNaN(e)?0:e}).filter(function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority})).length)return 1<e.length&&(e.forEach(function(e){t+=e.dvb_weight,r.push(t)}),n=Math.floor(Math.random()*(t-1)),r.every(function(e,t){return i=t,!(n<e)})),e[i]}((t=[],e.filter(function(e){return!n.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)}).filter(function(e){return!t.length||!e.dvb_priority||-1===t.indexOf(e.dvb_priority)})));var t}}}r.__dashjs_factory_name="DVBSelector",n.default=e.default.getClassFactory(r),t.exports=n.default},{204:204}],335:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(295)),l=r(e(262)),e=r(e(204));function i(e){var t=this.context,i=e.dashMetrics,o=e.metricsModel,a=e.textSourceBuffer,s=void 0;function r(e,t,n){var r=e.getCurrentRepresentationInfo();return"fragmentedText"===t?a.getAllTracksAreDisabled()?0:r.fragmentDuration:"audio"===t&&n?(t=i.getCurrentBufferLevel(o.getReadOnlyMetricsFor("video")),Math.floor(Math.max(t,r.fragmentDuration))):(n=r.mediaInfo.streamInfo,e.getABRController().isPlayingAtTopQuality(n)?n.manifestInfo.duration>=s.getLongFormContentDurationThreshold()?s.getBufferTimeAtTopQualityLongForm():s.getBufferTimeAtTopQuality():s.getStableBufferTime())}e={execute:function(e,t,n){return i.getCurrentBufferLevel(o.getReadOnlyMetricsFor(t))<r(e,t,n)},getBufferTarget:r},s=(0,u.default)(t).getInstance();(0,l.default)(t).getInstance();return e}i.__dashjs_factory_name="BufferLevelRule",n.default=e.default.getClassFactory(i),t.exports=n.default},{204:204,262:262,295:295}],336:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(202)),e=r(e(204));function o(e){var t=this.context,u=(0,i.default)(t).getInstance().log,l=e.adapter,c=e.sourceBufferController,f=e.textSourceBuffer;return{execute:function(e,t){var n=e.getCurrentRepresentationInfo(),r=n.mediaInfo.type,i=e.getScheduleController(),o=i.getSeekTarget(),a=!isNaN(o),s=e.getBuffer(),o=a?o:l.getIndexHandlerTime(e);return isNaN(o)||"fragmentedText"===r&&f.getAllTracksAreDisabled()?null:(a&&i.setSeekTarget(NaN),s&&null!==(r=c.getBufferRange(e.getBuffer(),o))&&(u("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.",o," was changed to ",r.end),o=r.end),s=void 0,t?(o=t.startTime+t.duration/2,s=l.getFragmentRequestForTime(e,n,o,{timeThreshold:0,ignoreIsFinished:!0})):(s=(s=l.getFragmentRequestForTime(e,n,o,{keepIdx:!a}))&&e.getFragmentModel().isFragmentLoaded(s)?l.getNextFragmentRequest(e,n):s)&&(l.setIndexHandlerTime(e,s.startTime+s.duration),s.delayLoadingTime=(new Date).getTime()+i.getTimeToLoadDelay(),i.setTimeToLoadDelay(0)),s)}}}o.__dashjs_factory_name="NextFragmentRequestRule",n.default=e.default.getClassFactory(o),t.exports=n.default},{202:202,204:204}],337:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var b=r(e(324)),T=r(e(203)),w=r(e(207)),e=r(e(204));function i(e){var r=this.context,o=(0,T.default)(r).getInstance(),a=e.adapter,n=e.timelineConverter,i=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0;function m(n,r,i,e){var t;null===e?(t=a.generateFragmentRequestForTime(g,l,n),m(n,r,i,t)):(o.on(w.default.CHECK_FOR_EXISTENCE_COMPLETED,function e(t){o.off(w.default.CHECK_FOR_EXISTENCE_COMPLETED,e,this),(t.exists?r:i)(t.request,n)},this),h.checkForExistence(e))}function y(e,t){c?_(!1,t):(t=0<(t=t-i)?i-t:i+Math.abs(t)+u)<s.start&&t>s.end?p((0,b.default)(r).create(null,d)):m(t,v,y,a.getFragmentRequestForTime(g,l,t,{ignoreIsFinished:!0}))}function v(e,t){var n,e=e.startTime;if(!c){if(!l.fragmentDuration)return void p((0,b.default)(r).create(e,d));if(c=!0,s.end=e+2*u,t===i)return n=t+f,e=a.getFragmentRequestForTime(g,l,n,{ignoreIsFinished:!0}),void m(n,function(){_(!0,n)},function(){p((0,b.default)(r).create(n,d))},e)}_(!0,t)}function _(e,t){e?s.start=t:s.end=t,Math.floor(s.end-s.start)<=f?p((0,b.default)(r).create(e?t:t-f,d)):m(e=(s.start+s.end)/2,v,y,a.getFragmentRequestForTime(g,l,e,{ignoreIsFinished:!0}))}return l=s=null,c=!(e={execute:function(e,t){p=t,g=e.getStreamProcessor(),h=g.getFragmentLoader(),l=e.getTrackInfo(),f=l.fragmentDuration,t=l.DVRWindow,i=t.end,l.useCalculatedLiveEdgeTime?(e=n.getExpectedLiveEdge(),n.setExpectedLiveEdge(i),p((0,b.default)(r).create(e,d))):(s={start:Math.max(0,i-43200),end:i+43200},u=Math.floor((t.end-t.start)/2),e=a.getFragmentRequestForTime(g,l,i,{ignoreIsFinished:!0}),m(i,v,y,e))},reset:function(){c=!1,f=u=i=NaN,h=g=l=s=null}}),f=u=i=NaN,d=b.default.DEFAULT,e}i.__dashjs_factory_name="LiveEdgeBinarySearchRule",n.default=e.default.getClassFactory(i),t.exports=n.default},{203:203,204:204,207:207,324:324}],338:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(324)),e=r(e(204));function i(e){var i=this.context,o=e.timelineConverter;return{execute:function(e,t){var n=(e=e.getTrackInfo()).DVRWindow.end,r=a.default.DEFAULT;e.useCalculatedLiveEdgeTime?(e=o.getExpectedLiveEdge(),o.setExpectedLiveEdge(n),t((0,a.default)(i).create(e,r))):t((0,a.default)(i).create(n,r))}}}i.__dashjs_factory_name="LiveEdgeWithTimeSynchronizationRule",n.default=e.default.getClassFactory(i),t.exports=n.default},{204:204,324:324}],339:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),o=r(e(231)),a=r(e(337)),s=r(e(338)),u=r(e(209)),l="withAccurateTimeSourceRules",c="bestGuestRules";function f(){var e=this.context,t=void 0,n=void 0;return{initialize:function(){n=[],(t=[]).push((0,s.default)(e).create({timelineConverter:(0,o.default)(e).getInstance()})),n.push((0,a.default)(e).create({timelineConverter:(0,o.default)(e).getInstance(),adapter:(0,u.default)(e).getInstance()}))},getRules:function(e){switch(e){case l:return t;case c:return n;default:return null}}}}f.__dashjs_factory_name="SynchronizationRulesCollection";e=i.default.getSingletonFactory(f);e.TIME_SYNCHRONIZED_RULES=l,e.BEST_GUESS_RULES=c,n.default=e,t.exports=n.default},{204:204,209:209,231:231,337:337,338:338}],340:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(203)),l=r(e(207)),c=r(e(216)),f=r(e(256)),d=r(e(334)),p=r(e(333)),e=r(e(204)),h="Failed to resolve a valid URL";function i(){var e,t=this.context,i=(0,u.default)(t).getInstance(),n=(0,c.default)(t).getInstance(),r=void 0,o=void 0,a=void 0,s=void 0;return e={chooseSelectorFromManifest:function(e){s=n.getIsDVB(e)?a:o},select:function(e){var t,n=e.baseUrls,r=e.selectedIdx;return isNaN(r)?(t=s.select(n))?(e.selectedIdx=n.indexOf(t),t):void i.trigger(l.default.URL_RESOLUTION_FAILED,{error:new Error(1,h)}):n[r]},reset:function(){r.reset()}},r=(0,f.default)(t).create({updateEventName:l.default.SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:l.default.FRAGMENT_LOADING_COMPLETED}),o=(0,p.default)(t).create({blacklistController:r}),a=(0,d.default)(t).create({blacklistController:r}),s=o,e}i.__dashjs_factory_name="BaseURLSelector";e=e.default.getClassFactory(i);e.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=1,e.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=h,n.default=e,t.exports=n.default},{203:203,204:204,207:207,216:216,256:256,333:333,334:334}],341:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(348)),o=r(e(204)),a=r(e(9));function s(){var n=this.context;return{parse:function(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var e=a.default.parseBuffer(e),t=(0,i.default)(n).create();return t.setData(e),t}}}s.__dashjs_factory_name="BoxParser",n.default=o.default.getSingletonFactory(s),t.exports=n.default},{204:204,348:348,9:9}],342:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){var e,t=void 0;return t=!(e={supportsMediaSource:function(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t},supportsEncryptedMedia:function(){return t},supportsCodec:function(e,t){return"probably"===(e=e.canPlayType(t))||"maybe"===e},setEncryptedMediaSupported:function(e){t=e}}),e}r.__dashjs_factory_name="Capabilities",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],343:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){return{customTimeRangeArray:[],length:0,add:function(e,t){for(var n=0,n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,t){var n=this.customTimeRangeArray[e],r=this.customTimeRangeArray[t];return n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(n.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(n.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)},start:function(e){return this.customTimeRangeArray[e].start},end:function(e){return this.customTimeRangeArray[e].end}}}r.__dashjs_factory_name="CustomTimeRanges",n.default=e.default.getClassFactory(r),t.exports=n.default},{204:204}],344:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),u=r(e(295)),l=r(e(202)),c=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],f="dashjs_?_bitrate",d="dashjs_?_settings",p="localStorage";function o(){var e,t=this.context,o=(0,l.default)(t).getInstance().log,n=void 0,a=void 0;function r(e){if(void 0===n){n=!1;var t;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return o("Warning: DOMStorage access denied: "+e.message),n}if(t&&(e===p||"sessionStorage"===e))try{t.setItem("1","1"),t.removeItem("1"),n=!0}catch(e){o("Warning: DOMStorage is supported, but cannot be used: "+e.message)}}return n}function i(){return 6e5*Math.round((new Date).getTime()/6e5)}function s(e,t){return r(e)&&a["get"+t+"CachingInfo"]().enabled}return e={getSavedBitrateSettings:function(e){var t,n,r,i=NaN;return s(p,"LastBitrate")&&(t=f.replace(/\?/,e),r=JSON.parse(localStorage.getItem(t))||{},n=(new Date).getTime()-parseInt(r.timestamp,10)>=a.getLastBitrateCachingInfo().ttl||!1,r=parseInt(r.bitrate,10),isNaN(r)||n?n&&localStorage.removeItem(t):o("Last saved bitrate for "+e+" was "+(i=r))),i},setSavedBitrateSettings:function(e,t){if(s(p,"LastBitrate")&&t){e=f.replace(/\?/,e);try{localStorage.setItem(e,JSON.stringify({bitrate:t/1e3,timestamp:i()}))}catch(e){o(e.message)}}},getSavedMediaSettings:function(e){var t,n;return s(p,"LastMediaSettings")?(e=d.replace(/\?/,e),n=JSON.parse(localStorage.getItem(e))||{},t=(new Date).getTime()-parseInt(n.timestamp,10)>=a.getLastMediaSettingsCachingInfo().ttl||!1,n=n.settings,t&&(localStorage.removeItem(e),n=null),n):null},setSavedMediaSettings:function(e,t){if(s(p,"LastMediaSettings")){e=d.replace(/\?/,e);try{localStorage.setItem(e,JSON.stringify({settings:t,timestamp:i()}))}catch(e){o(e.message)}}},isSupported:r},a=(0,u.default)(t).getInstance(),r(p)&&c.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){o(e.message)}}}),e}o.__dashjs_factory_name="DOMStorage";e=i.default.getSingletonFactory(o);n.default=e,t.exports=n.default},{202:202,204:204,295:295}],345:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),o=r(e(357));function a(e){var n=void 0,s=new DataView(e.data),u=0;function r(e,t){var n=!0,r=0;if(void 0===t&&(t=!1),r=16777215<e.tag?(s.getUint32(u)!==e.tag&&(n=!1),4):65535<e.tag?(256*s.getUint16(u)+s.getUint8(u+2)!==e.tag&&(n=!1),3):255<e.tag?(s.getUint16(u)!==e.tag&&(n=!1),2):(s.getUint8(u)!==e.tag&&(n=!1),1),n||!e.required||t)return n&&(u+=r),n;throw new o.default("required tag not found")}function i(e){for(var t=1,n=128,r=-1,i=0,o=s.getUint8(u),a=void 0,a=0;a<8;a+=1){if((o&n)===n){i=void 0===e?o&~n:o,r=a;break}n>>=1}for(a=0;a<r;a+=1,t+=1)i=i<<8|255&s.getUint8(u+t);return u+=t,i}return n={getPos:function(){return u},setPos:function(e){u=e},consumeTag:r,consumeTagAndSize:function(e,t){return(e=r(e,t))&&i(),e},parseTag:function(e){var t;return r(e),t=i(),n[e.parse](t)},skipOverElement:function(e,t){return(e=r(e,t))&&(t=i(),u+=t),e},getMatroskaCodedNum:i,getMatroskaFloat:function(e){var t=void 0;switch(e){case 4:t=s.getFloat32(u),u+=4;break;case 8:t=s.getFloat64(u),u+=8}return t},getMatroskaUint:function(e){for(var t=0,n=void 0,n=0;n<e;n+=1)t=(t<<=8)|255&s.getUint8(u+n);return u+=e,t},moreData:function(){return u<s.byteLength}}}a.__dashjs_factory_name="EBMLParser",n.default=i.default.getClassFactory(a),t.exports=n.default},{204:204,357:357}],346:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(203)),a=r(e(207)),e=r(e(204));function i(){var e=this.context,i=(0,o.default)(e).getInstance();return{capabilityError:function(e){i.trigger(a.default.ERROR,{error:"capability",event:e})},downloadError:function(e,t,n){i.trigger(a.default.ERROR,{error:"download",event:{id:e,url:t,request:n}})},manifestError:function(e,t,n,r){i.trigger(a.default.ERROR,{error:"manifestError",event:{message:e,id:t,manifest:n,event:r}})},timedTextError:function(e,t,n){i.trigger(a.default.ERROR,{error:"cc",event:{message:e,id:t,cc:n}})},mediaSourceError:function(e){i.trigger(a.default.ERROR,{error:"mediasource",event:e})},mediaKeySessionError:function(e){i.trigger(a.default.ERROR,{error:"key_session",event:e})},mediaKeyMessageError:function(e){i.trigger(a.default.ERROR,{error:"key_message",event:e})}}}i.__dashjs_factory_name="ErrorHandler";e=e.default.getSingletonFactory(i);e.CAPABILITY_ERROR_MEDIASOURCE="mediasource",e.CAPABILITY_ERROR_MEDIAKEYS="mediakeys",e.DOWNLOAD_ERROR_ID_MANIFEST="manifest",e.DOWNLOAD_ERROR_ID_SIDX="SIDX",e.DOWNLOAD_ERROR_ID_CONTENT="content",e.DOWNLOAD_ERROR_ID_INITIALIZATION="initialization",e.DOWNLOAD_ERROR_ID_XLINK="xlink",e.MANIFEST_ERROR_ID_CODEC="codec",e.MANIFEST_ERROR_ID_PARSE="parse",e.MANIFEST_ERROR_ID_NOSTREAMS="nostreams",e.TIMED_TEXT_ERROR_ID_PARSE="parse",n.default=e,t.exports=n.default},{203:203,204:204,207:207}],347:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){var i={};return{save:function(e){var t=e.streamId,n=e.mediaInfo.type,r=e.quality;i[t]=i[t]||{},i[t][n]=i[t][n]||{},i[t][n][r]=e},extract:function(e,t,n){return i[e][t][n]},reset:function(){i={}}}}r.__dashjs_factory_name="InitCache",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],348:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var y=r(e(360)),e=r(e(204));function i(){var a=void 0,i=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0;function t(e){for(var t,n=a.fetchAll(e),r=[],i=0,o=n.length;i<o;i++)(t=m(n[i]))&&r.push(t);return r}function g(e,t,n){for(var r in n)t[r]=e[n[r]]}function m(e){if(!e)return null;var t,n,r=new y.default;switch(g(e,r,i),e.hasOwnProperty("_incomplete")&&(r.isComplete=!e._incomplete),r.type){case"sidx":if(g(e,r,o),r.references)for(t=0,n=r.references.length;t<n;t++)g(e.references[t],r.references[t],s);break;case"emsg":g(e,r,u);break;case"mdhd":g(e,r,l);break;case"mfhd":g(e,r,c);break;case"tfhd":g(e,r,f);break;case"tfdt":g(e,r,d);break;case"trun":if(g(e,r,p),r.samples)for(t=0,n=r.samples.length;t<n;t++)g(e.samples[t],r.samples[t],h)}return r}return i={offset:"_offset",size:"size",type:"type"},o={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"},s={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"},u={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"},l={timescale:"timescale"},c={sequence_number:"sequence_number"},f={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"},d={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"},p={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"},h={sample_size:"sample_size",sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"},{getBox:function(e){return e&&a&&a.boxes&&0!==a.boxes.length?m(a.fetch(e)):null},getBoxes:t,setData:function(e){a=e},getLastBox:function(){var e;return a&&a.boxes&&a.boxes.length?(e=t(a.boxes[a.boxes.length-1].type))[e.length-1]:null},getOffset:function(){return a._cursor.offset}}}i.__dashjs_factory_name="IsoFile",n.default=e.default.getClassFactory(i),t.exports=n.default},{204:204,360:360}],349:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var p=r(e(339)),h=r(e(357)),g=r(e(203)),m=r(e(207)),y=r(e(323)),e=r(e(204));function i(){var n=this.context,r=(0,g.default)(n).getInstance(),i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,t=void 0,l=void 0,c=void 0;function e(){s=!1,u=NaN}function f(e){var t=((new Date).getTime()-u)/1e3;l=e.value,r.trigger(m.default.LIVE_EDGE_SEARCH_COMPLETED,{liveEdge:l,searchTime:t,error:null===l?new h.default(1,"live edge has not been found",null):null})}function d(e){!o.isDynamic()||s||e.error||(c=i.isTimeSyncCompleted()?p.default.TIME_SYNCHRONIZED_RULES:p.default.BEST_GUESS_RULES,t=(0,p.default)(n).getInstance().getRules(c),s=!0,u=(new Date).getTime(),a.applyRules(t,o,f,null,function(e,t){return t}))}return{initialize:function(e,t){i=e,o=t,s=!1,u=NaN,a=(l=null,y.default)(n).getInstance(),c=p.default.BEST_GUESS_RULES,r.on(m.default.STREAM_INITIALIZED,d,this)},abortSearch:e,getLiveEdge:function(){return l},reset:function(){r.off(m.default.STREAM_INITIALIZED,d,this),e(),s=!1,u=NaN,a=c=o=i=l=null}}}i.__dashjs_factory_name="LiveEdgeFinder";e=e.default.getSingletonFactory(i);e.LIVE_EDGE_NOT_FOUND_ERROR_CODE=1,n.default=e,t.exports=n.default},{203:203,204:204,207:207,323:323,339:339,357:357}],350:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){return{areSimpleEquivalent:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}}}r.__dashjs_factory_name="ObjectUtils",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],351:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){return{modifyRequestURL:function(e){return e},modifyRequestHeader:function(e){return e}}}r.__dashjs_factory_name="RequestModifier",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],352:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),ge=r(e(4)),o=r(e(202));function a(){var e=this.context,z=(0,o.default)(e).getInstance().log,r=void 0,H=void 0,q=void 0,K=void 0,W=void 0,Y=void 0,X=void 0,Q=void 0,Z=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,a=void 0,d=void 0,J=void 0,t=0;function ee(e){return e.hasOwnProperty("begin")&&e.hasOwnProperty("end")?[ne(e.begin),ne(e.end)]:null}function te(){var e="cue_TTML_"+t;return t++,e}function he(e,t,n){var r,i,o=ne(e.begin),e=ne(e.end);return i=o,r=t,o=i="undefined"!=typeof startInterval&&i<r?r:i,r=e,e=r=void 0!==(i=n)&&i<r?i:r,void 0!==t&&void 0!==n&&(e<t||n<o)?(z("TTML: Cue "+o+"-"+e+" outside interval "+t+"-"+n),null):[o,e]}function ne(e){var t,n;if(!r.test(e))return NaN;if(e=e.split(":"),t=3600*parseFloat(e[0])+60*parseFloat(e[1])+parseFloat(e[2]),e[3]){if(!(n=H.tt.frameRate)||isNaN(n))return NaN;t+=parseFloat(e[3])/n}return t}function re(t,n){var e=Object.keys(t).filter(function(e){return("xmlns"===e.split(":")[0]||"xmlns"===e.split(":")[1])&&t[e]===n}).map(function(e){return e.split(":")[2]||e.split(":")[1]});return 1!=e.length?null:e[0]}function p(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function h(e){var e=e.slice(1).match(/.{2}/g),t=parseFloat(parseInt(parseInt(e[3],16)/255*1e3,10)/1e3);return"rgba("+e.slice(0,3).map(function(e){return parseInt(e,16)}).join(",")+","+t+");"}function ie(e,t){for(var n=0;n<t.length;n++)if(-1<t[n].indexOf(e))return 1}function oe(e,t){for(var n=0;n<t.length;n++)if(-1<t[n].indexOf(e))return t[n];return null}function ae(e,t){t.splice(t.indexOf(oe(e,t)),1)}function se(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)e[n]&&-1<e[n].split(":")[0].indexOf(t[r].split(":")[0])&&e.splice(n,1);return e.concat(t)}function ue(e,t,n){var r=[];return e.match(/\S+/g).forEach(function(e){var e=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}(q,e);e&&(e=function(e,t,n){var r,i,o,a=[];for(r in e)e.hasOwnProperty(r)&&(e[p(r.replace("ebutts:","").replace("xml:","").replace("tts:",""))]=e[r],delete e[r]);return"line-padding"in e&&(i=parseFloat(e["line-padding"].slice(e["line-padding"].indexOf(":")+1,e["line-padding"].indexOf("c"))),"id"in e&&(X[e.id]=i),i=i*t[0]+"px;",a.push("padding-left:"+i),a.push("padding-right:"+i)),"font-size"in e&&(i=parseFloat(e["font-size"].slice(e["font-size"].indexOf(":")+1,e["font-size"].indexOf("%"))),"id"in e&&(W[e.id]=i),i=i/100*t[1]+"px;",a.push("font-size:"+i)),"line-height"in e&&("normal"===e["line-height"]?a.push("line-height: normal;"):(i=parseFloat(e["line-height"].slice(e["line-height"].indexOf(":")+1,e["line-height"].indexOf("%"))),"id"in e&&(Y[e.id]=i),i=i/100*t[1]+"px;",a.push("line-height:"+i))),"font-family"in e&&(e["font-family"]in s?a.push(s[e["font-family"]]):a.push("font-family:"+e["font-family"]+";")),"text-align"in e&&e["text-align"]in u&&(a.push(u[e["text-align"]][0]),a.push(u[e["text-align"]][1])),"multi-row-align"in e&&(ie("text-align",a)&&"auto"!=e["multi-row-align"]&&ae("text-align",a),e["multi-row-align"]in l)&&a.push(l[e["multi-row-align"]]),"background-color"in e&&(-1<e["background-color"].indexOf("#")&&e["background-color"].length-1==8?(o=h(e["background-color"]),a.push("background-color: "+o)):a.push("background-color:"+e["background-color"]+";")),"color"in e&&(-1<e.color.indexOf("#")&&e.color.length-1==8?(o=h(e.color),a.push("color: "+o)):a.push("color:"+e.color+";")),"wrap-option"in e&&(e["wrap-option"]in c?a.push(c[e["wrap-option"]]):a.push("white-space:"+e["wrap-option"])),"unicode-bidi"in e&&(e["unicode-bidi"]in f?a.push(f[e["unicode-bidi"]]):a.push("unicode-bidi:"+e["unicode-bidi"])),"font-style"in e&&a.push("font-style:"+e["font-style"]+";"),"font-weight"in e&&a.push("font-weight:"+e["font-weight"]+";"),"direction"in e&&a.push("direction:"+e.direction+";"),"text-decoration"in e&&a.push("text-decoration:"+e["text-decoration"]+";"),n&&(a=a.concat(ce(e,t))),H.tt.hasOwnProperty("xml:space")&&"preserve"===H.tt["xml:space"]&&a.push("white-space: pre;"),a}(JSON.parse(JSON.stringify(e)),t,n),r=r.concat(e))}),r}function le(e,t){var n=/([\d\.]+)(%|px)\s+([\d\.]+)(%|px)/;if("tts:extent"in e&&"tts:origin"in e){var r=n.exec(e["tts:extent"]),i=n.exec(e["tts:origin"]);if(null===r||null===i)return z("Bad extent or origin: "+e["tts:extent"]+" "+e["tts:origin"]),null;var e=parseFloat(r[1]),o=parseFloat(r[3]),a=parseFloat(i[1]),s=parseFloat(i[3]);if(t){n=n.exec(t);if(null===n||"px"!==n[2]||"px"!==n[4])return z("Bad tt.extent: "+t),null;t=parseFloat(n[1]),n=parseFloat(n[3]);"px"===r[2]&&(e=e/t*100),"px"===r[4]&&(o=o/n*100),"px"===i[2]&&(a=a/t*100),"px"===i[4]&&(s=s/n*100)}return{left:a,top:s,width:e,height:o}}return null}function ce(e,t){var n,r,i=[];for(n in e){var o=n.replace("tts:","");e[o=p(o=o.replace("xml:",""))]=e[n],o!==n&&delete e[n]}return"extent"in e&&(r=e.extent.split(/\s/),i.push("width: "+r[0]+";"),i.push("height: "+r[1]+";")),"origin"in e&&(r=e.origin.split(/\s/),i.push("left: "+r[0]+";"),i.push("top: "+r[1]+";")),"display-align"in e&&i.push(a[e["display-align"]]),"writing-mode"in e&&i.push(d[e["writing-mode"]]),"style"in e&&(r=ue(e.style,t,!0),i=i.concat(r)),"padding"in e&&i.push("padding:"+e.padding+";"),"overflow"in e&&i.push("overflow:"+e.overflow+";"),"show-background"in e&&i.push("show-background:"+e["show-background"]+";"),"id"in e&&i.push("regionID:"+e.id+";"),i}function fe(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function de(e,t){var n=[];return e.match(/\S+/g).forEach(function(e){var e=fe(K,e);e&&(e=ce(JSON.parse(JSON.stringify(e)),t),n=n.concat(e))}),n}function pe(e,t){for(var n in t)!t.hasOwnProperty(n)||ie(n,e)||e.push(n+":"+t[n])}return r=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/,W={},Y={},X={},Q={top:"auto;",left:"auto;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"},Z={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;","font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"},s={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;",default:"font-family: monospace, sans-serif;"},u={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]},l={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""},c={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"},f={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",bidiOverride:"unicode-bidi: bidi-override;"},a={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"},d={lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"},{parse:function(e,t,n){var r,i=void 0,o=void 0,a="",s=new ge.default([],"",!1);if(!(H=s.xml_str2json(e)))throw new Error("TTML document could not be parsed");if(J.getTTMLRenderingDiv()&&(o="html"),!(i=H.tt))throw new Error("TTML document lacks tt element");if((s=re(i,"http://www.w3.org/ns/ttml"))&&!function e(t,n){for(var r in t)if(t.hasOwnProperty(r)){if(("object"==typeof t[r]||t[r]instanceof Object)&&!Array.isArray(t[r]))e(t[r],n);else if(Array.isArray(t[r]))for(var i=0;i<t[r].length;i++)e(t[r][i],n);var o=r.slice(r.indexOf(n)+n.length+1);t[o]=t[r],delete t[r]}}(i,s),r=i["tts:extent"],!(e=i.head))throw new Error("TTML document lacks head element");if(e.layout&&(K=e.layout.region_asArray),e.styling&&(q=e.styling.style_asArray),!i.body)throw new Error("TTML document lacks body element");var u=H.tt.hasOwnProperty("ttp:cellResolution")?H.tt["ttp:cellResolution"].split(" ").map(parseFloat):[32,15],F=J.getElement().clientWidth,k=J.getElement().clientHeight,l=[F/u[0],k/u[1]],U=(Z["font-size"]=l[1]+"px;",[]);if(K)for(var c=0;c<K.length;c++)U.push(ce(JSON.parse(JSON.stringify(K[c])),l));for(var f,d,p,s=re(H.tt,"http://www.w3.org/ns/ttml#parameter"),h=(i.hasOwnProperty(s+":frameRate")&&(i.frameRate=parseInt(i[s+":frameRate"],10)),[]),j=i.body_asArray[0].__children,g=0;g<j.length;g++){var m,y=j[g].div;if(null!==(m=ee(y))){var v=void 0,_=(v=(v=y.region?le(fe(K,y.region),r):v)||le(y,r),i.head.metadata.image_asArray);if(void 0!==y["smpte:backgroundImage"])for(var b=0;b<_.length;b++)"#"+_[b]["xml:id"]===y["smpte:backgroundImage"]&&h.push({start:m[0],end:m[1],id:te(),data:"data:image/"+_[b].imagetype.toLowerCase()+";base64, "+_[b].__text,type:"image",layout:v})}else{var T=y.p_asArray;if(null===m&&(!T||0===T.length))return z(a="TTML has div that contains no timing and no paragraphs."),h;for(var w=0;w<T.length;w++){var B,E=T[w],$=E.span_asArray,x=[];if(E.hasOwnProperty("begin")&&E.hasOwnProperty("end")?null!==(B=he(E,t,n))&&x.push(B):x=function(e,t,n){var r=[],i=[],o=[];function a(e,t){e.hasOwnProperty(t)&&(e=e[t],i.indexOf(e)<0)&&i.push(e)}for(var s=0;s<e.length;s++){var u=e[s];a(u,"begin"),a(u,"end")}if(0!==i.length){if(void 0!==t&&void 0!==n){for(s=0;s<i.length;s++){var l=ne(i[s]);t<l&&l<n&&r.push(l)}r.push(t),r.push(n)}else for(s=0;s<i.length;s++)r.push(ne(i[s]));r.sort(function(e,t){return e-t});for(s=0;s<r.length-1;s++)o.push([r[s],r[s+1]])}return o}($,t,n),0===x.length)a="TTML: Empty paragraph";else for(var V=E.__children,S=0;S<x.length;S++){for(var O,A,I,P,D,R,C,M=x[S],N=[],L=0;L<V.length;L++){var G=V[L];d=M,p=!0,(p=(f=G).hasOwnProperty("span")&&null!==(f=ee(f.span))?f[0]<d[1]&&f[1]>d[0]:p)&&N.push(G)}0!==N.length&&("html"===o?(Y={},X={},W={},O=function(e,t,n){var r,i=[],e=e.region,t=t.region;t&&(r=de(t,n));e?(t=i.concat(de(e,n)),i=r?se(r,t):t):r&&(i=r);return pe(i,Q),i}(E,y,l),P=(A=function(e,t){var n,r,i=[],e=e.style,o=H.tt.body.style,a=H.tt.body.div.style,s="";o&&(n=ue(o,t),s="paragraph "+o);a&&(r=ue(a,t),n?(r=se(n,r),s+=" "+a):s="paragraph "+a);e?(o=ue(e,t),n&&r?(i=se(r,o),s+=" "+e):n?(i=se(n,o),s+=" "+e):r?(i=se(r,o),s+=" "+e):(i=o,s="paragraph "+e)):n&&!r?i=n:!n&&r&&(i=r);return pe(i,Z),[i,s]}(E,l))[1],A=A[0],(I=document.createElement("div")).className=P,(P=function(e,i){var o=document.createElement("div");return e.forEach(function(e){var n,r,t;e.hasOwnProperty("metadata")||(e.hasOwnProperty("span")?(n=e.span.__children,r=document.createElement("span"),e.span.hasOwnProperty("style")&&(t=ue(e.span.style,i),r.className="spanPadding "+e.span.style,r.style.cssText=t.join(" ")),n.forEach(function(e){var t;n.hasOwnProperty("metadata")||(e.hasOwnProperty("#text")?(t=document.createTextNode(e["#text"]),r.appendChild(t)):"br"in e&&(r.hasChildNodes()&&o.appendChild(r),(t=document.createElement("br")).className="lineBreak",o.appendChild(t),(e=document.createElement("span")).className=r.className,e.style.cssText=r.style.cssText,r=e))}),o.appendChild(r)):e.hasOwnProperty("br")?((t=document.createElement("br")).className="lineBreak",o.appendChild(t)):e.hasOwnProperty("#text")&&((t=document.createElement("span")).textContent=e["#text"],o.appendChild(t)))}),o}(N,l)).className="cueDirUniWrapper",ie("unicode-bidi",A)&&(P.style.cssText+=oe("unicode-bidi",A),ae("unicode-bidi",A)),ie("direction",A)&&(P.style.cssText+=oe("direction",A),ae("direction",A)),ie("padding-left",A)&&ie("padding-right",A)&&(P.innerHTML=function(e,t){var n=oe("padding-left",t),t=oe("padding-right",t),a=n.concat(" "+t+" "),s="",u="",l="",c=Array.prototype.slice.call(e.children),r=e.getElementsByClassName("lineBreak")[0],i=c.indexOf(r),f=[];for(;-1!=i;)f.push(i),i=c.indexOf(r,i+1);var d="</span>",p="<br>",h='<span class="spanPadding" style="-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(f.length)f.forEach(function(e,t){if(0===t){for(var n="",r=0;r<e;r++)s+=c[r].outerHTML,0===r&&(n=a.concat(c[r].style.cssText));s=h+n+'">'+s}for(var i="",o=e+1;o<c.length;o++)u+=c[o].outerHTML,o===c.length-1&&(i+=a.concat(c[o].style.cssText));u=h+i+'">'+u,s&&u&&t===f.length-1?l+=s+d+p+u+d:s&&u&&t!==f.length-1?l+=s+d+p+u+d+p:s&&!u?l+=s+d:!s&&u&&t===f.length-1?l+=u+d:!s&&u&&t!==f.length-1&&(l+=u+d+p)});else{for(var o="",g=0;g<c.length;g++)o+=c[g].style.cssText;l=h+a+o+'">'+e.innerHTML+d}return l}(P,A)),ie("padding-left",A)&&ie("padding-right",A)&&(ae("padding-left",A),ae("padding-right",A)),D="",ie("regionID",O)&&(D=(R=oe("regionID",O)).slice(R.indexOf(":")+1,R.length-1)),A&&(I.style.cssText=A.join(" ")+"display:flex;"),O=O&&O.join(" "),I.appendChild(P),(R=document.createElement("div")).appendChild(I),R.id=te(),R.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+O,0===Object.keys(W).length&&(W.defaultFontSize="100"),h.push({start:M[0],end:M[1],type:"html",cueHTMLElement:R,regions:U,regionID:D,cueID:R.id,videoHeight:k,videoWidth:F,cellResolution:u,fontSize:W||{defaultFontSize:"100"},lineHeight:Y,linePadding:X})):(C="",N.length&&N.forEach(function(e){var t;e.hasOwnProperty("span")?(t=e.span.__children).forEach(function(e){t.hasOwnProperty("metadata")||(e.hasOwnProperty("#text")?C+=e["#text"].replace(/[\r\n]+/gm," ").trim():"br"in e&&(C+="\n"))}):e.hasOwnProperty("br")?C+="\n":C+=e["#text"].replace(/[\r\n]+/gm," ").trim()}),h.push({start:M[0],end:M[1],data:C,type:"text"})))}}}}if(""!==a&&z(a),0<h.length)return h;throw new Error(a)},setConfig:function(e){e&&e.videoModel&&(J=e.videoModel)}}}a.__dashjs_factory_name="TTMLParser",n.default=i.default.getSingletonFactory(a),t.exports=n.default},{202:202,204:204,4:4}],353:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(204),e=(e=e)&&e.__esModule?e:{default:e};function r(){var t=/^(?:(?:[a-z]+:)?\/)?\//i,n=/^https?:\/\//i,r=/^(https?:\/\/[^\/]+)\/?/i;return{parseBaseUrl:function(e){var t="";return t=-1!==e.indexOf("/")?(e=-1!==e.indexOf("?")?e.substring(0,e.indexOf("?")):e).substring(0,e.lastIndexOf("/")+1):t},parseOrigin:function(e){return(e=e.match(r))?e[1]:""},isRelative:function(e){return!t.test(e)},isPathAbsolute:function(e){return t.test(e)&&"/"===e.charAt(0)},isHTTPURL:function(e){return n.test(e)}}}r.__dashjs_factory_name="URLUtils",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{204:204}],354:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(204)),o=r(e(202));function a(){var e=this.context,l=(0,o.default)(e).getInstance().log,c=void 0,f=void 0,d=void 0,p=void 0;function h(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2==n&&(e+=3600*parseInt(t[0],10)),e}return c=/(?:\r\n|\r|\n)/gm,f=/-->/,d=/(^[\s]+|[\s]+$)/g,p=/\s\b/g,{parse:function(e){for(var t=[],n=(e=e.split(c)).length,r=-1,i=0;i<n;i++){var o,a,s,u=e[i];0<u.length&&"WEBVTT"!==u&&u.match(f)&&(s=void 0,u=(u=u).split(f),(s=u[1].split(p)).shift(),u[1]=s[0],s.shift(),s=(u={cuePoints:u,styles:function(e){var n={};return e.forEach(function(e){var t;1<e.split(/:/).length&&((t=e.split(/:/)[1])&&-1!=t.search(/%/)&&(t=parseInt(t.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(n.align=t),(e.match(/line/)||e.match(/L/))&&(n.line=t),(e.match(/position/)||e.match(/P/))&&(n.position=t),e.match(/size/)||e.match(/S/))&&(n.size=t)}),n}(s)}).cuePoints,u=u.styles,o=function(e,t){var n,r=t,i="",o="";for(;""!==e[r]&&r<e.length;)r++;if(1<(n=r-t))for(var a=0;a<n;a++){if((o=e[t+a]).match(f)){i="";break}i+=o,a!==n-1&&(i+="\n")}else(o=e[t]).match(f)||(i=o);return decodeURI(i)}(e,i+1),a=h(s[0].replace(d,"")),s=h(s[1].replace(d,"")),!isNaN(a)&&!isNaN(s)&&r<=a&&a<s?""!==o?t.push({start:r=a,end:s,data:o,styles:u}):l("Skipping cue due to empty/malformed cue text"):l("Skipping cue due to incorrect cue timing"))}return t}}}a.__dashjs_factory_name="VTTParser",n.default=i.default.getSingletonFactory(a),t.exports=n.default},{202:202,204:204}],355:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.qualityIndex=NaN},t.exports=n.default},{}],356:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN},t.exports=n.default},{}],357:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.code=t||null,this.message=n||null,this.data=r||null},t.exports=n.default},{}],358:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.action=r.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer"}r.ACTION_DOWNLOAD="download",r.ACTION_COMPLETE="complete",n.default=r,t.exports=n.default},{}],359:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(358),e=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");!function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(((e=e)&&e.__esModule?e:{default:e}).default);n.default=e,t.exports=n.default},{358:358}],360:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.offset=NaN,this.type=null,this.size=NaN,this.isComplete=!0},t.exports=n.default},{}],361:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null},t.exports=n.default},{}],362:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null},t.exports=n.default},{}],363:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[],this.BolaState=[]},t.exports=n.default},{}],364:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isFirst=!0},t.exports=n.default},{}],365:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(358),e=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");!function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n,r=!1,s=(null===i&&(i=Function.prototype),Object.getOwnPropertyDescriptor(i,o));if(void 0!==s)return"value"in s?s.value:void 0===(u=s.get)?void 0:u.call(a);var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.url=e||null,this.type=t||null,this.mediaType="stream",this.responseType="text"}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),n}(((e=e)&&e.__esModule?e:{default:e}).default);n.default=e,t.exports=n.default},{358:358}],366:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.video=null,this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1},t.exports=n.default},{}],367:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},t.exports=n.default},{}],368:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null},t.exports=n.default},{}],369:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._s=void 0},t.exports=n.default},{}],370:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.t=null,this.level=null},t.exports=n.default},{}],371:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(257),r=(e=e)&&e.__esModule?e:{default:e};n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.target=null,this.state=r.default.BUFFER_EMPTY},t.exports=n.default},{257:257}],372:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.time=null,this.range=null,this.manifestInfo=null},t.exports=n.default},{}],373:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.time=null,this.droppedFrames=null},t.exports=n.default},{}],374:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});function i(){r(this,i),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null}function o(){r(this,o),this.s=null,this.d=null,this.b=[]}i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",n.HTTPRequest=i,n.HTTPRequestTrace=o},{}],375:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});function i(){r(this,i),this.id=null,this.index=null,this.start=null,this.duration=null}function o(){r(this,o),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}n.ManifestUpdate=function e(){r(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.trackInfo=[]},n.ManifestUpdateStreamInfo=i,n.ManifestUpdateTrackInfo=o},{}],376:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});function i(){r(this,i),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]}function o(){r(this,o),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null}i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start";o.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",o.REBUFFERING_REASON="rebuffering",o.USER_REQUEST_STOP_REASON="user_request",o.END_OF_PERIOD_STOP_REASON="end_of_period",o.END_OF_CONTENT_STOP_REASON="end_of_content",o.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",o.FAILURE_STOP_REASON="failure",n.PlayList=i,n.PlayListTrace=o},{}],377:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.t=null,this.mt=null,this.to=null,this.lto=null},t.exports=n.default},{}],378:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.loadingRequests=[],this.executedRequests=[]},t.exports=n.default},{}],379:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},t.exports=n.default},{}],380:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null},t.exports=n.default},{}]},{},[5]);
//# sourceMappingURL=dash.all.min.js.map